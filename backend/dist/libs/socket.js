'use strict';
function _0x1d1e() {
    const _0x41ae1d = [
        'split',
        'tenantId',
        ':notificat',
        '../errors/',
        '897EOmwiM',
        'OpprO',
        'disconnect',
        'findByPk',
        'next',
        'done',
        '1497110qpJpCK',
        ':joinTicke',
        'throw',
        '11271601TAhWhI',
        'register',
        'hhjsq',
        ':joinNotif',
        'oined\x20to\x20',
        'ired,\x20auth',
        'qEhZQ',
        'data',
        'pingInterv',
        'apply',
        'Server',
        'qduSI',
        'ned\x20a\x20tick',
        'not\x20initia',
        'amTTU',
        'default',
        'message',
        'id:',
        'join',
        'logger',
        'user',
        'profile',
        'warn',
        'EcbEX',
        'APoNP',
        '../models/',
        'fault',
        'tion\x20error',
        'then',
        '../utils/l',
        'HNCQN',
        'rldol',
        'socket.io',
        'token',
        'initIO',
        '__esModule',
        'hannel.',
        './socketCh',
        '18IjbKNA',
        '\x20tickets\x20c',
        'isValid',
        'pingTimeou',
        'handshake',
        'oEmKs',
        'Socket\x20exp',
        'email',
        'mXnKR',
        'ghubc',
        'name',
        'A\x20client\x20j',
        'et\x20channel',
        '1|4|0|3|2',
        'getIO',
        'KWwCh',
        'msSNT',
        '5xDEnQC',
        'entication',
        'CStsX',
        'User',
        'XRjri',
        'pGGbj',
        '2260258Rsuqjz',
        'nected\x20in\x20',
        'ent\x20discon',
        '1878UBrLxu',
        'kenSocket',
        'HCBlF',
        'riuhU',
        'TPVbi',
        'TWQZH',
        'pXlQw',
        'MUciF',
        'ogger',
        'use',
        'iUKxa',
        'nected\x20,\x20',
        'Socket\x20IO\x20',
        'at/Chat',
        '12KbfXgY',
        'AppError',
        '\x20warning.',
        'tenant',
        'lized',
        '__awaiter',
        '663321gdRhzJ',
        'origin',
        '3410308lQeYuw',
        'connection',
        'ion',
        'MAgJP',
        'assign',
        'fication\x20c',
        'lastLogin',
        'erty',
        'SOCKET\x20Cli',
        'PTThA',
        'cors',
        '4269512NDZxOg',
        '__importDe',
        'info',
        'id:\x20',
        ':joinChatB',
        'Client\x20joi',
        'resmX',
        'value',
        'ication',
        'rksEB',
        'Client\x20con',
        'lastOnline',
        'hannel\x20',
        'authentica',
        'status',
        './decodeTo',
        'IHCbg',
        'KgtYs',
        'mjXfO',
        'defineProp',
        'toString',
        'tokenInval',
        'attributes',
        'auth',
        'emit',
        'oined\x20noti'
    ];
    _0x1d1e = function () {
        return _0x41ae1d;
    };
    return _0x1d1e();
}
const _0x5e6cda = _0x5ca5;
(function (_0x8561cb, _0x508cfe) {
    const _0x23c7c0 = _0x5ca5, _0x32781d = _0x8561cb();
    while (!![]) {
        try {
            const _0x298d9a = -parseInt(_0x23c7c0(0x130)) / (-0x1665 + -0x11 * -0x170 + 0x57 * -0x6) * (-parseInt(_0x23c7c0(0x179)) / (-0x689 + 0x13 * 0x49 + -0x2 * -0x90)) + -parseInt(_0x23c7c0(0x18d)) / (-0x12 * -0xba + 0x23bd * 0x1 + -0x30ce) + parseInt(_0x23c7c0(0x18f)) / (0xaab * 0x2 + -0x162 + 0x74 * -0x2c) * (-parseInt(_0x23c7c0(0x170)) / (-0x1 * 0x895 + -0x1bdb + 0x2475)) + parseInt(_0x23c7c0(0x187)) / (0x23f9 * -0x1 + 0xa9 * -0xb + -0x2b42 * -0x1) * (parseInt(_0x23c7c0(0x176)) / (0x1e86 * -0x1 + 0x1c3d + 0x250)) + -parseInt(_0x23c7c0(0x112)) / (0x80d + 0x4 * 0x8a7 + -0x1 * 0x2aa1) + parseInt(_0x23c7c0(0x15f)) / (-0x1b54 + 0xbc9 + 0xf94) * (-parseInt(_0x23c7c0(0x136)) / (-0x8cf + -0x10bf + -0x75 * -0x38)) + parseInt(_0x23c7c0(0x139)) / (-0x4ad * -0x3 + 0x98f + -0x178b);
            if (_0x298d9a === _0x508cfe)
                break;
            else
                _0x32781d['push'](_0x32781d['shift']());
        } catch (_0x46fd14) {
            _0x32781d['push'](_0x32781d['shift']());
        }
    }
}(_0x1d1e, 0x101ccc * -0x1 + 0x5b05 + 0x1 * 0x1900d6));
var __awaiter = this && this[_0x5e6cda(0x18c)] || function (_0x3e9e8a, _0x4c8beb, _0x473d55, _0x408daf) {
        const _0x133bfc = _0x5e6cda, _0x1d762a = {
                'KgtYs': function (_0x51fdd6, _0x2709a4) {
                    return _0x51fdd6(_0x2709a4);
                },
                'iUKxa': function (_0x422a8e, _0x21ad9d) {
                    return _0x422a8e instanceof _0x21ad9d;
                },
                'resmX': function (_0x5d9de8, _0x55b02b) {
                    return _0x5d9de8(_0x55b02b);
                },
                'mjXfO': _0x133bfc(0x138),
                'qduSI': function (_0x42eb33, _0x2663e8) {
                    return _0x42eb33(_0x2663e8);
                },
                'riuhU': function (_0x3ddff1, _0x2d5dd8) {
                    return _0x3ddff1(_0x2d5dd8);
                }
            };
        function _0x4aa583(_0x257dbc) {
            const _0x2aced4 = _0x133bfc, _0x19f180 = {
                    'mXnKR': function (_0x10963b, _0x1ef1f8) {
                        const _0x1167cb = _0x5ca5;
                        return _0x1d762a[_0x1167cb(0x123)](_0x10963b, _0x1ef1f8);
                    }
                };
            return _0x1d762a[_0x2aced4(0x183)](_0x257dbc, _0x473d55) ? _0x257dbc : new _0x473d55(function (_0x3a3b74) {
                const _0x18444f = _0x2aced4;
                _0x19f180[_0x18444f(0x167)](_0x3a3b74, _0x257dbc);
            });
        }
        return new (_0x473d55 || (_0x473d55 = Promise))(function (_0x541825, _0x22750b) {
            const _0x2201c3 = _0x133bfc, _0x245ac0 = {
                    'pGGbj': function (_0x5b263f, _0xc9cd60) {
                        const _0x36608b = _0x5ca5;
                        return _0x1d762a[_0x36608b(0x144)](_0x5b263f, _0xc9cd60);
                    }
                };
            function _0x52e1bd(_0x68877b) {
                const _0x6451ec = _0x5ca5;
                try {
                    _0x245ac0[_0x6451ec(0x175)](_0x5823db, _0x408daf[_0x6451ec(0x134)](_0x68877b));
                } catch (_0x5c6557) {
                    _0x245ac0[_0x6451ec(0x175)](_0x22750b, _0x5c6557);
                }
            }
            function _0x3cf157(_0x42910e) {
                const _0x4ba88d = _0x5ca5;
                try {
                    _0x1d762a[_0x4ba88d(0x118)](_0x5823db, _0x408daf[_0x1d762a[_0x4ba88d(0x124)]](_0x42910e));
                } catch (_0x1a1a46) {
                    _0x1d762a[_0x4ba88d(0x118)](_0x22750b, _0x1a1a46);
                }
            }
            function _0x5823db(_0x1634c5) {
                const _0x404ef8 = _0x5ca5;
                _0x1634c5[_0x404ef8(0x135)] ? _0x1d762a[_0x404ef8(0x118)](_0x541825, _0x1634c5[_0x404ef8(0x119)]) : _0x1d762a[_0x404ef8(0x118)](_0x4aa583, _0x1634c5[_0x404ef8(0x119)])[_0x404ef8(0x155)](_0x52e1bd, _0x3cf157);
            }
            _0x1d762a[_0x2201c3(0x17c)](_0x5823db, (_0x408daf = _0x408daf[_0x2201c3(0x142)](_0x3e9e8a, _0x4c8beb || []))[_0x2201c3(0x134)]());
        });
    }, __importDefault = this && this[_0x5e6cda(0x113) + _0x5e6cda(0x153)] || function (_0x5740e3) {
        const _0x33c46d = _0x5e6cda;
        return _0x5740e3 && _0x5740e3[_0x33c46d(0x15c)] ? _0x5740e3 : { 'default': _0x5740e3 };
    };
const _0x41eaaf = {};
function _0x5ca5(_0x5c2595, _0x3ee005) {
    const _0x2f6b01 = _0x1d1e();
    return _0x5ca5 = function (_0x4fa98e, _0x2ae8eb) {
        _0x4fa98e = _0x4fa98e - (0x2674 + 0x2 * 0xb86 + -0x48 * 0xd7);
        let _0xa97a12 = _0x2f6b01[_0x4fa98e];
        return _0xa97a12;
    }, _0x5ca5(_0x5c2595, _0x3ee005);
}
_0x41eaaf[_0x5e6cda(0x119)] = !![], Object[_0x5e6cda(0x125) + _0x5e6cda(0x10e)](exports, _0x5e6cda(0x15c), _0x41eaaf), exports[_0x5e6cda(0x16d)] = exports[_0x5e6cda(0x15b)] = void (-0x1 * -0x251e + 0x1 * -0x12dc + -0x1242);
const socket_io_1 = require(_0x5e6cda(0x159)), AppError_1 = __importDefault(require(_0x5e6cda(0x12f) + _0x5e6cda(0x188))), decodeTokenSocket_1 = __importDefault(require(_0x5e6cda(0x121) + _0x5e6cda(0x17a))), logger_1 = require(_0x5e6cda(0x156) + _0x5e6cda(0x181)), User_1 = __importDefault(require(_0x5e6cda(0x152) + _0x5e6cda(0x173))), Chat_1 = __importDefault(require(_0x5e6cda(0x15e) + _0x5e6cda(0x186)));
let io;
const initIO = _0x373db6 => {
    const _0x5839b = _0x5e6cda, _0x45a047 = {
            'msSNT': function (_0xa0b19a, _0x3d288f) {
                return _0xa0b19a === _0x3d288f;
            },
            'EcbEX': function (_0x1fa4fe, _0x26e89f) {
                return _0x1fa4fe === _0x26e89f;
            },
            'KWwCh': function (_0x456285, _0x52a0c6) {
                return _0x456285 === _0x52a0c6;
            },
            'MAgJP': _0x5839b(0x165) + _0x5839b(0x13e) + _0x5839b(0x171) + _0x5839b(0x189),
            'IHCbg': function (_0x136452, _0x23b36f) {
                return _0x136452 === _0x23b36f;
            },
            'HCBlF': function (_0x168574, _0x26a6ab) {
                return _0x168574 === _0x26a6ab;
            },
            'MUciF': function (_0x1d2f16, _0x411541) {
                return _0x1d2f16(_0x411541);
            },
            'rldol': _0x5839b(0x12d),
            'hhjsq': _0x5839b(0x169),
            'rksEB': _0x5839b(0x166),
            'TWQZH': _0x5839b(0x14e),
            'OpprO': _0x5839b(0x120),
            'qEhZQ': _0x5839b(0x10d),
            'oEmKs': _0x5839b(0x11d),
            'pXlQw': function (_0x5dcb10) {
                return _0x5dcb10();
            },
            'amTTU': function (_0x529711, _0x2b4438) {
                return _0x529711(_0x2b4438);
            },
            'PTThA': _0x5839b(0x11f) + _0x5839b(0x154),
            'CStsX': function (_0x9ec66a, _0x1d1959) {
                return _0x9ec66a(_0x1d1959);
            },
            'HNCQN': _0x5839b(0x11c) + _0x5839b(0x177) + _0x5839b(0x18a),
            'XRjri': _0x5839b(0x16c),
            'ghubc': _0x5839b(0x132),
            'APoNP': _0x5839b(0x108)
        }, _0x1becdf = {};
    _0x1becdf[_0x5839b(0x18e)] = '*';
    const _0x4e4a10 = {};
    return _0x4e4a10[_0x5839b(0x111)] = _0x1becdf, _0x4e4a10[_0x5839b(0x162) + 't'] = 0x1d4c0, _0x4e4a10[_0x5839b(0x141) + 'al'] = 0xafc8, io = new socket_io_1[(_0x5839b(0x143))](_0x373db6, _0x4e4a10), io[_0x5839b(0x182)]((_0x624304, _0x58ef3f) => __awaiter(void (-0x1 * -0x23c5 + 0x18e7 + -0x3cac), void (0x239d * -0x1 + -0x1b * 0x19 + -0x90 * -0x44), void (0x6 * 0x1ff + 0xb * -0x172 + 0x3ec), function* () {
        const _0xb78fb9 = _0x5839b;
        var _0x11fd68, _0x2fdebb, _0x3227c2;
        try {
            const _0x203faf = _0x45a047[_0xb78fb9(0x16f)](_0x2fdebb = _0x45a047[_0xb78fb9(0x16f)](_0x11fd68 = _0x45a047[_0xb78fb9(0x150)](_0x624304, null) || _0x45a047[_0xb78fb9(0x16e)](_0x624304, void (0x892 * 0x1 + 0xed8 + -0x176a)) ? void (0x18b1 + -0x3b * 0x80 + 0x4cf) : _0x624304[_0xb78fb9(0x163)], null) || _0x45a047[_0xb78fb9(0x16f)](_0x11fd68, void (0x11b * 0x11 + -0x8 * 0x118 + -0xa0b * 0x1)) ? void (-0x3cf * 0x3 + 0x25af + 0x1a42 * -0x1) : _0x11fd68[_0xb78fb9(0x129)], null) || _0x45a047[_0xb78fb9(0x16e)](_0x2fdebb, void (-0x3 * 0x6d + -0x1d * -0x44 + 0x5 * -0x149)) ? void (-0x1d73 + -0x942 + 0x16f * 0x1b) : _0x2fdebb[_0xb78fb9(0x15a)];
            if (!_0x203faf)
                throw new Error(_0x45a047[_0xb78fb9(0x10a)]);
            const _0xad8a3d = (-0x2d + 0x1 * -0x1a00 + 0x1a2d, decodeTokenSocket_1[_0xb78fb9(0x148)])(_0x203faf);
            if (_0xad8a3d[_0xb78fb9(0x161)]) {
                const _0x30247a = _0x45a047[_0xb78fb9(0x16f)](_0x3227c2 = _0x45a047[_0xb78fb9(0x150)](_0x624304, null) || _0x45a047[_0xb78fb9(0x122)](_0x624304, void (0x14ef + -0x237d + 0xe8e)) ? void (0xc5f + 0xbb4 + -0x1813) : _0x624304[_0xb78fb9(0x163)], null) || _0x45a047[_0xb78fb9(0x17b)](_0x3227c2, void (-0x1e1b * 0x1 + -0x1079 * 0x1 + 0x2e94)) ? void (0x1277 + -0x1dc0 + -0x9 * -0x141) : _0x3227c2[_0xb78fb9(0x129)];
                _0x624304[_0xb78fb9(0x163)][_0xb78fb9(0x129)] = Object[_0xb78fb9(0x10b)](Object[_0xb78fb9(0x10b)](Object[_0xb78fb9(0x10b)]({}, _0x30247a), _0xad8a3d[_0xb78fb9(0x140)]), {
                    'id': _0x45a047[_0xb78fb9(0x180)](String, _0xad8a3d[_0xb78fb9(0x140)]['id']),
                    'tenantId': _0x45a047[_0xb78fb9(0x180)](String, _0xad8a3d[_0xb78fb9(0x140)][_0xb78fb9(0x12d)])
                });
                const _0x5dbed2 = {};
                _0x5dbed2[_0xb78fb9(0x128)] = [
                    'id',
                    _0x45a047[_0xb78fb9(0x158)],
                    _0x45a047[_0xb78fb9(0x13b)],
                    _0x45a047[_0xb78fb9(0x11b)],
                    _0x45a047[_0xb78fb9(0x17e)],
                    _0x45a047[_0xb78fb9(0x131)],
                    _0x45a047[_0xb78fb9(0x13f)],
                    _0x45a047[_0xb78fb9(0x164)]
                ];
                const _0x4f1f75 = yield User_1[_0xb78fb9(0x148)][_0xb78fb9(0x133)](_0xad8a3d[_0xb78fb9(0x140)]['id'], _0x5dbed2);
                _0x624304[_0xb78fb9(0x163)][_0xb78fb9(0x129)][_0xb78fb9(0x14d)] = _0x4f1f75, _0x45a047[_0xb78fb9(0x17f)](_0x58ef3f);
            }
            _0x45a047[_0xb78fb9(0x147)](_0x58ef3f, new Error(_0x45a047[_0xb78fb9(0x110)]));
        } catch (_0x1a4951) {
            logger_1[_0xb78fb9(0x14c)][_0xb78fb9(0x14f)](_0xb78fb9(0x127) + _0xb78fb9(0x115) + _0x624304), _0x624304[_0xb78fb9(0x12a)](_0xb78fb9(0x127) + _0xb78fb9(0x14a) + _0x624304['id']), _0x45a047[_0xb78fb9(0x172)](_0x58ef3f, new Error(_0x45a047[_0xb78fb9(0x110)]));
        }
    })), io['on'](_0x45a047[_0x5839b(0x151)], _0x33ade7 => {
        const _0x596000 = _0x5839b, {tenantId: _0x276e39} = _0x33ade7[_0x596000(0x163)][_0x596000(0x129)];
        if (_0x276e39) {
            const _0x338f00 = {};
            _0x338f00[_0x596000(0x149)] = _0x45a047[_0x596000(0x157)], _0x338f00[_0x596000(0x140)] = _0x33ade7[_0x596000(0x163)][_0x596000(0x129)], logger_1[_0x596000(0x14c)][_0x596000(0x114)](_0x338f00);
            try {
                const _0x34e507 = _0x45a047[_0x596000(0x174)][_0x596000(0x12c)]('|');
                let _0x3eac08 = 0x1 * 0x1107 + -0x240 * 0x8 + 0xf9;
                while (!![]) {
                    switch (_0x34e507[_0x3eac08++]) {
                    case '0':
                        _0x33ade7['on'](_0x276e39 + (_0x596000(0x13c) + _0x596000(0x11a)), () => {
                            const _0xd32fe9 = _0x596000;
                            logger_1[_0xd32fe9(0x14c)][_0xd32fe9(0x114)](_0xd32fe9(0x16a) + _0xd32fe9(0x12b) + _0xd32fe9(0x10c) + _0xd32fe9(0x11e) + _0x276e39 + (_0xd32fe9(0x12e) + _0xd32fe9(0x109))), _0x33ade7[_0xd32fe9(0x14b)](_0x276e39 + (_0xd32fe9(0x12e) + _0xd32fe9(0x109)));
                        });
                        continue;
                    case '1':
                        _0x33ade7[_0x596000(0x14b)](_0x276e39[_0x596000(0x126)]());
                        continue;
                    case '2':
                        Chat_1[_0x596000(0x148)][_0x596000(0x13a)](_0x33ade7);
                        continue;
                    case '3':
                        _0x33ade7['on'](_0x276e39 + (_0x596000(0x137) + 'ts'), _0x2de1b2 => {
                            const _0x1910e7 = _0x596000;
                            logger_1[_0x1910e7(0x14c)][_0x1910e7(0x114)](_0x1910e7(0x16a) + _0x1910e7(0x13d) + _0x276e39 + ':' + _0x2de1b2 + (_0x1910e7(0x160) + _0x1910e7(0x15d))), _0x33ade7[_0x1910e7(0x14b)](_0x276e39 + ':' + _0x2de1b2);
                        });
                        continue;
                    case '4':
                        _0x33ade7['on'](_0x276e39 + (_0x596000(0x116) + 'ox'), _0x5544bc => {
                            const _0x270a6d = _0x596000;
                            logger_1[_0x270a6d(0x14c)][_0x270a6d(0x114)](_0x270a6d(0x117) + _0x270a6d(0x145) + _0x270a6d(0x16b) + '\x20' + _0x276e39 + ':' + _0x5544bc), _0x33ade7[_0x270a6d(0x14b)](_0x276e39 + ':' + _0x5544bc);
                        });
                        continue;
                    }
                    break;
                }
            } catch (_0xc8df3b) {
            }
        }
        _0x33ade7['on'](_0x45a047[_0x596000(0x168)], _0x7c40e8 => {
            const _0x4fcb62 = _0x596000, _0x439db6 = {};
            _0x439db6[_0x4fcb62(0x149)] = _0x4fcb62(0x10f) + _0x4fcb62(0x178) + _0x4fcb62(0x184) + _0x276e39 + ',\x20' + _0x7c40e8, logger_1[_0x4fcb62(0x14c)][_0x4fcb62(0x114)](_0x439db6);
        });
    }), io;
};
exports[_0x5e6cda(0x15b)] = initIO;
const getIO = () => {
    const _0x6ec86d = _0x5e6cda, _0x369e79 = {};
    _0x369e79[_0x6ec86d(0x17d)] = _0x6ec86d(0x185) + _0x6ec86d(0x146) + _0x6ec86d(0x18b);
    const _0x243213 = _0x369e79;
    if (!io)
        throw new AppError_1[(_0x6ec86d(0x148))](_0x243213[_0x6ec86d(0x17d)]);
    return io;
};
exports[_0x5e6cda(0x16d)] = getIO;