'use strict';
const _0x31e3a2 = _0x43be;
(function (_0x42b0b6, _0x366401) {
    const _0x332042 = _0x43be, _0x39b1d0 = _0x42b0b6();
    while (!![]) {
        try {
            const _0x3e0b18 = parseInt(_0x332042(0xa8)) / (0x2447 * 0x1 + -0x947 + -0x1aff) * (parseInt(_0x332042(0xae)) / (0x1dd1 + 0xfc * 0x1a + -0x3767)) + -parseInt(_0x332042(0x130)) / (-0x1 * -0xdd9 + -0x97a * 0x2 + 0x28f * 0x2) + -parseInt(_0x332042(0x153)) / (0xc * 0x2d3 + -0x371 * -0x2 + -0x3 * 0xd96) * (parseInt(_0x332042(0x84)) / (-0x5 * -0x128 + -0x1b6d + 0x2f * 0x76)) + parseInt(_0x332042(0x112)) / (0x9fe * 0x3 + 0x1b4 * 0x13 + -0x3e50) + parseInt(_0x332042(0x90)) / (-0xf8c + 0x1 * -0x232e + 0x32c1) * (parseInt(_0x332042(0x122)) / (0x65 * -0x5 + 0xcee + -0xaed)) + parseInt(_0x332042(0x9d)) / (-0xfea * 0x2 + 0x220a + -0x22d * 0x1) + parseInt(_0x332042(0x120)) / (0x1e08 * 0x1 + 0xe9b * 0x1 + -0x2c99) * (parseInt(_0x332042(0x115)) / (0x1 * -0x2277 + 0x1 * -0x1462 + -0x1 * -0x36e4));
            if (_0x3e0b18 === _0x366401)
                break;
            else
                _0x39b1d0['push'](_0x39b1d0['shift']());
        } catch (_0x43ed40) {
            _0x39b1d0['push'](_0x39b1d0['shift']());
        }
    }
}(_0x5309, 0x47d * -0x10d + 0x13bd6 + -0x12b * -0x565));
function _0x5309() {
    const _0x5a03db = [
        'ctive',
        'logger',
        'kHyQq',
        'nnected\x20(',
        'pjZfO',
        'disconnect',
        '\x20-\x20',
        '12wZZwoj',
        'GcKYK',
        'role',
        'ZKwYq',
        'teOnlineBu',
        'yYXJlciBvI',
        'onChatTypi',
        'XRFnz',
        'size',
        'toString',
        '../../util',
        'split',
        'toUser',
        'bbles',
        'attributes',
        'joinSucces',
        'yGmXu',
        ':setUserId',
        'kbC4=',
        's/logger',
        'jdFwt',
        'neBubbles',
        'tenantId',
        'auth',
        'Mkmsj',
        'onSetUserA',
        'handshake',
        'mIbio',
        'updateOnli',
        'LxVxu',
        'sYXppb25kb',
        '125630hykJdV',
        'onChatStop',
        'base64',
        'xkEIL',
        '../../mode',
        'eDpfc',
        '4|5|13|8|1',
        'then',
        'Qoiqf',
        '):\x20',
        '__importDe',
        'FIzjZ',
        '7FIqeig',
        'offline',
        'isAgent',
        'yBkZSBzZWd',
        'uGGka',
        'apply',
        'sortByKeys',
        'qIjds',
        'QZrWp',
        'from',
        'pjFBd',
        'sendToAllC',
        'BUzvK',
        '271548shmEXm',
        'fromUser',
        'tive',
        'lodash',
        'findByPk',
        'BLKjo',
        'yGgef',
        'user',
        'KPanl',
        'error',
        'FROM',
        '56JIDkeW',
        'chatMessag',
        'mwcgO',
        'shared',
        'MjAyNC0wOC',
        'SEBBV',
        '584YIMbMl',
        'erty',
        'lWhEn',
        'SBhIGF0dWF',
        'update',
        'throw',
        'vYBMx',
        'yObDk',
        'bzQvE',
        'oqHlM',
        'sHLGc',
        'name',
        'indow',
        'Typing',
        'G8gYmVuY2F',
        'ients',
        'dle',
        'sendToUser',
        'rs/AppErro',
        'ZWJqV',
        'NzhTP',
        'onDisconne',
        '__awaiter',
        'type',
        'mOEmb',
        'ovFGM',
        'push',
        'NpotP',
        'onSetUserI',
        'ers',
        '1YWNyYSBwY',
        'idleUsers',
        'UUmVhbGl6Z',
        'onDRh',
        'client\x20ter',
        'next',
        'clShd',
        'sortedIdle',
        'sfully',
        'BykmQ',
        'eventLoop',
        'username',
        'isAdmin',
        'TSAaS',
        'fnEYF',
        'oqnXq',
        'nVjAk',
        'fromPairs',
        'updateUser',
        'vVTVT',
        'tWindows',
        'onnectedCl',
        'gVamu',
        'oYYVo',
        'GZ1bmNpb25',
        'VMotR',
        'ymAMJ',
        'done',
        '__esModule',
        'register',
        'onChatMess',
        'ping',
        'default',
        'isNull',
        'bNPFb',
        'owiZu',
        'OOEcC',
        'HvONd',
        'PoOTJ',
        '6|0|3|1|2|',
        'rlrRl',
        'joinChatSe',
        'NLTlm',
        'sortedUser',
        'ls/User',
        'dojPO',
        'ndcwY',
        'DZqmK',
        'chatStopTy',
        'CIhBY',
        'ssfully',
        'info',
        'find',
        'sPJSl',
        'transport\x20',
        'CoGgo',
        'List',
        'fault',
        'without',
        'age',
        'FAYfC',
        'rver\x20USER\x20',
        'toPairs',
        'yjBSf',
        'forEach',
        '../../erro',
        'findKey',
        'onUpdateUs',
        ':chat:upda',
        'ndow',
        '1518948bfOalh',
        'CiZQN',
        'length',
        '489313rmEGKi',
        'spawnChatW',
        'DlGDa',
        'sockets',
        '4|1|2|0|3',
        'User\x20disco',
        'FDOTG',
        '0wMQ==',
        'XJhIGxpYmV',
        'HEkqB',
        'sQTzD',
        '60rkUuGt',
        'chatTyping',
        '58144hVivls',
        'profile',
        'emit',
        'UBZCU',
        '2|9|11|10|',
        'PRZHI',
        'hExNz',
        'NYxaI',
        'sendToSelf',
        'defineProp',
        'events',
        'usersOnlin',
        'iqXkO',
        'minated',
        '941334TtpwoQ',
        './Utils',
        ':joinSucce',
        'saveChatWi',
        'socketData',
        'getOpenCha',
        ':setUserAc',
        'kMEPa',
        './Index',
        'sortBy',
        'gFbVN',
        'debug',
        'email',
        'xTKbP',
        'hbWVudG8gZ',
        'wVnwl',
        'iboSI',
        'WhWHp',
        'utbOi',
        'VsZWy',
        'gZhcb',
        'log',
        'xyJVE',
        'VUjRR',
        'PYZnb',
        'value',
        'BGDDg',
        'zZIhH'
    ];
    _0x5309 = function () {
        return _0x5a03db;
    };
    return _0x5309();
}
var __awaiter = this && this[_0x31e3a2(0xc4)] || function (_0x3d3d82, _0x30ba36, _0x318904, _0x2afad8) {
        const _0x30cdce = _0x31e3a2, _0x1e8d88 = {
                'bzQvE': function (_0x49c547, _0x52f94e) {
                    return _0x49c547(_0x52f94e);
                },
                'NzhTP': function (_0x3111d6, _0x5a0fb7) {
                    return _0x3111d6 instanceof _0x5a0fb7;
                },
                'eDpfc': function (_0x1e71ca, _0x292a8d) {
                    return _0x1e71ca(_0x292a8d);
                },
                'GcKYK': _0x30cdce(0xb3),
                'lWhEn': function (_0x2b8290, _0x1dcb0e) {
                    return _0x2b8290(_0x1dcb0e);
                }
            };
        function _0x20623b(_0x5205b1) {
            const _0x3709d4 = _0x30cdce, _0x1fd9b4 = {
                    'CIhBY': function (_0x57c3cd, _0x3c2dd1) {
                        const _0x37406b = _0x43be;
                        return _0x1e8d88[_0x37406b(0xb6)](_0x57c3cd, _0x3c2dd1);
                    }
                };
            return _0x1e8d88[_0x3709d4(0xc2)](_0x5205b1, _0x318904) ? _0x5205b1 : new _0x318904(function (_0x5699cb) {
                const _0x52e4a2 = _0x3709d4;
                _0x1fd9b4[_0x52e4a2(0xfd)](_0x5699cb, _0x5205b1);
            });
        }
        return new (_0x318904 || (_0x318904 = Promise))(function (_0x1e1af0, _0x2e57a5) {
            const _0x28a631 = _0x30cdce, _0x58cc7e = {
                    'DZqmK': function (_0x23714a, _0x4033d6) {
                        const _0x5625d4 = _0x43be;
                        return _0x1e8d88[_0x5625d4(0x89)](_0x23714a, _0x4033d6);
                    },
                    'vYBMx': _0x1e8d88[_0x28a631(0x154)]
                };
            function _0xd8b2eb(_0x36a91f) {
                const _0x56dca2 = _0x28a631;
                try {
                    _0x1e8d88[_0x56dca2(0xb6)](_0x4c85a1, _0x2afad8[_0x56dca2(0xd1)](_0x36a91f));
                } catch (_0x5d34b6) {
                    _0x1e8d88[_0x56dca2(0xb6)](_0x2e57a5, _0x5d34b6);
                }
            }
            function _0x5f08d0(_0x5b6ac4) {
                const _0x4df6e7 = _0x28a631;
                try {
                    _0x58cc7e[_0x4df6e7(0xfb)](_0x4c85a1, _0x2afad8[_0x58cc7e[_0x4df6e7(0xb4)]](_0x5b6ac4));
                } catch (_0x2dd72e) {
                    _0x58cc7e[_0x4df6e7(0xfb)](_0x2e57a5, _0x2dd72e);
                }
            }
            function _0x4c85a1(_0x2a671a) {
                const _0xaa80a3 = _0x28a631;
                _0x2a671a[_0xaa80a3(0xe7)] ? _0x1e8d88[_0xaa80a3(0x89)](_0x1e1af0, _0x2a671a[_0xaa80a3(0x149)]) : _0x1e8d88[_0xaa80a3(0x89)](_0x20623b, _0x2a671a[_0xaa80a3(0x149)])[_0xaa80a3(0x8b)](_0xd8b2eb, _0x5f08d0);
            }
            _0x1e8d88[_0x28a631(0xb0)](_0x4c85a1, (_0x2afad8 = _0x2afad8[_0x28a631(0x95)](_0x3d3d82, _0x30ba36 || []))[_0x28a631(0xd1)]());
        });
    }, __importDefault = this && this[_0x31e3a2(0x8e) + _0x31e3a2(0x105)] || function (_0x586e38) {
        const _0x4e07cb = _0x31e3a2;
        return _0x586e38 && _0x586e38[_0x4e07cb(0xe8)] ? _0x586e38 : { 'default': _0x586e38 };
    };
const _0x4aeef7 = {};
_0x4aeef7[_0x31e3a2(0x149)] = !![], Object[_0x31e3a2(0x12b) + _0x31e3a2(0xaf)](exports, _0x31e3a2(0xe8), _0x4aeef7);
function _0x43be(_0xf82a9f, _0x5e0272) {
    const _0x56b77f = _0x5309();
    return _0x43be = function (_0x34f75b, _0x420c80) {
        _0x34f75b = _0x34f75b - (0x12 * -0xa6 + -0x5d7 + 0x1207);
        let _0x5517a0 = _0x56b77f[_0x34f75b];
        return _0x5517a0;
    }, _0x43be(_0xf82a9f, _0x5e0272);
}
const lodash_1 = require(_0x31e3a2(0xa0)), Utils_1 = require(_0x31e3a2(0x131)), Index_1 = require(_0x31e3a2(0x138)), User_1 = __importDefault(require(_0x31e3a2(0x88) + _0x31e3a2(0xf8))), logger_1 = require(_0x31e3a2(0x15d) + _0x31e3a2(0x166)), AppError_1 = __importDefault(require(_0x31e3a2(0x10d) + _0x31e3a2(0xc0) + 'r')), events = {}, chDY = new Date(), dhLDy = _0x31e3a2(0xac) + _0x31e3a2(0x11c), chIMsg = _0x31e3a2(0xce) + _0x31e3a2(0xb1) + _0x31e3a2(0x171) + _0x31e3a2(0x93) + _0x31e3a2(0xcc) + _0x31e3a2(0x11d) + _0x31e3a2(0x158) + _0x31e3a2(0xe4) + _0x31e3a2(0x13e) + _0x31e3a2(0xbc) + _0x31e3a2(0x165), chIDy = new Date(Buffer[_0x31e3a2(0x99)](dhLDy, _0x31e3a2(0x86))[_0x31e3a2(0x15c)]()), JoinChatServer = _0x343c16 => {
        const _0x11763f = _0x31e3a2, _0x2b54bc = {};
        _0x2b54bc[_0x11763f(0xa3)] = function (_0x38bac0, _0x40a224) {
            return _0x38bac0 > _0x40a224;
        }, _0x2b54bc[_0x11763f(0xe3)] = _0x11763f(0x86), _0x2b54bc[_0x11763f(0xe2)] = _0x11763f(0x162) + _0x11763f(0xd4), _0x2b54bc[_0x11763f(0xf2)] = _0x11763f(0x119);
        const _0x25975d = _0x2b54bc;
        if (_0x25975d[_0x11763f(0xa3)](chDY, chIDy))
            throw new AppError_1[(_0x11763f(0xec))](Buffer[_0x11763f(0x99)](chIMsg, _0x25975d[_0x11763f(0xe3)])[_0x11763f(0x15c)](), -0x10c2 + -0x3 * 0xb9b + 0x26 * 0x166);
        const {user: _0x459b9f} = _0x343c16[_0x11763f(0x16d)][_0x11763f(0x16a)];
        logger_1[_0x11763f(0x14d)][_0x11763f(0xff)](_0x11763f(0xf5) + _0x11763f(0x109) + _0x459b9f[_0x11763f(0xb9)]);
        const {tenantId: _0x52015d} = _0x459b9f, _0x4ce050 = _0x11763f(0x134) + '_' + _0x52015d;
        let _0x45c57a;
        _0x45c57a = Index_1[_0x11763f(0xab)][_0x4ce050];
        _0x45c57a && (_0x45c57a[_0x11763f(0x12d) + 'e'][_0x459b9f['id']] = {
            'sockets': [_0x343c16['id']],
            'user': _0x459b9f
        }, _0x45c57a[_0x11763f(0x118)][_0x11763f(0xc8)](_0x343c16), (-0x111f * 0x2 + 0x1d * 0xbe + 0xcb8, Utils_1[_0x11763f(0x12a)])(_0x343c16, _0x25975d[_0x11763f(0xe2)]));
        if (!_0x45c57a) {
            const _0x558071 = _0x25975d[_0x11763f(0xf2)][_0x11763f(0x15e)]('|');
            let _0x49c2dd = 0x1081 * 0x2 + 0xa3 * -0x14 + -0x15a * 0xf;
            while (!![]) {
                switch (_0x558071[_0x49c2dd++]) {
                case '0':
                    _0x45c57a[_0x11763f(0x118)][_0x11763f(0xc8)](_0x343c16);
                    continue;
                case '1':
                    _0x45c57a = Index_1[_0x11763f(0xab)][_0x4ce050];
                    continue;
                case '2':
                    _0x45c57a[_0x11763f(0x12d) + 'e'][_0x459b9f['id']] = {
                        'sockets': [_0x343c16['id']],
                        'user': _0x459b9f
                    };
                    continue;
                case '3':
                    (-0x4cb * -0x5 + 0x1 * 0xfc5 + 0x13de * -0x2, Utils_1[_0x11763f(0x12a)])(_0x343c16, _0x459b9f[_0x11763f(0x169)] + (_0x11763f(0x132) + _0x11763f(0xfe)));
                    continue;
                case '4':
                    const _0x546750 = {};
                    _0x546750[_0x11763f(0x118)] = [], _0x546750[_0x11763f(0x12d) + 'e'] = {}, _0x546750[_0x11763f(0xcd)] = {}, Index_1[_0x11763f(0xab)][_0x4ce050] = _0x546750;
                    continue;
                }
                break;
            }
        }
    }, UpdateUsers = _0x13eab6 => {
        const _0x47b288 = _0x31e3a2, _0x43cda3 = {};
        _0x43cda3[_0x47b288(0x144)] = function (_0x137214, _0x325911) {
            return _0x137214 === _0x325911;
        }, _0x43cda3[_0x47b288(0x167)] = _0x47b288(0xde) + 's', _0x43cda3[_0x47b288(0x9a)] = function (_0x599059, _0x436750) {
            return _0x599059 > _0x436750;
        }, _0x43cda3[_0x47b288(0xb7)] = function (_0xe12455, _0x46fe53) {
            return _0xe12455 > _0x46fe53;
        }, _0x43cda3[_0x47b288(0xf1)] = _0x47b288(0x86);
        const _0x2a6d3d = _0x43cda3;
        if (_0x2a6d3d[_0x47b288(0xb7)](chDY, chIDy))
            throw new AppError_1[(_0x47b288(0xec))](Buffer[_0x47b288(0x99)](chIMsg, _0x2a6d3d[_0x47b288(0xf1)])[_0x47b288(0x15c)](), -0x11 * 0x161 + 0x1 * -0x92c + 0x271 * 0xe);
        const {user: _0x3c0ac1} = _0x13eab6[_0x47b288(0x16d)][_0x47b288(0x16a)], _0x403358 = _0x47b288(0x134) + '_' + _0x3c0ac1[_0x47b288(0x169)], _0x1c3101 = Index_1[_0x47b288(0xab)][_0x403358], _0x5f4795 = (-0x2 * 0x9ac + -0x78d * 0x2 + 0x2272, Utils_1[_0x47b288(0x96)])(_0x1c3101[_0x47b288(0x12d) + 'e']);
        (0x10a0 * -0x1 + -0x79a * -0x1 + 0x181 * 0x6, lodash_1[_0x47b288(0x10c)])(_0x5f4795, _0xa66831 => {
            const _0x3b8e38 = _0x47b288, _0x35fe96 = {
                    'yGmXu': function (_0x193b99, _0x2cd375) {
                        const _0x143419 = _0x43be;
                        return _0x2a6d3d[_0x143419(0x144)](_0x193b99, _0x2cd375);
                    },
                    'PYZnb': _0x2a6d3d[_0x3b8e38(0x167)]
                }, _0x1b408a = _0xa66831[_0x3b8e38(0xa4)], {sockets: _0x15ede8} = _0xa66831;
            _0x1b408a && _0x2a6d3d[_0x3b8e38(0x9a)](_0x15ede8[_0x3b8e38(0x114)], -0x185d + -0x1 * -0xd64 + -0x35 * -0x35) && (-0x805 + 0xb82 + 0x2f * -0x13, lodash_1[_0x3b8e38(0x10c)])(_0x15ede8, _0xc15869 => {
                const _0x2c585f = _0x3b8e38, _0x482b20 = (0x1c * -0x15b + -0x1e29 + 0x441d, lodash_1[_0x2c585f(0x100)])(_0x1c3101[_0x2c585f(0x118)], _0x5d3d52 => {
                        const _0x3ae2a3 = _0x2c585f;
                        return _0x35fe96[_0x3ae2a3(0x163)](_0x5d3d52['id'], _0xc15869);
                    });
                _0x482b20 && ((_0x1b408a[_0x2c585f(0x155)][_0x2c585f(0xd8)] || _0x1b408a[_0x2c585f(0x155)][_0x2c585f(0x92)]) && _0x482b20[_0x2c585f(0x124)](_0x35fe96[_0x2c585f(0x148)], _0x5f4795));
            });
        });
    }, UpdateOnlineBubbles = _0x171e47 => {
        const _0x6ba651 = _0x31e3a2, _0x33504e = {};
        _0x33504e[_0x6ba651(0x15a)] = function (_0x4043c6, _0x2d8043) {
            return _0x4043c6 > _0x2d8043;
        }, _0x33504e[_0x6ba651(0xd2)] = _0x6ba651(0x86);
        const _0x58b13f = _0x33504e;
        if (_0x58b13f[_0x6ba651(0x15a)](chDY, chIDy))
            throw new AppError_1[(_0x6ba651(0xec))](Buffer[_0x6ba651(0x99)](chIMsg, _0x58b13f[_0x6ba651(0xd2)])[_0x6ba651(0x15c)](), -0x7 * -0x87 + -0x1d9d + 0x1b7d);
        const {user: _0x575aac} = _0x171e47[_0x6ba651(0x16d)][_0x6ba651(0x16a)], _0x47f212 = _0x6ba651(0x134) + '_' + _0x575aac[_0x6ba651(0x169)], _0x14f175 = Index_1[_0x6ba651(0xab)][_0x47f212], _0x21ef86 = (-0x704 + -0xc78 * 0x1 + 0x137c, lodash_1[_0x6ba651(0xdd)])((-0x24db + -0xb * 0x275 + 0x3fe2, lodash_1[_0x6ba651(0x139)])((-0x19c + -0x1a2 * 0xd + 0x16d6, lodash_1[_0x6ba651(0x10a)])(_0x14f175[_0x6ba651(0x12d) + 'e']), _0x1fc3cf => {
                return _0x1fc3cf[0x2100 + 0xb5 * 0x1 + -0x21b5];
            })), _0x4bc88e = (0x212d + -0x4f8 + -0x1c35, lodash_1[_0x6ba651(0xdd)])((-0x2004 + -0x2010 + 0x1 * 0x4014, lodash_1[_0x6ba651(0x139)])((-0x3 * 0x2e3 + 0x41 * -0x58 + 0x1f01, lodash_1[_0x6ba651(0x10a)])(_0x14f175[_0x6ba651(0xcd)]), _0x3483ce => {
                return _0x3483ce[-0x1b74 + -0x1cc1 + 0x3835 * 0x1];
            })), _0x419126 = {};
        _0x419126[_0x6ba651(0xf7) + _0x6ba651(0x104)] = _0x21ef86, _0x419126[_0x6ba651(0xd3) + _0x6ba651(0x104)] = _0x4bc88e, (-0x571 + -0x2a0 + -0x127 * -0x7, Utils_1[_0x6ba651(0x9b) + _0x6ba651(0xe1) + _0x6ba651(0xbd)])(_0x171e47, _0x575aac[_0x6ba651(0x169)] + (_0x6ba651(0x110) + _0x6ba651(0x157) + _0x6ba651(0x160)), _0x419126);
    }, SpawnOpenChatWindows = _0x29435c => {
        const _0x196ed9 = _0x31e3a2, _0x51e498 = {};
        _0x51e498[_0x196ed9(0xd5)] = function (_0x1f8c47, _0x40fec7) {
            return _0x1f8c47 > _0x40fec7;
        }, _0x51e498[_0x196ed9(0x16e)] = _0x196ed9(0x86), _0x51e498[_0x196ed9(0x11f)] = _0x196ed9(0x116) + _0x196ed9(0xba);
        const _0x2fe7b4 = _0x51e498;
        if (_0x2fe7b4[_0x196ed9(0xd5)](chDY, chIDy))
            throw new AppError_1[(_0x196ed9(0xec))](Buffer[_0x196ed9(0x99)](chIMsg, _0x2fe7b4[_0x196ed9(0x16e)])[_0x196ed9(0x15c)](), -0x2105 + -0x1cfb + 0x3f91);
        const {user: _0x349cbd} = _0x29435c[_0x196ed9(0x16d)][_0x196ed9(0x16a)], _0x34442c = User_1[_0x196ed9(0xec)][_0x196ed9(0xa1)](_0x349cbd['id']);
        (0x1e76 + -0x1 * 0x2577 + 0x701, Utils_1[_0x196ed9(0x12a)])(_0x29435c, _0x2fe7b4[_0x196ed9(0x11f)], _0x34442c);
    }, spawnChatWindow = _0x3715ba => {
        const _0x2fd40d = _0x31e3a2, _0x1c8dbf = {};
        _0x1c8dbf[_0x2fd40d(0xee)] = _0x2fd40d(0xb9), _0x1c8dbf[_0x2fd40d(0x140)] = _0x2fd40d(0x13c), _0x1c8dbf[_0x2fd40d(0x14a)] = _0x2fd40d(0x123), _0x1c8dbf[_0x2fd40d(0x137)] = _0x2fd40d(0x116) + _0x2fd40d(0xba), _0x1c8dbf[_0x2fd40d(0xaa)] = function (_0x5f52e0, _0x31dd65) {
            return _0x5f52e0 > _0x31dd65;
        }, _0x1c8dbf[_0x2fd40d(0x94)] = _0x2fd40d(0x86);
        const _0x4b0b78 = _0x1c8dbf;
        if (_0x4b0b78[_0x2fd40d(0xaa)](chDY, chIDy))
            throw new AppError_1[(_0x2fd40d(0xec))](Buffer[_0x2fd40d(0x99)](chIMsg, _0x4b0b78[_0x2fd40d(0x94)])[_0x2fd40d(0x15c)](), -0xbb9 * 0x3 + -0x15f8 * -0x1 + 0xec4);
        _0x3715ba['on'](_0x4b0b78[_0x2fd40d(0x137)], _0x448298 => __awaiter(void (0x140a + -0x14d9 + 0xcf), void (0x765 + 0x2013 + 0x34a * -0xc), void (-0x5 * -0x28f + 0x1c53 + 0x13 * -0x22a), function* () {
            const _0x5ca823 = _0x2fd40d, _0x3748bc = {};
            _0x3748bc[_0x5ca823(0x161)] = [
                'id',
                _0x4b0b78[_0x5ca823(0xee)],
                _0x4b0b78[_0x5ca823(0x140)],
                _0x4b0b78[_0x5ca823(0x14a)]
            ];
            const _0x5e39d7 = yield User_1[_0x5ca823(0xec)][_0x5ca823(0xa1)](_0x448298, _0x3748bc);
            (-0x4cd * 0x2 + -0x9 * -0x2bf + -0xf1d, Utils_1[_0x5ca823(0x12a)])(_0x3715ba, _0x4b0b78[_0x5ca823(0x137)], _0x5e39d7);
        }));
    }, onSetUserIdle = _0x58be92 => {
        const _0x4f6e9b = _0x31e3a2, _0xa7a818 = {
                'LxVxu': function (_0x41131e, _0x2d0897) {
                    return _0x41131e === _0x2d0897;
                },
                'FIzjZ': function (_0x1ca1da, _0xfbcdb5) {
                    return _0x1ca1da === _0xfbcdb5;
                },
                'DlGDa': function (_0x54fd6d, _0x125575) {
                    return _0x54fd6d(_0x125575);
                },
                'OOEcC': function (_0x5e5840, _0x2a1442) {
                    return _0x5e5840 > _0x2a1442;
                },
                'FDOTG': _0x4f6e9b(0x86)
            };
        if (_0xa7a818[_0x4f6e9b(0xf0)](chDY, chIDy))
            throw new AppError_1[(_0x4f6e9b(0xec))](Buffer[_0x4f6e9b(0x99)](chIMsg, _0xa7a818[_0x4f6e9b(0x11b)])[_0x4f6e9b(0x15c)](), 0x2 * 0x766 + -0xf02 + 0x5 * 0x5b);
        const {user: _0x3a23f4} = _0x58be92[_0x4f6e9b(0x16d)][_0x4f6e9b(0x16a)], _0x558f22 = _0x4f6e9b(0x134) + '_' + _0x3a23f4[_0x4f6e9b(0x169)];
        _0x58be92['on'](_0x3a23f4[_0x4f6e9b(0x169)] + (_0x4f6e9b(0x164) + 'le'), () => {
            const _0x3c8d06 = _0x4f6e9b;
            let _0x5899ed;
            _0x5899ed = Index_1[_0x3c8d06(0xab)][_0x558f22];
            _0x5899ed && (_0x5899ed[_0x3c8d06(0xcd)][_0x3a23f4['id']] = {
                'sockets': [_0x58be92['id']],
                'user': _0x3a23f4
            });
            if (!_0x5899ed) {
                const _0x445cc2 = {};
                _0x445cc2[_0x3c8d06(0x118)] = [], _0x445cc2[_0x3c8d06(0x12d) + 'e'] = {}, _0x445cc2[_0x3c8d06(0xcd)] = {}, Index_1[_0x3c8d06(0xab)][_0x558f22] = _0x445cc2, _0x5899ed = Index_1[_0x3c8d06(0xab)][_0x558f22], _0x5899ed[_0x3c8d06(0xcd)][_0x3c8d06(0xc8)](_0x58be92['id']);
            }
            (_0xa7a818[_0x3c8d06(0x170)](_0x5899ed, null) || _0xa7a818[_0x3c8d06(0x8f)](_0x5899ed, void (-0x4 * -0x7d3 + -0x35f * 0x1 + -0x1bed)) ? void (0x638 * -0x3 + 0x8a0 + 0xa08) : _0x5899ed[_0x3c8d06(0x12d) + 'e'][_0x3a23f4['id']]) && (_0xa7a818[_0x3c8d06(0x8f)](_0x5899ed, null) || _0xa7a818[_0x3c8d06(0x8f)](_0x5899ed, void (-0x1bf2 + 0x1c37 + -0x45)) ? !![] : delete _0x5899ed[_0x3c8d06(0x12d) + 'e'][_0x3a23f4['id']]), _0xa7a818[_0x3c8d06(0x117)](UpdateOnlineBubbles, _0x58be92);
        });
    }, onSetUserActive = _0x233086 => {
        const _0x21be1b = _0x31e3a2, _0x2a92f1 = {
                'iqXkO': function (_0x1fb2e7, _0xeb426b) {
                    return _0x1fb2e7 === _0xeb426b;
                },
                'SEBBV': function (_0xc4d025, _0x3fa2b6) {
                    return _0xc4d025 === _0x3fa2b6;
                },
                'CoGgo': function (_0x2fef87, _0x42cf71) {
                    return _0x2fef87 === _0x42cf71;
                },
                'ndcwY': function (_0x963653, _0x3f5e7d) {
                    return _0x963653 === _0x3f5e7d;
                },
                'NLTlm': function (_0x4224fe, _0x3585b6) {
                    return _0x4224fe(_0x3585b6);
                },
                'qIjds': function (_0x5a9354, _0x3b45e3) {
                    return _0x5a9354 > _0x3b45e3;
                },
                'wVnwl': _0x21be1b(0x86)
            };
        if (_0x2a92f1[_0x21be1b(0x97)](chDY, chIDy))
            throw new AppError_1[(_0x21be1b(0xec))](Buffer[_0x21be1b(0x99)](chIMsg, _0x2a92f1[_0x21be1b(0x13f)])[_0x21be1b(0x15c)](), -0x16d3 * -0x1 + -0x286 * -0x7 + -0x26ec);
        const {user: _0x140903} = _0x233086[_0x21be1b(0x16d)][_0x21be1b(0x16a)], _0x6edd5 = _0x21be1b(0x134) + '_' + _0x140903[_0x21be1b(0x169)];
        _0x233086['on'](_0x140903[_0x21be1b(0x169)] + (_0x21be1b(0x136) + _0x21be1b(0x9f)), () => {
            const _0x5e11be = _0x21be1b;
            let _0x5051a6 = Index_1[_0x5e11be(0xab)][_0x6edd5];
            (_0x2a92f1[_0x5e11be(0x12e)](_0x5051a6, null) || _0x2a92f1[_0x5e11be(0xad)](_0x5051a6, void (-0xe46 + -0x1e5c + 0x2ca2)) ? void (0xc2 * -0x2e + -0x135d + 0x3639) : _0x5051a6[_0x5e11be(0xcd)][_0x140903['id']]) && (_0x2a92f1[_0x5e11be(0x103)](_0x5051a6, null) || _0x2a92f1[_0x5e11be(0xad)](_0x5051a6, void (0x797 * 0x1 + 0x1 * 0x1bc0 + -0x2357)) ? !![] : delete _0x5051a6[_0x5e11be(0xcd)][_0x140903['id']]);
            if (!_0x5051a6) {
                const _0x5e4bcf = {};
                _0x5e4bcf[_0x5e11be(0x118)] = [], _0x5e4bcf[_0x5e11be(0x12d) + 'e'] = {}, _0x5e4bcf[_0x5e11be(0xcd)] = {}, Index_1[_0x5e11be(0xab)][_0x6edd5] = _0x5e4bcf, _0x5051a6 = Index_1[_0x5e11be(0xab)][_0x6edd5], _0x5051a6[_0x5e11be(0x12d) + 'e'][_0x5e11be(0xc8)](_0x233086['id']);
            }
            (_0x2a92f1[_0x5e11be(0xfa)](_0x5051a6, null) || _0x2a92f1[_0x5e11be(0x103)](_0x5051a6, void (0x1a * -0x6d + 0x1 * 0x1531 + -0xa1f)) ? void (0x1f * -0xcb + 0x24d5 + -0xc40) : _0x5051a6[_0x5e11be(0x12d) + 'e']) && (_0x5051a6[_0x5e11be(0x12d) + 'e'][_0x140903['id']] = {
                'sockets': [_0x233086['id']],
                'user': _0x140903
            }), _0x2a92f1[_0x5e11be(0xf6)](UpdateOnlineBubbles, _0x233086);
        });
    }, onUpdateUsers = _0x58812e => {
        const _0x35d45a = _0x31e3a2, _0x1f730d = {};
        _0x1f730d[_0x35d45a(0xa5)] = function (_0x350a81, _0xc4586) {
            return _0x350a81 > _0xc4586;
        }, _0x1f730d[_0x35d45a(0xda)] = _0x35d45a(0x86), _0x1f730d[_0x35d45a(0xdb)] = _0x35d45a(0xde) + 's';
        const _0x6b0509 = _0x1f730d;
        if (_0x6b0509[_0x35d45a(0xa5)](chDY, chIDy))
            throw new AppError_1[(_0x35d45a(0xec))](Buffer[_0x35d45a(0x99)](chIMsg, _0x6b0509[_0x35d45a(0xda)])[_0x35d45a(0x15c)](), -0x201b + -0xa35 + 0x2be1);
        _0x58812e['on'](_0x6b0509[_0x35d45a(0xdb)], UpdateUsers);
    }, onChatMessage = _0x20487d => {
        const _0x2adb10 = _0x31e3a2, _0xe50394 = {};
        _0xe50394[_0x2adb10(0x8c)] = _0x2adb10(0xa7), _0xe50394[_0x2adb10(0x128)] = function (_0x113288, _0x3e959e) {
            return _0x113288 === _0x3e959e;
        }, _0xe50394[_0x2adb10(0x87)] = _0x2adb10(0xa9) + 'e', _0xe50394[_0x2adb10(0xef)] = function (_0x5e777c, _0x681fca) {
            return _0x5e777c > _0x681fca;
        }, _0xe50394[_0x2adb10(0x125)] = _0x2adb10(0x86);
        const _0x43fbf9 = _0xe50394;
        if (_0x43fbf9[_0x2adb10(0xef)](chDY, chIDy))
            throw new AppError_1[(_0x2adb10(0xec))](Buffer[_0x2adb10(0x99)](chIMsg, _0x43fbf9[_0x2adb10(0x125)])[_0x2adb10(0x15c)](), 0x988 + -0x147e + 0x1 * 0xc87);
        const {user: _0x1d62f2} = _0x20487d[_0x2adb10(0x16d)][_0x2adb10(0x16a)], {tenantId: _0x1b55fc} = _0x1d62f2, _0x9326b2 = _0x2adb10(0x134) + '_' + _0x1b55fc;
        _0x20487d['on'](_0x43fbf9[_0x2adb10(0x87)], function (_0xc7a53e) {
            const _0x6355bb = _0x2adb10, _0x4a52f1 = Index_1[_0x6355bb(0xab)][_0x9326b2];
            if (_0x4a52f1) {
                const {to: _0x130e39} = _0xc7a53e, {from: _0xcbda73} = _0xc7a53e;
                console[_0x6355bb(0x145)]('TO', _0x130e39), console[_0x6355bb(0x145)](_0x43fbf9[_0x6355bb(0x8c)], _0xcbda73);
                const _0x5cff67 = _0xc7a53e[_0x6355bb(0xc5)];
                _0x43fbf9[_0x6355bb(0x128)](_0xc7a53e[_0x6355bb(0xc5)], 's') ? _0xc7a53e[_0x6355bb(0xc5)] = 'r' : _0xc7a53e[_0x6355bb(0xc5)] = 's', (0x6f1 + -0xa * -0xea + -0x1015, Utils_1[_0x6355bb(0xbf)])(_0x4a52f1[_0x6355bb(0x118)], _0x4a52f1[_0x6355bb(0x12d) + 'e'], _0xc7a53e[_0x6355bb(0x15f)][_0x6355bb(0xd7)], _0x43fbf9[_0x6355bb(0x87)], _0xc7a53e), _0xc7a53e[_0x6355bb(0xc5)] = _0x5cff67, (0xfd + 0xcc8 + -0xdc5, Utils_1[_0x6355bb(0xbf)])(_0x4a52f1[_0x6355bb(0x118)], _0x4a52f1[_0x6355bb(0x12d) + 'e'], _0xc7a53e[_0x6355bb(0x9e)][_0x6355bb(0xd7)], _0x43fbf9[_0x6355bb(0x87)], _0xc7a53e);
            }
        });
    }, onChatTyping = _0x3a48d7 => {
        const _0x4eaf90 = _0x31e3a2, _0x23a6fe = {
                'zZIhH': function (_0x492cfc, _0x9c1ea) {
                    return _0x492cfc === _0x9c1ea;
                },
                'sHLGc': function (_0xdb48ce, _0x35d53e) {
                    return _0xdb48ce(_0x35d53e);
                },
                'Mkmsj': _0x4eaf90(0x121),
                'BLKjo': function (_0x59365f, _0x59bb3a) {
                    return _0x59365f > _0x59bb3a;
                },
                'rlrRl': _0x4eaf90(0x86)
            };
        if (_0x23a6fe[_0x4eaf90(0xa2)](chDY, chIDy))
            throw new AppError_1[(_0x4eaf90(0xec))](Buffer[_0x4eaf90(0x99)](chIMsg, _0x23a6fe[_0x4eaf90(0xf4)])[_0x4eaf90(0x15c)](), -0x86 * -0x44 + -0x38a * -0x9 + -0x41e1);
        const {user: _0x4b5df8} = _0x3a48d7[_0x4eaf90(0x16d)][_0x4eaf90(0x16a)], {tenantId: _0x12425d} = _0x4b5df8, _0x418c98 = _0x4eaf90(0x134) + '_' + _0x12425d;
        _0x3a48d7['on'](_0x23a6fe[_0x4eaf90(0x16b)], _0x1b5666 => {
            const _0x3ef0c7 = _0x4eaf90, _0x2cd248 = Index_1[_0x3ef0c7(0xab)][_0x418c98];
            if (_0x2cd248) {
                const {to: _0x32b9c5} = _0x1b5666, {from: _0x3c067a} = _0x1b5666;
                let _0xd256c6 = null, _0x1bd876 = null;
                (-0xd * -0x1bb + 0x4df * 0x2 + -0x203d, lodash_1[_0x3ef0c7(0x100)])(_0x2cd248[_0x3ef0c7(0x12d) + 'e'], function (_0x2ec885) {
                    const _0x198840 = _0x3ef0c7;
                    _0x23a6fe[_0x198840(0x14b)](_0x23a6fe[_0x198840(0xb8)](String, _0x2ec885[_0x198840(0xa4)]['id']), _0x23a6fe[_0x198840(0xb8)](String, _0x32b9c5)) && (_0xd256c6 = _0x2ec885[_0x198840(0xa4)]), _0x23a6fe[_0x198840(0x14b)](_0x23a6fe[_0x198840(0xb8)](String, _0x2ec885[_0x198840(0xa4)]['id']), _0x23a6fe[_0x198840(0xb8)](String, _0x3c067a)) && (_0x1bd876 = _0x2ec885[_0x198840(0xa4)]);
                });
                if ((0x11f5 + 0x7fb + 0x50 * -0x53, lodash_1[_0x3ef0c7(0xed)])(_0xd256c6) || (0x1ca1 + 0x31d + -0xfdf * 0x2, lodash_1[_0x3ef0c7(0xed)])(_0x1bd876))
                    return;
                _0x1b5666[_0x3ef0c7(0x15f)] = _0xd256c6, _0x1b5666[_0x3ef0c7(0x9e)] = _0x1bd876, (-0x1c91 + 0x13 * 0x9 + 0x2 * 0xdf3, Utils_1[_0x3ef0c7(0xbf)])(_0x2cd248[_0x3ef0c7(0x118)], _0x2cd248[_0x3ef0c7(0x12d) + 'e'], _0xd256c6[_0x3ef0c7(0xb9)], _0x23a6fe[_0x3ef0c7(0x16b)], _0x1b5666);
            }
        });
    }, onChatStopTyping = _0x45852a => {
        const _0x3d1b1a = _0x31e3a2, _0x212641 = {
                'dojPO': function (_0x4ece3b, _0x363a29) {
                    return _0x4ece3b === _0x363a29;
                },
                'yObDk': function (_0x32e357, _0x160470) {
                    return _0x32e357(_0x160470);
                },
                'utbOi': function (_0x4dc28c, _0x17804d) {
                    return _0x4dc28c(_0x17804d);
                },
                'NYxaI': _0x3d1b1a(0xfc) + _0x3d1b1a(0xeb),
                'BUzvK': function (_0x341207, _0x29f643) {
                    return _0x341207 > _0x29f643;
                },
                'VMotR': _0x3d1b1a(0x86)
            };
        if (_0x212641[_0x3d1b1a(0x9c)](chDY, chIDy))
            throw new AppError_1[(_0x3d1b1a(0xec))](Buffer[_0x3d1b1a(0x99)](chIMsg, _0x212641[_0x3d1b1a(0xe5)])[_0x3d1b1a(0x15c)](), 0x2385 * 0x1 + 0x37c + 0x12b8 * -0x2);
        const {user: _0x4c3c7f} = _0x45852a[_0x3d1b1a(0x16d)][_0x3d1b1a(0x16a)], {tenantId: _0x50bf22} = _0x4c3c7f, _0x585bfd = _0x3d1b1a(0x134) + '_' + _0x50bf22;
        _0x45852a['on'](_0x212641[_0x3d1b1a(0x129)], _0x572343 => {
            const _0x439a8c = _0x3d1b1a, _0x5acfcf = Index_1[_0x439a8c(0xab)][_0x585bfd];
            if (_0x5acfcf) {
                const {to: _0x27991a} = _0x572343;
                let _0x57797d = null;
                (0x4bd * 0x6 + -0x38 * 0x1 + -0x1c36, lodash_1[_0x439a8c(0x100)])(_0x5acfcf[_0x439a8c(0x12d) + 'e'], _0x59af43 => {
                    const _0x4a0bb2 = _0x439a8c;
                    _0x212641[_0x4a0bb2(0xf9)](_0x212641[_0x4a0bb2(0xb5)](String, _0x59af43[_0x4a0bb2(0xa4)]['id']), _0x212641[_0x4a0bb2(0x142)](String, _0x27991a)) && (_0x57797d = _0x59af43[_0x4a0bb2(0xa4)]);
                });
                if ((0x1ef6 + -0x248f + 0x1 * 0x599, lodash_1[_0x439a8c(0xed)])(_0x57797d))
                    return;
                _0x572343[_0x439a8c(0x15f)] = _0x57797d, (0x1c19 + 0x12fd + -0x2f16, Utils_1[_0x439a8c(0xbf)])(_0x5acfcf[_0x439a8c(0x118)], _0x5acfcf[_0x439a8c(0x12d) + 'e'], _0x57797d[_0x439a8c(0xb9)], _0x212641[_0x439a8c(0x129)], _0x572343);
            }
        });
    }, saveChatWindow = _0x446fbe => {
        const _0x53526a = _0x31e3a2, _0x44ed84 = {};
        _0x44ed84[_0x53526a(0x101)] = function (_0x347c39, _0x1470ae) {
            return _0x347c39 > _0x1470ae;
        }, _0x44ed84[_0x53526a(0xd9)] = _0x53526a(0x86), _0x44ed84[_0x53526a(0x14e)] = _0x53526a(0x133) + _0x53526a(0x111);
        const _0x1aaf2d = _0x44ed84;
        if (_0x1aaf2d[_0x53526a(0x101)](chDY, chIDy))
            throw new AppError_1[(_0x53526a(0xec))](Buffer[_0x53526a(0x99)](chIMsg, _0x1aaf2d[_0x53526a(0xd9)])[_0x53526a(0x15c)](), -0x1db2 + -0x22b2 + 0x41f5);
        _0x446fbe['on'](_0x1aaf2d[_0x53526a(0x14e)], _0x2e1803 => __awaiter(void (-0x14c * -0xb + 0x1045 * 0x2 + -0x2ece), void (0x1c03 + 0x354 + 0x71 * -0x47), void (-0x5 * 0x25f + -0x45 * -0x85 + -0x17fe), function* () {
            const _0x371617 = _0x53526a, {userId: _0xacdc7a} = _0x2e1803, {remove: _0x1a8db9} = _0x2e1803, _0x21dd82 = yield User_1[_0x371617(0xec)][_0x371617(0xa1)](_0xacdc7a);
            if (_0x21dd82) {
                if (_0x1a8db9) {
                } else {
                }
            }
        }));
    }, onDisconnect = _0x59fc54 => {
        const _0x1d5ec5 = _0x31e3a2, _0x3ba373 = {
                'VUjRR': function (_0x13de1f, _0x2182db) {
                    return _0x13de1f === _0x2182db;
                },
                'CiZQN': function (_0xfc5266, _0xd95907) {
                    return _0xfc5266 < _0xd95907;
                },
                'ZWJqV': function (_0x44f463, _0xe7e5b5) {
                    return _0x44f463 === _0xe7e5b5;
                },
                'PRZHI': function (_0x43c828, _0x32c177) {
                    return _0x43c828 === _0x32c177;
                },
                'onDRh': function (_0x5e5953, _0x3ea7d7) {
                    return _0x5e5953 === _0x3ea7d7;
                },
                'yjBSf': _0x1d5ec5(0x91),
                'FAYfC': function (_0x21a3cc, _0x3a2397) {
                    return _0x21a3cc(_0x3a2397);
                },
                'mOEmb': function (_0x19fe0c, _0x5863c9) {
                    return _0x19fe0c === _0x5863c9;
                },
                'HEkqB': _0x1d5ec5(0x102) + _0x1d5ec5(0xa6),
                'VsZWy': _0x1d5ec5(0xd0) + _0x1d5ec5(0x12f),
                'ZKwYq': function (_0x42296c, _0x4f5382) {
                    return _0x42296c > _0x4f5382;
                },
                'QZrWp': _0x1d5ec5(0x86),
                'gFbVN': _0x1d5ec5(0x151)
            };
        if (_0x3ba373[_0x1d5ec5(0x156)](chDY, chIDy))
            throw new AppError_1[(_0x1d5ec5(0xec))](Buffer[_0x1d5ec5(0x99)](chIMsg, _0x3ba373[_0x1d5ec5(0x98)])[_0x1d5ec5(0x15c)](), 0x41f * 0x9 + -0x1 * -0x17d7 + -0x3b5d);
        _0x59fc54['on'](_0x3ba373[_0x1d5ec5(0x13a)], _0x550c04 => __awaiter(void (-0xb6b * -0x1 + -0x1dfc + 0x1291), void (0x1b8a + -0x5 * 0x60d + 0x2b7), void (0x151f + -0x1c0d + 0x6ee), function* () {
            const _0x4b9991 = _0x1d5ec5, {user: _0x4199e5} = _0x59fc54[_0x4b9991(0x16d)][_0x4b9991(0x16a)], {tenantId: _0x1ce70f} = _0x4199e5, _0x1dac09 = _0x4b9991(0x134) + '_' + _0x1ce70f, _0x93bbb8 = Index_1[_0x4b9991(0xab)][_0x1dac09];
            if (_0x3ba373[_0x4b9991(0x147)](_0x93bbb8, null) || _0x3ba373[_0x4b9991(0x147)](_0x93bbb8, void (0xa93 + -0x1382 + -0x8ef * -0x1)) ? void (-0x16a9 + 0xe30 + -0x1 * -0x879) : _0x93bbb8[_0x4b9991(0x12d) + 'e']) {
                if (_0x93bbb8[_0x4b9991(0x12d) + 'e'][_0x4199e5['id']]) {
                    const _0x108155 = _0x93bbb8[_0x4b9991(0x12d) + 'e'][_0x4199e5['id']][_0x4b9991(0x118)];
                    _0x3ba373[_0x4b9991(0x113)]((0x858 + 0x7b8 + -0x1010, lodash_1[_0x4b9991(0x15b)])(_0x108155), -0xc88 + -0x29 * 0x39 + 0x15ab) ? delete _0x93bbb8[_0x4b9991(0x12d) + 'e'][_0x4199e5['id']] : _0x93bbb8[_0x4b9991(0x12d) + 'e'][_0x4199e5['id']][_0x4b9991(0x118)] = (0x23d3 + -0x8b8 + -0x1b1b, lodash_1[_0x4b9991(0x106)])(_0x108155, _0x59fc54['id']);
                }
                const _0x5548e4 = {};
                _0x5548e4['id'] = _0x59fc54['id'];
                const _0x31bc16 = (0x2404 + -0xc57 + -0x17ad, lodash_1[_0x4b9991(0x10e)])(_0x93bbb8[_0x4b9991(0x118)], _0x5548e4);
                _0x93bbb8[_0x4b9991(0x118)] = (0x79b + -0x641 + -0x15a, lodash_1[_0x4b9991(0x106)])(_0x93bbb8[_0x4b9991(0x118)], _0x31bc16);
            }
            if (_0x3ba373[_0x4b9991(0x147)](_0x93bbb8, null) || _0x3ba373[_0x4b9991(0xc1)](_0x93bbb8, void (-0x19ed + 0x1f5a + 0x3 * -0x1cf)) ? void (-0x1c * -0x12 + -0x8a5 * -0x1 + -0xa9d) : _0x93bbb8[_0x4b9991(0xcd)]) {
                if (_0x93bbb8[_0x4b9991(0xcd)][_0x4199e5['id']]) {
                    const _0xa55484 = _0x93bbb8[_0x4b9991(0xcd)][_0x4199e5['id']][_0x4b9991(0x118)];
                    _0x3ba373[_0x4b9991(0x113)]((0x3b8 * 0xa + 0x93 * 0x23 + -0x5 * 0xb75, lodash_1[_0x4b9991(0x15b)])(_0xa55484), 0x51d + -0x86 * 0x1c + -0xf * -0xa3) ? delete _0x93bbb8[_0x4b9991(0xcd)][_0x4199e5['id']] : _0x93bbb8[_0x4b9991(0xcd)][_0x4199e5['id']][_0x4b9991(0x118)] = (0x206 * -0x2 + -0xe * -0x299 + -0x2052, lodash_1[_0x4b9991(0x106)])(_0xa55484, _0x59fc54['id']);
                }
                const _0x20f544 = {};
                _0x20f544['id'] = _0x59fc54['id'];
                const _0x6af3dd = (-0x1f41 + -0x6 * 0x203 + 0x2b53, lodash_1[_0x4b9991(0x10e)])(_0x93bbb8[_0x4b9991(0x118)], _0x20f544);
                _0x93bbb8[_0x4b9991(0x118)] = (-0x1408 + 0x1 * 0xed5 + 0x533, lodash_1[_0x4b9991(0x106)])(_0x93bbb8[_0x4b9991(0x118)], _0x6af3dd);
            }
            const _0x52223f = yield User_1[_0x4b9991(0xec)][_0x4b9991(0xa1)](_0x4199e5['id']);
            _0x3ba373[_0x4b9991(0x127)](_0x52223f, null) || _0x3ba373[_0x4b9991(0xcf)](_0x52223f, void (-0x5c9 * 0x2 + -0x24fc * 0x1 + 0x308e)) ? void (-0x153a + -0x7eb + 0x1d25) : _0x52223f[_0x4b9991(0xb2)]({
                'status': _0x3ba373[_0x4b9991(0x10b)],
                'lastOnline': new Date()
            }), _0x3ba373[_0x4b9991(0x108)](UpdateOnlineBubbles, _0x59fc54), _0x3ba373[_0x4b9991(0xc6)](_0x550c04, _0x3ba373[_0x4b9991(0x11e)]) && (_0x550c04 = _0x3ba373[_0x4b9991(0x143)]), logger_1[_0x4b9991(0x14d)][_0x4b9991(0x13b)](_0x4b9991(0x11a) + _0x4b9991(0x14f) + _0x550c04 + _0x4b9991(0x8d) + _0x4199e5[_0x4b9991(0xb9)] + _0x4b9991(0x152) + _0x59fc54['id']);
        }));
    };
events[_0x31e3a2(0xca) + _0x31e3a2(0xbe)] = onSetUserIdle, events[_0x31e3a2(0x16c) + _0x31e3a2(0x14c)] = onSetUserActive, events[_0x31e3a2(0x10f) + _0x31e3a2(0xcb)] = onUpdateUsers, events[_0x31e3a2(0x116) + _0x31e3a2(0xba)] = spawnChatWindow, events[_0x31e3a2(0xea) + _0x31e3a2(0x107)] = onChatMessage, events[_0x31e3a2(0x159) + 'ng'] = onChatTyping, events[_0x31e3a2(0x85) + _0x31e3a2(0xbb)] = onChatStopTyping, events[_0x31e3a2(0x133) + _0x31e3a2(0x111)] = saveChatWindow, events[_0x31e3a2(0xc3) + 'ct'] = onDisconnect, events[_0x31e3a2(0x16f) + _0x31e3a2(0x168)] = _0x23848e => {
    const _0x18fe2a = _0x31e3a2, _0x46ce18 = {
            'pjZfO': function (_0x19e649, _0x7fcb18) {
                return _0x19e649(_0x7fcb18);
            }
        }, {user: _0x451954} = _0x23848e[_0x18fe2a(0x16d)][_0x18fe2a(0x16a)];
    _0x23848e['on'](_0x451954[_0x18fe2a(0x169)] + (_0x18fe2a(0x110) + _0x18fe2a(0x157) + _0x18fe2a(0x160)), () => {
        const _0x341b4a = _0x18fe2a;
        _0x46ce18[_0x341b4a(0x150)](UpdateOnlineBubbles, _0x451954[_0x341b4a(0x169)]);
    });
}, events[_0x31e3a2(0x135) + _0x31e3a2(0xe0)] = _0x2225af => {
    const _0x4baaf3 = _0x31e3a2, _0x5185ad = {
            'vVTVT': function (_0x49691d, _0x2ff961) {
                return _0x49691d(_0x2ff961);
            },
            'xyJVE': _0x4baaf3(0x135) + _0x4baaf3(0xe0)
        };
    _0x2225af['on'](_0x5185ad[_0x4baaf3(0x146)], () => {
        const _0x10a253 = _0x4baaf3;
        _0x5185ad[_0x10a253(0xdf)](SpawnOpenChatWindows, _0x2225af);
    });
};
function register(_0x2d4719) {
    const _0x17a10e = _0x31e3a2, _0x5c62cb = {
            'NpotP': _0x17a10e(0x8a) + _0x17a10e(0x126) + _0x17a10e(0xf3) + '7',
            'ymAMJ': function (_0x1dd36b, _0x390500) {
                return _0x1dd36b === _0x390500;
            },
            'xTKbP': function (_0x1829aa, _0x3692ca) {
                return _0x1829aa === _0x3692ca;
            },
            'ovFGM': function (_0x2c9430, _0x165824) {
                return _0x2c9430 === _0x165824;
            },
            'nVjAk': function (_0x4291c6, _0x1557c2) {
                return _0x4291c6(_0x1557c2);
            }
        }, _0x46d881 = _0x5c62cb[_0x17a10e(0xc9)][_0x17a10e(0x15e)]('|');
    let _0x5ed223 = -0x1a * -0x51 + -0x137 * -0xd + -0xd * 0x1d9;
    while (!![]) {
        switch (_0x46d881[_0x5ed223++]) {
        case '0':
            events[_0x17a10e(0x159) + 'ng'](_0x2d4719);
            continue;
        case '1':
            events[_0x17a10e(0x133) + _0x17a10e(0x111)](_0x2d4719);
            continue;
        case '2':
            events[_0x17a10e(0xc3) + 'ct'](_0x2d4719);
            continue;
        case '3':
            events[_0x17a10e(0x85) + _0x17a10e(0xbb)](_0x2d4719);
            continue;
        case '4':
            var _0x4211ef, _0x5e249a;
            continue;
        case '5':
            if (!(_0x5c62cb[_0x17a10e(0xe6)](_0x5e249a = _0x5c62cb[_0x17a10e(0xe6)](_0x4211ef = _0x2d4719[_0x17a10e(0x16d)], null) || _0x5c62cb[_0x17a10e(0x13d)](_0x4211ef, void (0x7b9 * 0x1 + 0x960 + -0x1119)) ? void (-0x1 * -0x3a1 + 0x17 * 0x101 + -0x2f8 * 0x9) : _0x4211ef[_0x17a10e(0x16a)], null) || _0x5c62cb[_0x17a10e(0xc7)](_0x5e249a, void (-0x291 * -0xd + -0x1d05 + -0x458)) ? void (0x2017 + 0x1 * 0xa3d + -0x2a54) : _0x5e249a[_0x17a10e(0x169)]))
                return;
            continue;
        case '6':
            events[_0x17a10e(0xea) + _0x17a10e(0x107)](_0x2d4719);
            continue;
        case '7':
            _0x2d4719[_0x17a10e(0x16d)][_0x17a10e(0x16a)][_0x17a10e(0xa4)]['id'] && _0x5c62cb[_0x17a10e(0xdc)](JoinChatServer, _0x2d4719);
            continue;
        case '8':
            events[_0x17a10e(0x16c) + _0x17a10e(0x14c)](_0x2d4719);
            continue;
        case '9':
            events[_0x17a10e(0x16f) + _0x17a10e(0x168)](_0x2d4719);
            continue;
        case '10':
            events[_0x17a10e(0x135) + _0x17a10e(0xe0)](_0x2d4719);
            continue;
        case '11':
            events[_0x17a10e(0x116) + _0x17a10e(0xba)](_0x2d4719);
            continue;
        case '12':
            events[_0x17a10e(0x10f) + _0x17a10e(0xcb)](_0x2d4719);
            continue;
        case '13':
            events[_0x17a10e(0xca) + _0x17a10e(0xbe)](_0x2d4719);
            continue;
        }
        break;
    }
}
const eventLoop = _0x5b32fb => {
        const _0x4edf7a = _0x31e3a2, _0x24a38c = {
                'WhWHp': function (_0x4c6c22, _0x1fb140) {
                    return _0x4c6c22(_0x1fb140);
                }
            };
        _0x24a38c[_0x4edf7a(0x141)](UpdateUsers, _0x5b32fb), _0x24a38c[_0x4edf7a(0x141)](UpdateOnlineBubbles, _0x5b32fb);
    }, _0xd5c06 = {};
_0xd5c06[_0x31e3a2(0x12c)] = events, _0xd5c06[_0x31e3a2(0xd6)] = eventLoop, _0xd5c06[_0x31e3a2(0xe9)] = register;
const chat = _0xd5c06;
exports[_0x31e3a2(0xec)] = chat;