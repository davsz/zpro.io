'use strict';
const _0xfe6ea6 = _0x4635;
function _0x4635(_0x4693c3, _0x5d70fd) {
    const _0x59504e = _0x2f42();
    return _0x4635 = function (_0xff102c, _0xf9c559) {
        _0xff102c = _0xff102c - (0x4c2 + -0x11f * 0x13 + 0x1240);
        let _0x57f432 = _0x59504e[_0xff102c];
        return _0x57f432;
    }, _0x4635(_0x4693c3, _0x5d70fd);
}
(function (_0x8519e3, _0xf85e3c) {
    const _0x51ecc9 = _0x4635, _0x31cbd6 = _0x8519e3();
    while (!![]) {
        try {
            const _0x205293 = parseInt(_0x51ecc9(0x1d9)) / (0x121f * -0x1 + 0x2e7 + 0xf39) * (-parseInt(_0x51ecc9(0x1bd)) / (-0x5f5 * -0x5 + -0x6 * -0x5bc + -0x402f)) + -parseInt(_0x51ecc9(0x1ca)) / (-0x323 * -0xb + -0x1 * 0x2104 + 0x2 * -0xbd) * (-parseInt(_0x51ecc9(0x1e8)) / (0x1417 + -0x11f8 + -0x21b)) + -parseInt(_0x51ecc9(0x1cf)) / (0x10d * -0x2 + -0x1 * 0x1ba9 + 0x1dc8) + parseInt(_0x51ecc9(0x1d3)) / (-0x1d20 + 0x138d + -0x3f * -0x27) * (-parseInt(_0x51ecc9(0x1bf)) / (0x1172 + 0x1fef + 0x18ad * -0x2)) + parseInt(_0x51ecc9(0x1d4)) / (-0x2602 + 0x757 * 0x3 + 0x1005) * (parseInt(_0x51ecc9(0x1e7)) / (-0x989 * -0x3 + -0x1057 * 0x2 + -0x2 * -0x20e)) + -parseInt(_0x51ecc9(0x1d5)) / (0xcc * -0x29 + 0x29 * -0x9d + 0x39db) + -parseInt(_0x51ecc9(0x1e6)) / (0xb * -0x15b + 0x2 * 0x39e + -0x13 * -0x68) * (-parseInt(_0x51ecc9(0x1ea)) / (-0x616 + 0x25fc + -0x1fda));
            if (_0x205293 === _0xf85e3c)
                break;
            else
                _0x31cbd6['push'](_0x31cbd6['shift']());
        } catch (_0x48d00c) {
            _0x31cbd6['push'](_0x31cbd6['shift']());
        }
    }
}(_0x2f42, 0x2 * 0x1656b + -0x2a386 + -0x1 * -0x2f708));
var __awaiter = this && this[_0xfe6ea6(0x1e2)] || function (_0x16f1ad, _0x2eda4d, _0x17295b, _0x17af49) {
        const _0x2e0811 = _0xfe6ea6, _0x371d7a = {
                'UgCyx': function (_0x551a48, _0x51fb0d) {
                    return _0x551a48(_0x51fb0d);
                },
                'ohZxa': function (_0x3096e9, _0x109327) {
                    return _0x3096e9 instanceof _0x109327;
                },
                'aFsDq': function (_0x47520d, _0x3d5ec2) {
                    return _0x47520d(_0x3d5ec2);
                },
                'GWxeJ': _0x2e0811(0x1f2)
            };
        function _0x591a0c(_0x3b996a) {
            const _0x387775 = _0x2e0811;
            return _0x371d7a[_0x387775(0x1de)](_0x3b996a, _0x17295b) ? _0x3b996a : new _0x17295b(function (_0x453896) {
                const _0x2dbb51 = _0x387775;
                _0x371d7a[_0x2dbb51(0x1be)](_0x453896, _0x3b996a);
            });
        }
        return new (_0x17295b || (_0x17295b = Promise))(function (_0x3702b5, _0x17790f) {
            const _0x4a1e13 = _0x2e0811, _0x158b01 = {
                    'ggANN': function (_0x3c7a47, _0x479db8) {
                        const _0x45300f = _0x4635;
                        return _0x371d7a[_0x45300f(0x1d0)](_0x3c7a47, _0x479db8);
                    },
                    'bEwFd': _0x371d7a[_0x4a1e13(0x1b6)],
                    'HFXDB': function (_0x50b2e6, _0x58e4b9) {
                        const _0xa9f147 = _0x4a1e13;
                        return _0x371d7a[_0xa9f147(0x1be)](_0x50b2e6, _0x58e4b9);
                    }
                };
            function _0x65185(_0x5cdbbb) {
                const _0x3555c2 = _0x4a1e13;
                try {
                    _0x371d7a[_0x3555c2(0x1be)](_0x4bf6f5, _0x17af49[_0x3555c2(0x1e1)](_0x5cdbbb));
                } catch (_0x58cd48) {
                    _0x371d7a[_0x3555c2(0x1be)](_0x17790f, _0x58cd48);
                }
            }
            function _0xea40a3(_0x1e7254) {
                const _0x1d255f = _0x4a1e13;
                try {
                    _0x158b01[_0x1d255f(0x1d2)](_0x4bf6f5, _0x17af49[_0x158b01[_0x1d255f(0x1dc)]](_0x1e7254));
                } catch (_0x576544) {
                    _0x158b01[_0x1d255f(0x1d2)](_0x17790f, _0x576544);
                }
            }
            function _0x4bf6f5(_0x1a8bd4) {
                const _0x3e358e = _0x4a1e13;
                _0x1a8bd4[_0x3e358e(0x1d6)] ? _0x158b01[_0x3e358e(0x1ba)](_0x3702b5, _0x1a8bd4[_0x3e358e(0x1b8)]) : _0x158b01[_0x3e358e(0x1d2)](_0x591a0c, _0x1a8bd4[_0x3e358e(0x1b8)])[_0x3e358e(0x1d7)](_0x65185, _0xea40a3);
            }
            _0x371d7a[_0x4a1e13(0x1d0)](_0x4bf6f5, (_0x17af49 = _0x17af49[_0x4a1e13(0x1f1)](_0x16f1ad, _0x2eda4d || []))[_0x4a1e13(0x1e1)]());
        });
    }, __importDefault = this && this[_0xfe6ea6(0x1e3) + _0xfe6ea6(0x1d8)] || function (_0x188c23) {
        const _0x400c2c = _0xfe6ea6;
        return _0x188c23 && _0x188c23[_0x400c2c(0x1ef)] ? _0x188c23 : { 'default': _0x188c23 };
    };
const _0x7a9b44 = {};
_0x7a9b44[_0xfe6ea6(0x1b8)] = !![], Object[_0xfe6ea6(0x1c3) + _0xfe6ea6(0x1e4)](exports, _0xfe6ea6(0x1ef), _0x7a9b44);
const Message_1 = __importDefault(require(_0xfe6ea6(0x1cc) + _0xfe6ea6(0x1d1))), Ticket_1 = __importDefault(require(_0xfe6ea6(0x1cc) + _0xfe6ea6(0x1cd))), socketEmit_1 = __importDefault(require(_0xfe6ea6(0x1da) + _0xfe6ea6(0x1dd) + _0xfe6ea6(0x1e5))), Contact_1 = __importDefault(require(_0xfe6ea6(0x1cc) + _0xfe6ea6(0x1c5))), CreateMessageService = ({
        messageData: _0x5a7937,
        tenantId: _0x13fc65
    }) => __awaiter(void (-0x2 * 0x265 + 0x24d1 + -0x1 * 0x2007), void (-0x28 * -0x4 + 0x16cd + -0x176d), void (0x1 * 0x1442 + 0x8 * 0x499 + -0x390a), function* () {
        const _0x3869a4 = _0xfe6ea6, _0x744cfa = {};
        _0x744cfa[_0x3869a4(0x1ee)] = _0x3869a4(0x1c4), _0x744cfa[_0x3869a4(0x1b5)] = _0x3869a4(0x1ec), _0x744cfa[_0x3869a4(0x1c1)] = _0x3869a4(0x1e0), _0x744cfa[_0x3869a4(0x1c8)] = _0x3869a4(0x1c2), _0x744cfa[_0x3869a4(0x1bb)] = _0x3869a4(0x1ed) + _0x3869a4(0x1ce), _0x744cfa[_0x3869a4(0x1eb)] = _0x3869a4(0x1cb) + 'e';
        const _0x29f2d5 = _0x744cfa, _0x5608d8 = {};
        _0x5608d8[_0x3869a4(0x1b7)] = _0x5a7937[_0x3869a4(0x1b7)], _0x5608d8[_0x3869a4(0x1db)] = _0x13fc65;
        const _0x16f1d4 = {};
        _0x16f1d4[_0x3869a4(0x1bc)] = _0x5608d8;
        const _0x43a083 = yield Message_1[_0x3869a4(0x1c7)][_0x3869a4(0x1df)](_0x16f1d4);
        if (!_0x43a083) {
            const _0x42e20f = {};
            _0x42e20f[_0x3869a4(0x1db)] = _0x13fc65, yield Message_1[_0x3869a4(0x1c7)][_0x3869a4(0x1f3)](Object[_0x3869a4(0x1c6)](Object[_0x3869a4(0x1c6)]({}, _0x5a7937), _0x42e20f));
        } else
            yield _0x43a083[_0x3869a4(0x1e9)](_0x5a7937);
        const _0x18034e = {};
        _0x18034e[_0x3869a4(0x1b7)] = _0x5a7937[_0x3869a4(0x1b7)], _0x18034e[_0x3869a4(0x1db)] = _0x13fc65;
        const _0x2c4ef2 = {};
        _0x2c4ef2[_0x3869a4(0x1db)] = _0x13fc65;
        const _0xe35b04 = {};
        _0xe35b04[_0x3869a4(0x1c0)] = Ticket_1[_0x3869a4(0x1c7)], _0xe35b04['as'] = _0x29f2d5[_0x3869a4(0x1ee)], _0xe35b04[_0x3869a4(0x1bc)] = _0x2c4ef2, _0xe35b04[_0x3869a4(0x1c9)] = [_0x29f2d5[_0x3869a4(0x1b5)]];
        const _0x2e4626 = yield Message_1[_0x3869a4(0x1c7)][_0x3869a4(0x1df)]({
            'where': _0x18034e,
            'include': [
                _0xe35b04,
                {
                    'model': Message_1[_0x3869a4(0x1c7)],
                    'as': _0x29f2d5[_0x3869a4(0x1c1)],
                    'include': [_0x29f2d5[_0x3869a4(0x1b5)]]
                },
                {
                    'model': Contact_1[_0x3869a4(0x1c7)],
                    'attributes': [
                        'id',
                        _0x29f2d5[_0x3869a4(0x1c8)]
                    ]
                }
            ]
        });
        if (!_0x2e4626)
            throw new Error(_0x29f2d5[_0x3869a4(0x1bb)]);
        const _0x29baaf = {};
        return _0x29baaf[_0x3869a4(0x1db)] = _0x13fc65, _0x29baaf[_0x3869a4(0x1f0)] = _0x29f2d5[_0x3869a4(0x1eb)], _0x29baaf[_0x3869a4(0x1b9)] = _0x2e4626, (-0xddc + 0xdb * -0x7 + 0x1 * 0x13d9, socketEmit_1[_0x3869a4(0x1c7)])(_0x29baaf), _0x2e4626;
    });
function _0x2f42() {
    const _0x5e0247 = [
        '1640JrlLVi',
        'update',
        '84eprwKH',
        'YvfUj',
        'contact',
        'ERR_CREATI',
        'uNBFZ',
        '__esModule',
        'type',
        'apply',
        'throw',
        'create',
        'UtTBB',
        'GWxeJ',
        'messageId',
        'value',
        'payload',
        'HFXDB',
        'RhUrQ',
        'where',
        '118RuvbiT',
        'UgCyx',
        '315JyynjP',
        'model',
        'DgGIV',
        'name',
        'defineProp',
        'ticket',
        'ls/Contact',
        'assign',
        'default',
        'ZOdJS',
        'include',
        '537WUHyZm',
        'chat:creat',
        '../../mode',
        'ls/Ticket',
        'NG_MESSAGE',
        '1026720KSdNGz',
        'aFsDq',
        'ls/Message',
        'ggANN',
        '51144fuJbZw',
        '349872kpDGcq',
        '1221440gzSyJn',
        'done',
        'then',
        'fault',
        '2817GuEiwh',
        '../../help',
        'tenantId',
        'bEwFd',
        'ers/socket',
        'ohZxa',
        'findOne',
        'quotedMsg',
        'next',
        '__awaiter',
        '__importDe',
        'erty',
        'Emit',
        '1515679fTBxXe',
        '9sNfHCQ'
    ];
    _0x2f42 = function () {
        return _0x5e0247;
    };
    return _0x2f42();
}
exports[_0xfe6ea6(0x1c7)] = CreateMessageService;