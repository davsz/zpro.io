'use strict';
const _0x31c1d5 = _0x578f;
function _0x1bf1() {
    const _0x422e58 = [
        'message_id',
        'received',
        'attachment',
        'responseTy',
        'ageId',
        'stream',
        'vVmlN',
        'parameters',
        'ers/getQuo',
        'xuKka',
        'Brcdd',
        'then',
        'WGApF',
        'error',
        '../Message',
        '36RKtSAZ',
        'createWrit',
        'erty',
        'map',
        'jhzVa',
        'SbFYU',
        '__importDe',
        'sqlfX',
        'public',
        'tenantId',
        'bSxVi',
        '24LDEsje',
        'content-ty',
        'oBzDO',
        '12qqlizZ',
        '22024qkwaWb',
        'HHaPK',
        'ZeaOw',
        'data',
        'method',
        'GrGsL',
        'sposition',
        'messageDat',
        'message',
        'Xbyjs',
        'default',
        'oisdu',
        'split',
        '287RyyuvV',
        'fault',
        'mhmpL',
        '3673353YDZyYd',
        'reply_to',
        'apply',
        'join',
        '43124WZcrvP',
        'finish',
        'GnBru',
        'tedForMess',
        '1138925KGuUUd',
        'geService',
        'headers',
        'TYGnD',
        'Zeaan',
        'KpRuY',
        'filename',
        'all',
        'defineProp',
        '720470ePyVbZ',
        'text',
        '2674932AYSvlv',
        'ERROR\x20DONW',
        'getTime',
        'GET',
        'DLBdu',
        'MtXQw',
        'path',
        'timestamp',
        'QTYJv',
        'SuLdu',
        'jxvIF',
        'hqEqe',
        'wvdGV',
        'NtQSJ',
        'LOAD',
        'Services/C',
        'done',
        'reateMessa',
        'pipe',
        'next',
        'url',
        'content-di',
        '__esModule',
        'update',
        'value',
        'parse',
        'type',
        '4552713pSCVzZ',
        'ZJuYk',
        'payload',
        'npeql',
        'YeMFA',
        'axios',
        '6tzDmuv',
        'fromMe',
        '../../help',
        '__awaiter',
        'mid',
        'eStream',
        'gkmaE',
        'throw'
    ];
    _0x1bf1 = function () {
        return _0x422e58;
    };
    return _0x1bf1();
}
function _0x578f(_0x49d451, _0x523733) {
    const _0xf2f429 = _0x1bf1();
    return _0x578f = function (_0xdd9891, _0x72f1eb) {
        _0xdd9891 = _0xdd9891 - (0x2b0 + -0x4 * -0x83f + 0x3b * -0x95);
        let _0x130e82 = _0xf2f429[_0xdd9891];
        return _0x130e82;
    }, _0x578f(_0x49d451, _0x523733);
}
(function (_0x46c388, _0x24c970) {
    const _0x1571d5 = _0x578f, _0x276924 = _0x46c388();
    while (!![]) {
        try {
            const _0x5cd08d = parseInt(_0x1571d5(0x1a6)) / (-0x27a * 0x8 + 0xc22 + -0x7 * -0x119) * (parseInt(_0x1571d5(0x191)) / (0x801 + 0x5e + 0x1 * -0x85d)) + -parseInt(_0x1571d5(0x1a2)) / (-0x1 * 0x70c + -0xd5b + 0x146a) + parseInt(_0x1571d5(0x1b5)) / (0x1580 + 0x18c5 * -0x1 + -0x1d * -0x1d) + -parseInt(_0x1571d5(0x1aa)) / (-0x49 * 0x79 + -0x3b1 + 0x2637) * (parseInt(_0x1571d5(0x16c)) / (0x1101 * 0x2 + 0x182f + -0x1 * 0x3a2b)) + -parseInt(_0x1571d5(0x19f)) / (0x1830 + 0x773 * 0x3 + -0x2e82) * (-parseInt(_0x1571d5(0x192)) / (0xb41 * 0x3 + 0xe94 + -0x304f)) + parseInt(_0x1571d5(0x183)) / (-0x2ca * -0x5 + -0x1f66 + 0x117d) * (parseInt(_0x1571d5(0x1b3)) / (0x18d * -0x15 + -0x6b * -0x59 + -0x498)) + parseInt(_0x1571d5(0x166)) / (-0xc * -0xc5 + -0x879 * 0x1 + -0xb8) * (parseInt(_0x1571d5(0x18e)) / (-0xb21 + 0x1 * 0x51b + 0x3 * 0x206));
            if (_0x5cd08d === _0x24c970)
                break;
            else
                _0x276924['push'](_0x276924['shift']());
        } catch (_0x46c6f1) {
            _0x276924['push'](_0x276924['shift']());
        }
    }
}(_0x1bf1, -0x1d7a7 + 0x7 * 0x28e49 + -0x54e14));
var __awaiter = this && this[_0x31c1d5(0x16f)] || function (_0x43d236, _0x11d961, _0x43688b, _0x4433c2) {
        const _0x418f66 = _0x31c1d5, _0x424160 = {
                'ZeaOw': function (_0xa4aa67, _0x3c30c3) {
                    return _0xa4aa67(_0x3c30c3);
                },
                'npeql': function (_0x5c7500, _0x2b8e44) {
                    return _0x5c7500 instanceof _0x2b8e44;
                },
                'MtXQw': function (_0x1fff24, _0xec36fb) {
                    return _0x1fff24(_0xec36fb);
                },
                'jhzVa': _0x418f66(0x173)
            };
        function _0x2a23e8(_0x3bd8f0) {
            const _0x1ed5cd = _0x418f66, _0xac3397 = {
                    'SbFYU': function (_0x1ef5a9, _0x2936cc) {
                        const _0x2bb3b6 = _0x578f;
                        return _0x424160[_0x2bb3b6(0x194)](_0x1ef5a9, _0x2936cc);
                    }
                };
            return _0x424160[_0x1ed5cd(0x169)](_0x3bd8f0, _0x43688b) ? _0x3bd8f0 : new _0x43688b(function (_0xbbbc1) {
                const _0x2b5222 = _0x1ed5cd;
                _0xac3397[_0x2b5222(0x188)](_0xbbbc1, _0x3bd8f0);
            });
        }
        return new (_0x43688b || (_0x43688b = Promise))(function (_0x108cb8, _0x536d00) {
            const _0x1309d8 = _0x418f66, _0x168b78 = {
                    'ZJuYk': function (_0x12f3e0, _0x4a4e61) {
                        const _0x5a7122 = _0x578f;
                        return _0x424160[_0x5a7122(0x194)](_0x12f3e0, _0x4a4e61);
                    },
                    'TYGnD': function (_0x526148, _0x2de1d9) {
                        const _0x41258b = _0x578f;
                        return _0x424160[_0x41258b(0x1ba)](_0x526148, _0x2de1d9);
                    },
                    'KpRuY': function (_0x3eeaf1, _0x21bb5d) {
                        const _0xd4dfe1 = _0x578f;
                        return _0x424160[_0xd4dfe1(0x194)](_0x3eeaf1, _0x21bb5d);
                    },
                    'NtQSJ': _0x424160[_0x1309d8(0x187)],
                    'xuKka': function (_0x383570, _0xbd46df) {
                        const _0x13a9b7 = _0x1309d8;
                        return _0x424160[_0x13a9b7(0x194)](_0x383570, _0xbd46df);
                    }
                };
            function _0x3f2203(_0x4c14ff) {
                const _0x25cae7 = _0x1309d8;
                try {
                    _0x168b78[_0x25cae7(0x167)](_0x2f00d4, _0x4433c2[_0x25cae7(0x15e)](_0x4c14ff));
                } catch (_0x5963ea) {
                    _0x168b78[_0x25cae7(0x1ad)](_0x536d00, _0x5963ea);
                }
            }
            function _0x121442(_0x739817) {
                const _0x594928 = _0x1309d8;
                try {
                    _0x168b78[_0x594928(0x1af)](_0x2f00d4, _0x4433c2[_0x168b78[_0x594928(0x158)]](_0x739817));
                } catch (_0xabff8a) {
                    _0x168b78[_0x594928(0x17d)](_0x536d00, _0xabff8a);
                }
            }
            function _0x2f00d4(_0x219fec) {
                const _0x53cfa8 = _0x1309d8;
                _0x219fec[_0x53cfa8(0x15b)] ? _0x168b78[_0x53cfa8(0x1ad)](_0x108cb8, _0x219fec[_0x53cfa8(0x163)]) : _0x168b78[_0x53cfa8(0x167)](_0x2a23e8, _0x219fec[_0x53cfa8(0x163)])[_0x53cfa8(0x17f)](_0x3f2203, _0x121442);
            }
            _0x424160[_0x1309d8(0x194)](_0x2f00d4, (_0x4433c2 = _0x4433c2[_0x1309d8(0x1a4)](_0x43d236, _0x11d961 || []))[_0x1309d8(0x15e)]());
        });
    }, __importDefault = this && this[_0x31c1d5(0x189) + _0x31c1d5(0x1a0)] || function (_0x5d2a35) {
        const _0x394267 = _0x31c1d5;
        return _0x5d2a35 && _0x5d2a35[_0x394267(0x161)] ? _0x5d2a35 : { 'default': _0x5d2a35 };
    };
const _0xc6e829 = {};
_0xc6e829[_0x31c1d5(0x163)] = !![], Object[_0x31c1d5(0x1b2) + _0x31c1d5(0x185)](exports, _0x31c1d5(0x161), _0xc6e829);
const path_1 = require(_0x31c1d5(0x1bb)), axios_1 = __importDefault(require(_0x31c1d5(0x16b))), fs_1 = require('fs'), content_disposition_1 = __importDefault(require(_0x31c1d5(0x160) + _0x31c1d5(0x198))), CreateMessageService_1 = __importDefault(require(_0x31c1d5(0x182) + _0x31c1d5(0x15a) + _0x31c1d5(0x15c) + _0x31c1d5(0x1ab))), getQuotedForMessageId_1 = __importDefault(require(_0x31c1d5(0x16e) + _0x31c1d5(0x17c) + _0x31c1d5(0x1a9) + _0x31c1d5(0x178))), downloadFile = (_0x227710, _0x20a389) => __awaiter(void (-0x1 * -0x1b95 + 0x1344 * -0x2 + 0xaf3), void (0x1 * -0x255e + -0x1756 * -0x1 + 0xe08), void (-0x37 * 0x6a + -0x97e + 0x2044), function* () {
        const _0x202e69 = _0x31c1d5, _0x2017b8 = {
                'Zeaan': function (_0x4300ac, _0xb770bc) {
                    return _0x4300ac(_0xb770bc);
                },
                'YeMFA': _0x202e69(0x1b6) + _0x202e69(0x159),
                'oisdu': _0x202e69(0x1a7),
                'hqEqe': _0x202e69(0x181),
                'HHaPK': _0x202e69(0x1b8),
                'oBzDO': _0x202e69(0x179),
                'DLBdu': _0x202e69(0x160) + _0x202e69(0x198),
                'QTYJv': function (_0x2edd11, _0x26252c) {
                    return _0x2edd11 === _0x26252c;
                },
                'Brcdd': _0x202e69(0x18f) + 'pe',
                'Xbyjs': _0x202e69(0x18b)
            };
        var _0x59a5fb;
        const _0x556770 = {};
        _0x556770[_0x202e69(0x15f)] = _0x227710, _0x556770[_0x202e69(0x196)] = _0x2017b8[_0x202e69(0x193)], _0x556770[_0x202e69(0x177) + 'pe'] = _0x2017b8[_0x202e69(0x190)];
        const _0x1d3bcd = yield (-0x12b6 + -0x1 * -0x2083 + -0xdcd, axios_1[_0x202e69(0x19c)])(_0x556770), _0x5a8dca = {};
        _0x5a8dca[_0x202e69(0x17b)] = {};
        const _0x35fd7f = _0x1d3bcd[_0x202e69(0x1ac)][_0x2017b8[_0x202e69(0x1b9)]] ? content_disposition_1[_0x202e69(0x19c)][_0x202e69(0x164)](_0x1d3bcd[_0x202e69(0x1ac)][_0x2017b8[_0x202e69(0x1b9)]] || '') : _0x5a8dca;
        let _0x374a3e = '';
        const _0x3caa0b = _0x2017b8[_0x202e69(0x1bd)](_0x59a5fb = _0x2017b8[_0x202e69(0x1bd)](_0x35fd7f, null) || _0x2017b8[_0x202e69(0x1bd)](_0x35fd7f, void (-0xc2 * 0xf + -0x1 * 0x1655 + -0x21b3 * -0x1)) ? void (0x1a22 + 0x2 * -0xe51 + -0x4 * -0xa0) : _0x35fd7f[_0x202e69(0x17b)], null) || _0x2017b8[_0x202e69(0x1bd)](_0x59a5fb, void (0xef5 * 0x1 + 0x4 * 0x3a4 + -0x1d85)) ? void (0x1 * 0x12a3 + -0x220b + -0x7b4 * -0x2) : _0x59a5fb[_0x202e69(0x1b0)];
        if (_0x3caa0b) {
            const _0x5ab7ea = _0x35fd7f[_0x202e69(0x17b)][_0x202e69(0x1b0)];
            _0x374a3e = new Date()[_0x202e69(0x1b7)]() + '-' + _0x5ab7ea;
        } else {
            const _0x26ae66 = _0x1d3bcd[_0x202e69(0x1ac)][_0x2017b8[_0x202e69(0x17e)]], _0x352e72 = _0x26ae66[_0x202e69(0x19e)]('/')[0x1592 + 0xb9b + -0x182 * 0x16];
            _0x374a3e = _0x20a389 + '-' + new Date()[_0x202e69(0x1b7)]() + '.' + _0x352e72;
        }
        const _0x23adc7 = (0x1 * 0x1bfe + 0x824 * 0x4 + -0x3c8e, path_1[_0x202e69(0x1a5)])(__dirname, '..', '..', '..', _0x2017b8[_0x202e69(0x19b)], _0x374a3e);
        return yield new Promise((_0x5764ef, _0x553bc9) => {
            const _0x244ccb = _0x202e69, _0x118964 = {
                    'GnBru': _0x2017b8[_0x244ccb(0x16a)],
                    'SuLdu': function (_0x2b612d, _0x1b6659) {
                        const _0x25225c = _0x244ccb;
                        return _0x2017b8[_0x25225c(0x1ae)](_0x2b612d, _0x1b6659);
                    }
                };
            _0x1d3bcd[_0x244ccb(0x195)][_0x244ccb(0x15d)]((0x1395 + 0x1 * -0xb3e + -0x857, fs_1[_0x244ccb(0x184) + _0x244ccb(0x171)])(_0x23adc7))['on'](_0x2017b8[_0x244ccb(0x19d)], () => __awaiter(void (-0x269 * 0x8 + -0x1 * 0x1beb + 0x2f33), void (0xe5 * 0x2b + 0x1 * 0x2b + 0x26a2 * -0x1), void (-0x106 + -0x1245 + 0xb * 0x1c1), function* () {
                const _0x93ba54 = _0x244ccb;
                return _0x2017b8[_0x93ba54(0x1ae)](_0x5764ef, _0x374a3e);
            }))['on'](_0x2017b8[_0x244ccb(0x156)], _0x5e8246 => {
                const _0x372bcb = _0x244ccb;
                console[_0x372bcb(0x181)](_0x118964[_0x372bcb(0x1a8)], _0x5e8246), _0x118964[_0x372bcb(0x1be)](_0x553bc9, new Error(_0x5e8246));
            });
        }), _0x374a3e;
    }), MessengerVerifyMediaMessage = (_0x50d54e, _0x3a4b34, _0x2f1426, _0x2bbd7f) => __awaiter(void (0x2608 + -0x1 * -0x1e2b + -0x1 * 0x4433), void (-0x3bb * 0x3 + -0x11c0 + 0x1f * 0xef), void (0xd70 + 0x22f6 + -0x3066), function* () {
        const _0xebd86a = _0x31c1d5, _0x172ab6 = {
                'jxvIF': function (_0x119129, _0x2a680e, _0x3e4d6c) {
                    return _0x119129(_0x2a680e, _0x3e4d6c);
                },
                'bSxVi': function (_0x4f906c, _0x2d902c) {
                    return _0x4f906c === _0x2d902c;
                },
                'wvdGV': function (_0x3cffbe, _0x111904) {
                    return _0x3cffbe === _0x111904;
                },
                'WGApF': function (_0x479fb4, _0x425381) {
                    return _0x479fb4 === _0x425381;
                },
                'gkmaE': function (_0x223909, _0x592e2c) {
                    return _0x223909 === _0x592e2c;
                },
                'vVmlN': function (_0x3e7589, _0x471f6c) {
                    return _0x3e7589 > _0x471f6c;
                },
                'mhmpL': _0xebd86a(0x175),
                'GrGsL': function (_0x578d0d, _0x53995f) {
                    return _0x578d0d === _0x53995f;
                },
                'sqlfX': function (_0x35b24e, _0x29ac4a) {
                    return _0x35b24e === _0x29ac4a;
                }
            };
        let _0x44f5ea;
        yield Promise[_0xebd86a(0x1b1)](_0x3a4b34[_0xebd86a(0x19a)][_0xebd86a(0x176) + 's'][_0xebd86a(0x186)]((_0x24d9c2, _0x1b64dc) => __awaiter(void (-0x494 * 0x2 + 0x39 + 0x8ef * 0x1), void (-0x881 + -0x29d + -0x1 * -0xb1e), void (-0x121d * -0x1 + -0x26ce + 0x1 * 0x14b1), function* () {
            const _0x1b579a = _0xebd86a;
            var _0x1309b7, _0x598d6, _0xbf617c, _0x16e786;
            const _0x22e5c9 = _0x2f1426['id'] + '_' + _0x3a4b34[_0x1b579a(0x174)];
            _0x44f5ea = yield _0x172ab6[_0x1b579a(0x155)](downloadFile, _0x24d9c2[_0x1b579a(0x168)][_0x1b579a(0x15f)], _0x22e5c9);
            let _0x4c7824;
            if (_0x172ab6[_0x1b579a(0x18d)](_0x598d6 = _0x172ab6[_0x1b579a(0x18d)](_0x1309b7 = _0x172ab6[_0x1b579a(0x18d)](_0x3a4b34, null) || _0x172ab6[_0x1b579a(0x157)](_0x3a4b34, void (-0xc22 * 0x1 + -0x1498 + 0x20ba)) ? void (-0x13b * 0x1f + -0xef2 * 0x1 + 0x3517 * 0x1) : _0x3a4b34[_0x1b579a(0x19a)], null) || _0x172ab6[_0x1b579a(0x180)](_0x1309b7, void (-0x46b + 0x10a3 + -0x22 * 0x5c)) ? void (-0x1d36 + -0xbe2 + -0xa * -0x41c) : _0x1309b7[_0x1b579a(0x1a3)], null) || _0x172ab6[_0x1b579a(0x157)](_0x598d6, void (-0xe4e + 0x3a + -0x2 * -0x70a)) ? void (0x423 + -0xff * 0xf + 0x2 * 0x567) : _0x598d6[_0x1b579a(0x170)]) {
                const _0x1df387 = yield (-0xf0e + -0x1488 + 0x2396, getQuotedForMessageId_1[_0x1b579a(0x19c)])(_0x3a4b34[_0x1b579a(0x19a)][_0x1b579a(0x1a3)][_0x1b579a(0x170)], _0x2f1426[_0x1b579a(0x18c)]);
                _0x4c7824 = (_0x172ab6[_0x1b579a(0x18d)](_0x1df387, null) || _0x172ab6[_0x1b579a(0x172)](_0x1df387, void (-0x750 + -0x1dff + 0x1 * 0x254f)) ? void (0xd1e + -0xf3 * 0xc + -0x1ba * 0x1) : _0x1df387['id']) || undefined;
            }
            const _0x3bc06f = {
                'messageId': _0x172ab6[_0x1b579a(0x17a)](_0x1b64dc, 0xd8f + 0x19f0 + 0x277f * -0x1) ? _0x3a4b34[_0x1b579a(0x174)] + '__' + _0x1b64dc : _0x3a4b34[_0x1b579a(0x174)] || '',
                'ticketId': _0x2f1426['id'],
                'contactId': _0x2bbd7f['id'],
                'body': (_0x172ab6[_0x1b579a(0x172)](_0xbf617c = _0x3a4b34[_0x1b579a(0x19a)], null) || _0x172ab6[_0x1b579a(0x180)](_0xbf617c, void (-0x1c1b + -0x17fa + 0x3415)) ? void (0x53d * 0x1 + 0x2543 + -0x1540 * 0x2) : _0xbf617c[_0x1b579a(0x1b4)]) || '',
                'fromMe': _0x3a4b34[_0x1b579a(0x16d)],
                'read': ![],
                'mediaUrl': _0x44f5ea,
                'mediaType': _0x3a4b34[_0x1b579a(0x165)],
                'quotedMsgId': _0x4c7824,
                'timestamp': +_0x3a4b34[_0x1b579a(0x1bc)],
                'status': _0x172ab6[_0x1b579a(0x1a1)]
            };
            yield _0x2f1426[_0x1b579a(0x162)]({
                'lastMessage': (_0x172ab6[_0x1b579a(0x197)](_0x16e786 = _0x3a4b34[_0x1b579a(0x19a)], null) || _0x172ab6[_0x1b579a(0x18a)](_0x16e786, void (0x2 * -0x481 + -0xb29 * -0x3 + -0x1879)) ? void (0x2dd + 0x261b * -0x1 + 0x1 * 0x233e) : _0x16e786[_0x1b579a(0x1b4)]) || _0x44f5ea || '',
                'lastMessageAt': new Date()[_0x1b579a(0x1b7)](),
                'answered': ![]
            });
            const _0x3790ad = {};
            _0x3790ad[_0x1b579a(0x199) + 'a'] = _0x3bc06f, _0x3790ad[_0x1b579a(0x18c)] = _0x2f1426[_0x1b579a(0x18c)], yield (-0x1 * -0xe8f + 0xab6 + -0x1945, CreateMessageService_1[_0x1b579a(0x19c)])(_0x3790ad);
        })));
    });
exports[_0x31c1d5(0x19c)] = MessengerVerifyMediaMessage;