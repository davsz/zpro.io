'use strict';
const _0x3b6f1c = _0x1821;
(function (_0x53c752, _0x2deded) {
    const _0x3fe6db = _0x1821, _0x17beb0 = _0x53c752();
    while (!![]) {
        try {
            const _0xae1a28 = parseInt(_0x3fe6db(0xb9)) / (0x1f32 + -0x2043 + 0x112) * (-parseInt(_0x3fe6db(0xb6)) / (0x80 * -0x2f + 0x2 * 0x103b + -0x23d * 0x4)) + parseInt(_0x3fe6db(0xb0)) / (0x24ad + -0x10 * -0x115 + -0x35fa) * (parseInt(_0x3fe6db(0xb2)) / (-0x1f * 0x26 + -0xd3b + -0x3 * -0x5f3)) + -parseInt(_0x3fe6db(0xc2)) / (0x6df + -0x5 * -0x441 + -0x1c1f) + -parseInt(_0x3fe6db(0xe4)) / (-0x823 * -0x1 + -0x985 * 0x2 + 0xaed) * (parseInt(_0x3fe6db(0xe3)) / (0x31 * -0x43 + 0x884 + 0x456)) + -parseInt(_0x3fe6db(0x7d)) / (-0xfef * -0x1 + 0x1305 + -0x22ec) * (parseInt(_0x3fe6db(0xd4)) / (0xb6 * -0x29 + 0x1ab8 + 0x1 * 0x277)) + -parseInt(_0x3fe6db(0xe6)) / (0x19b6 + -0x1d * -0x6d + 0x2605 * -0x1) * (-parseInt(_0x3fe6db(0xe0)) / (0x2057 + 0x85 * -0x2 + -0x1f42)) + parseInt(_0x3fe6db(0xcf)) / (-0x990 + 0x1 * -0x355 + 0x1 * 0xcf1);
            if (_0xae1a28 === _0x2deded)
                break;
            else
                _0x17beb0['push'](_0x17beb0['shift']());
        } catch (_0x470ef3) {
            _0x17beb0['push'](_0x17beb0['shift']());
        }
    }
}(_0x1cc6, 0x7a1ad + 0x1 * 0xa0d2b + -0x776e3));
var __awaiter = this && this[_0x3b6f1c(0xcc)] || function (_0x2314ca, _0x336c6c, _0x2935e9, _0x133b01) {
        const _0x38cea1 = _0x3b6f1c, _0x19b6ee = {
                'jOLEU': function (_0x295119, _0x844789) {
                    return _0x295119(_0x844789);
                },
                'JawAi': function (_0x2c21c9, _0x4bf472) {
                    return _0x2c21c9 instanceof _0x4bf472;
                },
                'hXRNC': function (_0x83125d, _0x2861e0) {
                    return _0x83125d(_0x2861e0);
                },
                'FrlJv': function (_0x5de833, _0x439d95) {
                    return _0x5de833(_0x439d95);
                },
                'uzvoM': _0x38cea1(0xe7),
                'wZIqV': function (_0x4a26a9, _0x3d8773) {
                    return _0x4a26a9(_0x3d8773);
                }
            };
        function _0x4543eb(_0x3b3852) {
            const _0x5d10c8 = _0x38cea1, _0x5c2076 = {
                    'qbpnv': function (_0x42e247, _0xe83c82) {
                        const _0xc562cb = _0x1821;
                        return _0x19b6ee[_0xc562cb(0x80)](_0x42e247, _0xe83c82);
                    }
                };
            return _0x19b6ee[_0x5d10c8(0x9a)](_0x3b3852, _0x2935e9) ? _0x3b3852 : new _0x2935e9(function (_0x469909) {
                const _0x42e234 = _0x5d10c8;
                _0x5c2076[_0x42e234(0xa5)](_0x469909, _0x3b3852);
            });
        }
        return new (_0x2935e9 || (_0x2935e9 = Promise))(function (_0x106935, _0x39f472) {
            const _0x362d3a = _0x38cea1, _0x53e56f = {
                    'gGRhP': function (_0x16b005, _0x2810ce) {
                        const _0x27c651 = _0x1821;
                        return _0x19b6ee[_0x27c651(0xab)](_0x16b005, _0x2810ce);
                    },
                    'KmKdH': function (_0xc6dc11, _0x1804f5) {
                        const _0xe0af02 = _0x1821;
                        return _0x19b6ee[_0xe0af02(0x80)](_0xc6dc11, _0x1804f5);
                    },
                    'cRaGJ': _0x19b6ee[_0x362d3a(0x8d)]
                };
            function _0x256df2(_0x177c3a) {
                const _0x5166d8 = _0x362d3a;
                try {
                    _0x53e56f[_0x5166d8(0x9b)](_0x5b908b, _0x133b01[_0x5166d8(0x9c)](_0x177c3a));
                } catch (_0x4b440a) {
                    _0x53e56f[_0x5166d8(0x9b)](_0x39f472, _0x4b440a);
                }
            }
            function _0x49fc5a(_0x43d3cc) {
                const _0x498b2a = _0x362d3a;
                try {
                    _0x53e56f[_0x498b2a(0xb1)](_0x5b908b, _0x133b01[_0x53e56f[_0x498b2a(0xc4)]](_0x43d3cc));
                } catch (_0x6569be) {
                    _0x53e56f[_0x498b2a(0xb1)](_0x39f472, _0x6569be);
                }
            }
            function _0x5b908b(_0x12a167) {
                const _0x49f482 = _0x362d3a;
                _0x12a167[_0x49f482(0x7f)] ? _0x19b6ee[_0x49f482(0x80)](_0x106935, _0x12a167[_0x49f482(0xba)]) : _0x19b6ee[_0x49f482(0x99)](_0x4543eb, _0x12a167[_0x49f482(0xba)])[_0x49f482(0xc6)](_0x256df2, _0x49fc5a);
            }
            _0x19b6ee[_0x362d3a(0xa9)](_0x5b908b, (_0x133b01 = _0x133b01[_0x362d3a(0xb4)](_0x2314ca, _0x336c6c || []))[_0x362d3a(0x9c)]());
        });
    }, __importDefault = this && this[_0x3b6f1c(0x87) + _0x3b6f1c(0xda)] || function (_0x402403) {
        const _0x5db438 = _0x3b6f1c;
        return _0x402403 && _0x402403[_0x5db438(0xa3)] ? _0x402403 : { 'default': _0x402403 };
    };
const _0x460a9e = {};
_0x460a9e[_0x3b6f1c(0xba)] = !![], Object[_0x3b6f1c(0xc0) + _0x3b6f1c(0xd7)](exports, _0x3b6f1c(0xa3), _0x460a9e);
const axios_1 = __importDefault(require(_0x3b6f1c(0xc5))), Ticket_1 = __importDefault(require(_0x3b6f1c(0x92) + _0x3b6f1c(0xd3))), Message_1 = __importDefault(require(_0x3b6f1c(0x92) + _0x3b6f1c(0xd6))), socketEmit_1 = __importDefault(require(_0x3b6f1c(0xc7) + _0x3b6f1c(0xc1) + _0x3b6f1c(0x98))), AppError_1 = __importDefault(require(_0x3b6f1c(0x9e) + _0x3b6f1c(0xcd) + 'r')), ShowTicketService_1 = __importDefault(require(_0x3b6f1c(0xa2) + _0x3b6f1c(0xe9) + _0x3b6f1c(0xe2) + _0x3b6f1c(0x94))), logger_1 = require(_0x3b6f1c(0x8e) + _0x3b6f1c(0xb5));
class SendReaction {
    [_0x3b6f1c(0xac) + 'e']({
        from: _0x5a9bb3,
        phone_number_id: _0xe8d864,
        message: _0x11ed4b,
        ticket: _0x30c639,
        tenantId: _0x581afc,
        idFront: _0x3ade97,
        whatsapp: _0x57e893,
        reaction: _0x24dfa0,
        messageId: _0x2a7b3f
    }) {
        const _0xb7104e = _0x3b6f1c, _0x14c06e = {
                'Dndlx': function (_0x15ba3f, _0x4545b3) {
                    return _0x15ba3f !== _0x4545b3;
                },
                'Gogbo': _0xb7104e(0x90),
                'jhYic': _0xb7104e(0xd2) + _0xb7104e(0x8c),
                'YzRyO': function (_0xe96e52, _0x29065b) {
                    return _0xe96e52 === _0x29065b;
                },
                'LvHFQ': _0xb7104e(0x9f),
                'HsHzV': _0xb7104e(0xbe),
                'JynxT': _0xb7104e(0xa6),
                'Kihkw': _0xb7104e(0xe1) + _0xb7104e(0xd0),
                'TynnF': _0xb7104e(0xa8),
                'BllIK': _0xb7104e(0xa7) + _0xb7104e(0xbb),
                'fXmHn': _0xb7104e(0xdc) + _0xb7104e(0x89) + _0xb7104e(0x95),
                'fKzMW': function (_0x4bf3d3, _0x5f2b85, _0x299989, _0x422b7a, _0x50940f) {
                    return _0x4bf3d3(_0x5f2b85, _0x299989, _0x422b7a, _0x50940f);
                }
            };
        return _0x14c06e[_0xb7104e(0xdf)](__awaiter, this, void (-0x7c2 * -0x2 + -0x5 * 0x1e6 + 0x606 * -0x1), void (0x10ef + -0x8c2 * 0x1 + 0x17 * -0x5b), function* () {
            const _0x562bea = _0xb7104e;
            if (_0x14c06e[_0x562bea(0xe8)](_0x57e893[_0x562bea(0x82)], _0x14c06e[_0x562bea(0x91)]))
                throw new AppError_1[(_0x562bea(0x83))](_0x14c06e[_0x562bea(0xbf)], 0x1c67 + -0x18f2 + -0x61 * 0x5);
            try {
                const _0x1f7222 = _0x562bea(0x7e) + _0x562bea(0x96) + _0x562bea(0x93) + _0x562bea(0xd9) + _0xe8d864 + (_0x562bea(0xd5) + _0x562bea(0xad) + _0x562bea(0xce)) + (_0x14c06e[_0x562bea(0x8a)](_0x57e893, null) || _0x14c06e[_0x562bea(0x8a)](_0x57e893, void (0x10b9 * -0x1 + -0x446 + 0x14ff)) ? void (-0x1 * -0x18d9 + -0x1467 * -0x1 + -0x2d40) : _0x57e893[_0x562bea(0xb3)]), _0x5c6327 = {};
                _0x5c6327[_0x562bea(0xc8)] = _0x2a7b3f, _0x5c6327[_0x562bea(0x8f)] = _0x24dfa0;
                const _0x2fb5b5 = {};
                _0x2fb5b5[_0x562bea(0xae)] = _0x14c06e[_0x562bea(0xdd)], _0x2fb5b5[_0x562bea(0xbc)] = _0x1f7222, _0x2fb5b5[_0x562bea(0xa1)] = {}, _0x2fb5b5[_0x562bea(0xdb)] = {}, _0x2fb5b5[_0x562bea(0xa1)][_0x562bea(0x86) + _0x562bea(0xe5)] = _0x14c06e[_0x562bea(0xa0)], _0x2fb5b5[_0x562bea(0xa1)]['to'] = _0x5a9bb3, _0x2fb5b5[_0x562bea(0xa1)][_0x562bea(0xc3)] = _0x14c06e[_0x562bea(0xd1)], _0x2fb5b5[_0x562bea(0xa1)][_0x562bea(0xa6)] = _0x5c6327, _0x2fb5b5[_0x562bea(0xdb)][_0x562bea(0xb7) + 'pe'] = _0x14c06e[_0x562bea(0x9d)];
                const _0x381223 = yield (0xcd9 * 0x2 + 0x1 * -0x1597 + -0x41b, axios_1[_0x562bea(0x83)])(_0x2fb5b5), _0x55e8fc = {};
                _0x55e8fc['id'] = _0x30c639['id'];
                const _0x41b422 = {};
                _0x41b422[_0x562bea(0xeb)] = _0x55e8fc;
                const _0x58fce8 = yield Ticket_1[_0x562bea(0x83)][_0x562bea(0x88)](_0x41b422);
                if (!_0x58fce8)
                    return;
                yield _0x58fce8[_0x562bea(0x97)]({
                    'lastMessage': _0x24dfa0,
                    'lastMessageAt': new Date()[_0x562bea(0xbd)](),
                    'answered': _0x381223[_0x562bea(0xa1)][_0x562bea(0x81)] || ![]
                });
                const _0x5c1717 = {};
                _0x5c1717[_0x562bea(0x85)] = _0x3ade97, _0x5c1717[_0x562bea(0xde)] = _0x581afc;
                const _0x258f3b = {};
                _0x258f3b[_0x562bea(0xeb)] = _0x5c1717;
                const _0x33a7b2 = yield Message_1[_0x562bea(0x83)][_0x562bea(0x88)](_0x258f3b);
                if (!_0x33a7b2)
                    return;
                const _0x4e8299 = {};
                _0x4e8299[_0x562bea(0xca)] = _0x381223[_0x562bea(0xa1)][_0x562bea(0x8b)][-0x180a + -0xee9 + 0x26f3]['id'], _0x4e8299[_0x562bea(0x84) + _0x562bea(0xb8)] = _0x24dfa0, _0x4e8299[_0x562bea(0xa4)] = 0x2, _0x4e8299[_0x562bea(0x82)] = _0x14c06e[_0x562bea(0xaf)], yield _0x33a7b2[_0x562bea(0x97)](_0x4e8299);
                const _0x27a0ce = {};
                _0x27a0ce['id'] = _0x30c639['id'], _0x27a0ce[_0x562bea(0xde)] = _0x581afc;
                const _0x536d4a = yield (0x45 * 0xd + -0x4d4 + 0x1 * 0x153, ShowTicketService_1[_0x562bea(0x83)])(_0x27a0ce), _0x584329 = {};
                return _0x584329[_0x562bea(0xde)] = _0x581afc, _0x584329[_0x562bea(0xc3)] = _0x14c06e[_0x562bea(0xcb)], _0x584329[_0x562bea(0xaa)] = _0x536d4a, (0x237c + 0x1f43 + -0x42bf, socketEmit_1[_0x562bea(0x83)])(_0x584329), _0x381223[_0x562bea(0xa1)];
            } catch (_0x1412c3) {
                logger_1[_0x562bea(0xea)][_0x562bea(0xc9)](_0x14c06e[_0x562bea(0xd8)]);
                throw _0x1412c3;
            }
        });
    }
}
function _0x1cc6() {
    const _0x5db0ce = [
        'https://gr',
        'done',
        'jOLEU',
        'fromMe',
        'status',
        'default',
        'reactionFr',
        'idFront',
        'messaging_',
        '__importDe',
        'findOne',
        'reaction\x20e',
        'YzRyO',
        'messages',
        'PP_OFFLINE',
        'uzvoM',
        '../../util',
        'emoji',
        'CONNECTED',
        'Gogbo',
        '../../mode',
        'ok.com/v19',
        'rvice',
        'rror',
        'aph.facebo',
        'update',
        'Emit',
        'hXRNC',
        'JawAi',
        'gGRhP',
        'next',
        'Kihkw',
        '../../erro',
        'POST',
        'HsHzV',
        'data',
        '../TicketS',
        '__esModule',
        'ack',
        'qbpnv',
        'reaction',
        'ticket:upd',
        'sended',
        'wZIqV',
        'payload',
        'FrlJv',
        'sendMessag',
        'access_tok',
        'method',
        'TynnF',
        '3nNnLAU',
        'KmKdH',
        '3163324vyCwkV',
        'bmToken',
        'apply',
        's/logger',
        '2189806lMWhiy',
        'Content-Ty',
        'omMe',
        '1NNHUZw',
        'value',
        'ate',
        'url',
        'getTime',
        'whatsapp',
        'jhYic',
        'defineProp',
        'ers/socket',
        '3286285nTSfuU',
        'type',
        'cRaGJ',
        'axios',
        'then',
        '../../help',
        'message_id',
        'warn',
        'messageId',
        'BllIK',
        '__awaiter',
        'rs/AppErro',
        'en=',
        '27903360rwcSkq',
        'n/json',
        'JynxT',
        'ERR_WHATSA',
        'ls/Ticket',
        '45naarrz',
        '/messages?',
        'ls/Message',
        'erty',
        'fXmHn',
        '.0/',
        'fault',
        'headers',
        'WABA\x20send\x20',
        'LvHFQ',
        'tenantId',
        'fKzMW',
        '1111pFmLXo',
        'applicatio',
        'owTicketSe',
        '9107pMieXK',
        '444CFGkvq',
        'product',
        '26980OYxplv',
        'throw',
        'Dndlx',
        'ervices/Sh',
        'logger',
        'where',
        '1392784zjdwEK'
    ];
    _0x1cc6 = function () {
        return _0x5db0ce;
    };
    return _0x1cc6();
}
function _0x1821(_0x30c3c8, _0x41e5b3) {
    const _0x301dc0 = _0x1cc6();
    return _0x1821 = function (_0x166c7f, _0x34a319) {
        _0x166c7f = _0x166c7f - (0x603 + 0x55d + -0xae3);
        let _0x172fd3 = _0x301dc0[_0x166c7f];
        return _0x172fd3;
    }, _0x1821(_0x30c3c8, _0x41e5b3);
}
exports[_0x3b6f1c(0x83)] = SendReaction;