'use strict';
const _0x1dbaa2 = _0x1d2c;
(function (_0xdaa66f, _0x156186) {
    const _0x250a37 = _0x1d2c, _0x381245 = _0xdaa66f();
    while (!![]) {
        try {
            const _0x316a1e = -parseInt(_0x250a37(0x174)) / (0xff5 + 0xb42 * -0x2 + -0x69 * -0x10) + -parseInt(_0x250a37(0x154)) / (-0x2358 + 0x25 * -0x4a + 0x2e0c * 0x1) + parseInt(_0x250a37(0x166)) / (0x131a * -0x1 + -0x1ec0 + 0x31dd * 0x1) * (-parseInt(_0x250a37(0x176)) / (0x59f + 0x75b + -0xcf6)) + parseInt(_0x250a37(0x168)) / (-0x525 + -0x23a6 + -0x51a * -0x8) + parseInt(_0x250a37(0x18e)) / (-0x98f * -0x1 + 0x8a4 + -0x122d) + parseInt(_0x250a37(0x150)) / (-0x1cec + -0x1443 + 0x3136) + parseInt(_0x250a37(0x18f)) / (0x75b * -0x1 + -0x1 * -0xa23 + -0x2c0) * (-parseInt(_0x250a37(0x146)) / (0x92e + -0x4c7 * 0x5 + 0xebe));
            if (_0x316a1e === _0x156186)
                break;
            else
                _0x381245['push'](_0x381245['shift']());
        } catch (_0x3de944) {
            _0x381245['push'](_0x381245['shift']());
        }
    }
}(_0x20a1, -0x2 * -0x67d59 + -0x44bf3 + -0xe912));
function _0x20a1() {
    const _0x4c1a7e = [
        'contact',
        'axios',
        'defineProp',
        'alpjj',
        'done',
        'ppVTx',
        'ticket:upd',
        '6060678rkiTmw',
        '1410616EJAPin',
        'xpUxQ',
        'HkKop',
        'ljwYV',
        'then',
        'messageId',
        '__esModule',
        'text',
        'applicatio',
        'AnPBa',
        'btn3',
        'url',
        'PP_OFFLINE',
        'access_tok',
        'push',
        ',\x20Btn1:\x20',
        'action',
        'n/json',
        'getTime',
        'data',
        'iuYiS',
        'status',
        'fromMe',
        'product',
        'sGLRr',
        'button\x20err',
        'Body:\x20',
        '__importDe',
        '../../util',
        'https://gr',
        'XrzLz',
        'where',
        'YUmyY',
        'tenantId',
        'whatsapp',
        'chat:ack',
        'btn2',
        'xiYHI',
        'recipient_',
        'ls/Message',
        'fault',
        'buttons',
        'CONNECTED',
        'XwajL',
        'Content-Ty',
        'ERR_WHATSA',
        'sended',
        'WABA\x20send\x20',
        'type',
        'apply',
        'idFront',
        'ers/socket',
        'throw',
        ',\x20Btn2:\x20',
        '../../mode',
        '36eXgktP',
        'XiAvO',
        'reply',
        'update',
        'GnDye',
        ',\x20Btn3:\x20',
        'ate',
        'SrljI',
        '/messages?',
        'RZVXv',
        '72954rkGEow',
        'value',
        'POST',
        'mdBdb',
        '741294aYuHAo',
        'OnSis',
        'messaging_',
        'en=',
        'body',
        'bmToken',
        'EGyPJ',
        'messages',
        'title',
        'WhCgM',
        'method',
        's/logger',
        'logger',
        'gbcUY',
        'vfcMV',
        'headers',
        'default',
        'frkIK',
        '39UcFpqW',
        'replace',
        '5052260awLIXT',
        '../../help',
        'btn1',
        'now',
        'FLMQn',
        '.0/',
        'erty',
        'oMhEB',
        '__awaiter',
        'individual',
        'payload',
        'cJDkw',
        '290806sjUFEy',
        'aph.facebo',
        '47652JFtKot',
        'Emit',
        'rs/AppErro',
        'button',
        'next',
        'qcmHP',
        'sendButton',
        'ok.com/v19',
        'iuwue',
        'KQeHZ',
        'interactiv',
        'ls/Ticket',
        'findOne',
        'yUXUx',
        '../../erro',
        'warn',
        'keAIY'
    ];
    _0x20a1 = function () {
        return _0x4c1a7e;
    };
    return _0x20a1();
}
var __awaiter = this && this[_0x1dbaa2(0x170)] || function (_0x149d56, _0x43c276, _0x401fe4, _0x47ecc9) {
        const _0x4a854c = _0x1dbaa2, _0x319e8e = {
                'cJDkw': function (_0x92c887, _0x39d9cd) {
                    return _0x92c887(_0x39d9cd);
                },
                'xiYHI': function (_0x125732, _0x5d0752) {
                    return _0x125732 instanceof _0x5d0752;
                },
                'XwajL': function (_0x5d82d8, _0xd35d1e) {
                    return _0x5d82d8(_0xd35d1e);
                },
                'SrljI': function (_0x15ae79, _0x14ad57) {
                    return _0x15ae79(_0x14ad57);
                },
                'keAIY': _0x4a854c(0x143),
                'AnPBa': function (_0x23ae20, _0xebf9ca) {
                    return _0x23ae20(_0xebf9ca);
                },
                'xpUxQ': function (_0x12ec0e, _0x591597) {
                    return _0x12ec0e(_0x591597);
                }
            };
        function _0x3ce5d2(_0x46eebf) {
            const _0x58a5ff = _0x4a854c, _0xbca2d1 = {
                    'yUXUx': function (_0x259ce7, _0x5b677e) {
                        const _0x5794d1 = _0x1d2c;
                        return _0x319e8e[_0x5794d1(0x173)](_0x259ce7, _0x5b677e);
                    }
                };
            return _0x319e8e[_0x58a5ff(0x134)](_0x46eebf, _0x401fe4) ? _0x46eebf : new _0x401fe4(function (_0x1bd4be) {
                const _0x35ecf4 = _0x58a5ff;
                _0xbca2d1[_0x35ecf4(0x183)](_0x1bd4be, _0x46eebf);
            });
        }
        return new (_0x401fe4 || (_0x401fe4 = Promise))(function (_0x3ecde8, _0x1123e8) {
            const _0x1b5c70 = _0x4a854c, _0xe90476 = {
                    'GnDye': function (_0x1285de, _0x5ed61a) {
                        const _0x42a3cc = _0x1d2c;
                        return _0x319e8e[_0x42a3cc(0x13a)](_0x1285de, _0x5ed61a);
                    },
                    'vfcMV': _0x319e8e[_0x1b5c70(0x186)],
                    'qcmHP': function (_0x5d9955, _0x46908a) {
                        const _0x3fe437 = _0x1b5c70;
                        return _0x319e8e[_0x3fe437(0x198)](_0x5d9955, _0x46908a);
                    }
                };
            function _0x3e7e0d(_0x89896) {
                const _0x1d8245 = _0x1b5c70;
                try {
                    _0xe90476[_0x1d8245(0x14a)](_0x5773c4, _0x47ecc9[_0x1d8245(0x17a)](_0x89896));
                } catch (_0x5267af) {
                    _0xe90476[_0x1d8245(0x14a)](_0x1123e8, _0x5267af);
                }
            }
            function _0x2f2839(_0x362795) {
                const _0x35e0a8 = _0x1b5c70;
                try {
                    _0xe90476[_0x35e0a8(0x14a)](_0x5773c4, _0x47ecc9[_0xe90476[_0x35e0a8(0x162)]](_0x362795));
                } catch (_0x23a6c4) {
                    _0xe90476[_0x35e0a8(0x17b)](_0x1123e8, _0x23a6c4);
                }
            }
            function _0x5773c4(_0x37dd4f) {
                const _0x4d77b4 = _0x1b5c70;
                _0x37dd4f[_0x4d77b4(0x18b)] ? _0x319e8e[_0x4d77b4(0x13a)](_0x3ecde8, _0x37dd4f[_0x4d77b4(0x151)]) : _0x319e8e[_0x4d77b4(0x14d)](_0x3ce5d2, _0x37dd4f[_0x4d77b4(0x151)])[_0x4d77b4(0x193)](_0x3e7e0d, _0x2f2839);
            }
            _0x319e8e[_0x1b5c70(0x190)](_0x5773c4, (_0x47ecc9 = _0x47ecc9[_0x1b5c70(0x140)](_0x149d56, _0x43c276 || []))[_0x1b5c70(0x17a)]());
        });
    }, __importDefault = this && this[_0x1dbaa2(0x12a) + _0x1dbaa2(0x137)] || function (_0x21864f) {
        const _0x4a554f = _0x1dbaa2;
        return _0x21864f && _0x21864f[_0x4a554f(0x195)] ? _0x21864f : { 'default': _0x21864f };
    };
const _0x106fd6 = {};
_0x106fd6[_0x1dbaa2(0x151)] = !![], Object[_0x1dbaa2(0x189) + _0x1dbaa2(0x16e)](exports, _0x1dbaa2(0x195), _0x106fd6);
const axios_1 = __importDefault(require(_0x1dbaa2(0x188))), Ticket_1 = __importDefault(require(_0x1dbaa2(0x145) + _0x1dbaa2(0x181))), Message_1 = __importDefault(require(_0x1dbaa2(0x145) + _0x1dbaa2(0x136))), socketEmit_1 = __importDefault(require(_0x1dbaa2(0x169) + _0x1dbaa2(0x142) + _0x1dbaa2(0x177))), AppError_1 = __importDefault(require(_0x1dbaa2(0x184) + _0x1dbaa2(0x178) + 'r')), logger_1 = require(_0x1dbaa2(0x12b) + _0x1dbaa2(0x15f));
function _0x1d2c(_0x41c2b2, _0x133d48) {
    const _0x27ed3f = _0x20a1();
    return _0x1d2c = function (_0xe1d12d, _0x1970be) {
        _0xe1d12d = _0xe1d12d - (-0x20f8 + -0x1a32 + 0x3c48);
        let _0x324917 = _0x27ed3f[_0xe1d12d];
        return _0x324917;
    }, _0x1d2c(_0x41c2b2, _0x133d48);
}
class SendButton {
    [_0x1dbaa2(0x17c) + 's']({
        from: _0xda354d,
        phone_number_id: _0x1ef05b,
        message: _0x435c5d,
        button1: _0x5447b2,
        button2: _0x2ae530,
        button3: _0x4e8d85,
        ticket: _0x43615a,
        tenantId: _0xb4acb1,
        idFront: _0x21d437,
        whatsapp: _0x10a4f1
    }) {
        const _0x19acdf = _0x1dbaa2, _0x257a19 = {
                'iuwue': function (_0x48e7bf, _0x3f1e87) {
                    return _0x48e7bf !== _0x3f1e87;
                },
                'mdBdb': _0x19acdf(0x139),
                'KQeHZ': _0x19acdf(0x13c) + _0x19acdf(0x19b),
                'EGyPJ': _0x19acdf(0x148),
                'oMhEB': _0x19acdf(0x16a),
                'XrzLz': _0x19acdf(0x133),
                'ljwYV': _0x19acdf(0x199),
                'iuYiS': function (_0x3d4c2b, _0x608b7) {
                    return _0x3d4c2b === _0x608b7;
                },
                'frkIK': _0x19acdf(0x152),
                'sGLRr': _0x19acdf(0x131),
                'ppVTx': _0x19acdf(0x171),
                'YUmyY': _0x19acdf(0x180) + 'e',
                'gbcUY': _0x19acdf(0x179),
                'HkKop': _0x19acdf(0x197) + _0x19acdf(0x120),
                'XiAvO': function (_0x11a73b, _0x1d0a11, _0x2b44bc, _0x28fda7, _0x58289b) {
                    return _0x11a73b(_0x1d0a11, _0x2b44bc, _0x28fda7, _0x58289b);
                },
                'OnSis': _0x19acdf(0x196),
                'RZVXv': _0x19acdf(0x13d),
                'WhCgM': _0x19acdf(0x18d) + _0x19acdf(0x14c),
                'alpjj': _0x19acdf(0x132),
                'FLMQn': _0x19acdf(0x13e) + _0x19acdf(0x128) + 'or'
            };
        return _0x257a19[_0x19acdf(0x147)](__awaiter, this, void (0x1cf * -0x1 + -0x1 * 0x14ad + 0x59f * 0x4), void (-0x1c4d + 0xba4 + 0x5 * 0x355), function* () {
            const _0x53b58c = _0x19acdf;
            if (_0x257a19[_0x53b58c(0x17e)](_0x10a4f1[_0x53b58c(0x124)], _0x257a19[_0x53b58c(0x153)]))
                throw new AppError_1[(_0x53b58c(0x164))](_0x257a19[_0x53b58c(0x17f)], 0x1052 + -0x59e * -0x1 + -0x28c * 0x8);
            try {
                const _0x52e884 = [];
                if (_0x5447b2) {
                    const _0x3cb06c = {};
                    _0x3cb06c[_0x53b58c(0x13f)] = _0x257a19[_0x53b58c(0x15a)], _0x3cb06c[_0x53b58c(0x148)] = {}, _0x3cb06c[_0x53b58c(0x148)]['id'] = _0x257a19[_0x53b58c(0x16f)], _0x3cb06c[_0x53b58c(0x148)][_0x53b58c(0x15c)] = _0x5447b2, _0x52e884[_0x53b58c(0x19d)](_0x3cb06c);
                }
                if (_0x2ae530) {
                    const _0x416404 = {};
                    _0x416404[_0x53b58c(0x13f)] = _0x257a19[_0x53b58c(0x15a)], _0x416404[_0x53b58c(0x148)] = {}, _0x416404[_0x53b58c(0x148)]['id'] = _0x257a19[_0x53b58c(0x12d)], _0x416404[_0x53b58c(0x148)][_0x53b58c(0x15c)] = _0x2ae530, _0x52e884[_0x53b58c(0x19d)](_0x416404);
                }
                if (_0x4e8d85) {
                    const _0x8a982b = {};
                    _0x8a982b[_0x53b58c(0x13f)] = _0x257a19[_0x53b58c(0x15a)], _0x8a982b[_0x53b58c(0x148)] = {}, _0x8a982b[_0x53b58c(0x148)]['id'] = _0x257a19[_0x53b58c(0x192)], _0x8a982b[_0x53b58c(0x148)][_0x53b58c(0x15c)] = _0x4e8d85, _0x52e884[_0x53b58c(0x19d)](_0x8a982b);
                }
                const _0x5b283a = _0x53b58c(0x12c) + _0x53b58c(0x175) + _0x53b58c(0x17d) + _0x53b58c(0x16d) + _0x1ef05b + (_0x53b58c(0x14e) + _0x53b58c(0x19c) + _0x53b58c(0x157)) + (_0x257a19[_0x53b58c(0x123)](_0x10a4f1, null) || _0x257a19[_0x53b58c(0x123)](_0x10a4f1, void (0x1472 + -0xadf + -0x993)) ? void (-0x1 * -0x1269 + 0x9 * -0x175 + 0x2a6 * -0x2) : _0x10a4f1[_0x53b58c(0x159)]), _0x3897e9 = {};
                _0x3897e9[_0x53b58c(0x196)] = _0x435c5d;
                const _0x3ec942 = {};
                _0x3ec942[_0x53b58c(0x138)] = _0x52e884;
                const _0x3b509a = {};
                _0x3b509a[_0x53b58c(0x15e)] = _0x257a19[_0x53b58c(0x165)], _0x3b509a[_0x53b58c(0x19a)] = _0x5b283a, _0x3b509a[_0x53b58c(0x122)] = {}, _0x3b509a[_0x53b58c(0x163)] = {}, _0x3b509a[_0x53b58c(0x122)][_0x53b58c(0x156) + _0x53b58c(0x126)] = _0x257a19[_0x53b58c(0x127)], _0x3b509a[_0x53b58c(0x122)][_0x53b58c(0x135) + _0x53b58c(0x13f)] = _0x257a19[_0x53b58c(0x18c)], _0x3b509a[_0x53b58c(0x122)]['to'] = _0xda354d, _0x3b509a[_0x53b58c(0x122)][_0x53b58c(0x13f)] = _0x257a19[_0x53b58c(0x12f)], _0x3b509a[_0x53b58c(0x122)][_0x53b58c(0x180) + 'e'] = {}, _0x3b509a[_0x53b58c(0x122)][_0x53b58c(0x180) + 'e'][_0x53b58c(0x13f)] = _0x257a19[_0x53b58c(0x161)], _0x3b509a[_0x53b58c(0x122)][_0x53b58c(0x180) + 'e'][_0x53b58c(0x158)] = _0x3897e9, _0x3b509a[_0x53b58c(0x122)][_0x53b58c(0x180) + 'e'][_0x53b58c(0x11f)] = _0x3ec942, _0x3b509a[_0x53b58c(0x163)][_0x53b58c(0x13b) + 'pe'] = _0x257a19[_0x53b58c(0x191)];
                const _0x219668 = yield (-0x1 * 0xed + 0xb4c + -0xa5f, axios_1[_0x53b58c(0x164)])(_0x3b509a);
                let _0x413ab4 = Date[_0x53b58c(0x16b)]();
                const _0x2de113 = (_0x51ffd8, _0x268e69, _0x48cf0a, _0x34959e) => {
                        const _0x1298e1 = _0x53b58c;
                        let _0x588ada = _0x1298e1(0x129) + _0x51ffd8;
                        if (_0x268e69)
                            _0x588ada += _0x1298e1(0x11e) + _0x268e69;
                        if (_0x48cf0a)
                            _0x588ada += _0x1298e1(0x144) + _0x48cf0a;
                        if (_0x34959e)
                            _0x588ada += _0x1298e1(0x14b) + _0x34959e;
                        return _0x588ada;
                    }, _0x922f24 = {
                        'messageId': _0x219668[_0x53b58c(0x122)][_0x53b58c(0x15b)][0x12de + 0x876 + -0x1b54]['id'] || '',
                        'ticketId': _0x43615a['id'],
                        'contactId': _0x43615a[_0x53b58c(0x187)]['id'],
                        'body': _0x257a19[_0x53b58c(0x147)](_0x2de113, _0x435c5d, _0x5447b2, _0x2ae530, _0x4e8d85) || '',
                        'fromMe': !![],
                        'mediaType': _0x257a19[_0x53b58c(0x155)],
                        'read': !![],
                        'ack': 0x2,
                        'timestamp': _0x413ab4,
                        'status': _0x257a19[_0x53b58c(0x14f)]
                    }, _0x287f0e = {};
                _0x287f0e['id'] = _0x43615a['id'];
                const _0x1d7316 = {};
                _0x1d7316[_0x53b58c(0x12e)] = _0x287f0e;
                const _0x35c45e = yield Ticket_1[_0x53b58c(0x164)][_0x53b58c(0x182)](_0x1d7316);
                if (!_0x35c45e)
                    return;
                yield _0x35c45e[_0x53b58c(0x149)]({
                    'lastMessage': _0x922f24[_0x53b58c(0x158)],
                    'lastMessageAt': new Date()[_0x53b58c(0x121)](),
                    'answered': _0x219668[_0x53b58c(0x122)][_0x53b58c(0x125)] || ![]
                });
                const _0x25e0bd = {};
                _0x25e0bd[_0x53b58c(0x141)] = _0x21d437, _0x25e0bd[_0x53b58c(0x130)] = _0xb4acb1;
                const _0x3a1cf9 = {};
                _0x3a1cf9[_0x53b58c(0x12e)] = _0x25e0bd;
                const _0xb2eb15 = yield Message_1[_0x53b58c(0x164)][_0x53b58c(0x182)](_0x3a1cf9);
                if (!_0xb2eb15)
                    return;
                yield _0xb2eb15[_0x53b58c(0x149)]({
                    'messageId': _0x219668[_0x53b58c(0x122)][_0x53b58c(0x15b)][0x7b8 + -0x1ec7 * -0x1 + -0x9 * 0x447]['id'],
                    'ack': 0x2,
                    'mediaType': _0x257a19[_0x53b58c(0x161)],
                    'body': _0x922f24[_0x53b58c(0x158)][_0x53b58c(0x167)](/\r?\n/g, '\x20') || '',
                    'status': _0x257a19[_0x53b58c(0x14f)]
                });
                const _0x4f3281 = {};
                _0x4f3281[_0x53b58c(0x130)] = _0xb4acb1, _0x4f3281[_0x53b58c(0x13f)] = _0x257a19[_0x53b58c(0x15d)], _0x4f3281[_0x53b58c(0x172)] = _0x43615a, (-0x33f + 0x1 * -0x6bc + -0x1 * -0x9fb, socketEmit_1[_0x53b58c(0x164)])(_0x4f3281);
                const _0x5c2648 = {};
                _0x5c2648[_0x53b58c(0x194)] = _0x219668[_0x53b58c(0x122)][_0x53b58c(0x15b)][0x7 * 0xc1 + -0x14fd + 0xfb6]['id'], _0x5c2648[_0x53b58c(0x130)] = _0xb4acb1;
                const _0x271a7d = {};
                _0x271a7d[_0x53b58c(0x12e)] = _0x5c2648;
                const _0x179bc4 = yield Message_1[_0x53b58c(0x164)][_0x53b58c(0x182)](_0x271a7d);
                if (!_0x179bc4)
                    return;
                const _0x2d0b5f = {};
                return _0x2d0b5f[_0x53b58c(0x130)] = _0xb4acb1, _0x2d0b5f[_0x53b58c(0x13f)] = _0x257a19[_0x53b58c(0x18a)], _0x2d0b5f[_0x53b58c(0x172)] = _0x179bc4, (-0x269 + 0x67c + -0x413, socketEmit_1[_0x53b58c(0x164)])(_0x2d0b5f), _0x219668[_0x53b58c(0x122)];
            } catch (_0x2577fc) {
                logger_1[_0x53b58c(0x160)][_0x53b58c(0x185)](_0x257a19[_0x53b58c(0x16c)]);
                throw _0x2577fc;
            }
        });
    }
}
exports[_0x1dbaa2(0x164)] = SendButton;