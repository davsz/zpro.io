'use strict';
const _0x21361d = _0x2f59;
function _0x2f59(_0x456e64, _0x6bc910) {
    const _0x5371a6 = _0x5351();
    return _0x2f59 = function (_0x124eeb, _0x4878c6) {
        _0x124eeb = _0x124eeb - (-0x1 * -0x215f + 0x1fc2 + -0x3fca);
        let _0x509f7a = _0x5371a6[_0x124eeb];
        return _0x509f7a;
    }, _0x2f59(_0x456e64, _0x6bc910);
}
(function (_0x473804, _0x5a9e6f) {
    const _0x51109a = _0x2f59, _0x53ebc6 = _0x473804();
    while (!![]) {
        try {
            const _0x263bca = parseInt(_0x51109a(0x181)) / (-0x2046 + -0x1 * -0x1a6f + -0x44 * -0x16) * (parseInt(_0x51109a(0x163)) / (0xc8 + -0xb43 * 0x3 + 0xb01 * 0x3)) + -parseInt(_0x51109a(0x1b4)) / (-0xc63 * -0x1 + -0x7b3 * -0x3 + -0x2379) * (-parseInt(_0x51109a(0x1c3)) / (0x1a45 + -0x19f0 + -0x1 * 0x51)) + parseInt(_0x51109a(0x180)) / (-0xf45 + 0x1 * 0x5ec + 0x95e) + parseInt(_0x51109a(0x174)) / (-0x3 * 0x25f + 0x17d6 * 0x1 + -0x10b3) * (-parseInt(_0x51109a(0x172)) / (-0x738 + -0x2388 * 0x1 + 0x1 * 0x2ac7)) + -parseInt(_0x51109a(0x1c2)) / (-0x7e0 + 0xc * 0x18d + 0x112 * -0xa) * (parseInt(_0x51109a(0x16d)) / (-0x1 * -0x61d + 0x14b4 + -0x1ac8)) + -parseInt(_0x51109a(0x1b0)) / (-0x831 * 0x3 + 0x732 + 0x116b) * (-parseInt(_0x51109a(0x18c)) / (0x6f1 * -0x3 + -0x7 * 0x41d + -0x31a9 * -0x1)) + parseInt(_0x51109a(0x1a5)) / (-0x3 * 0x5ed + 0x8a * 0x10 + 0x933) * (-parseInt(_0x51109a(0x16c)) / (0x3fb + -0x2 * -0xd2c + -0x5 * 0x60e));
            if (_0x263bca === _0x5a9e6f)
                break;
            else
                _0x53ebc6['push'](_0x53ebc6['shift']());
        } catch (_0xc261e0) {
            _0x53ebc6['push'](_0x53ebc6['shift']());
        }
    }
}(_0x5351, -0xb * 0xe043 + 0xa4274 + 0xbe6 * 0xe4));
var __awaiter = this && this[_0x21361d(0x1af)] || function (_0x23b641, _0x384606, _0xd4ad01, _0x5b290f) {
        const _0x259f0d = _0x21361d, _0x31efd1 = {
                'rdtFp': function (_0x2f77c8, _0x216b3a) {
                    return _0x2f77c8(_0x216b3a);
                },
                'bZaDn': function (_0x31f960, _0x2255d3) {
                    return _0x31f960 instanceof _0x2255d3;
                },
                'gTgYm': function (_0x1664b1, _0x33f595) {
                    return _0x1664b1(_0x33f595);
                },
                'bjTQO': _0x259f0d(0x16a),
                'GNhdx': function (_0x54acea, _0x5999d7) {
                    return _0x54acea(_0x5999d7);
                }
            };
        function _0x3bfa37(_0x203d2b) {
            const _0x5249f9 = _0x259f0d;
            return _0x31efd1[_0x5249f9(0x193)](_0x203d2b, _0xd4ad01) ? _0x203d2b : new _0xd4ad01(function (_0x585e0f) {
                const _0x1f0e16 = _0x5249f9;
                _0x31efd1[_0x1f0e16(0x15b)](_0x585e0f, _0x203d2b);
            });
        }
        return new (_0xd4ad01 || (_0xd4ad01 = Promise))(function (_0x1980df, _0x35d799) {
            const _0x2b2930 = _0x259f0d, _0x392042 = {
                    'AsMcb': function (_0x12889b, _0x6617fc) {
                        const _0x25d303 = _0x2f59;
                        return _0x31efd1[_0x25d303(0x190)](_0x12889b, _0x6617fc);
                    },
                    'mFBsp': _0x31efd1[_0x2b2930(0x18a)]
                };
            function _0x1c5c63(_0x14bc1a) {
                const _0x25f713 = _0x2b2930;
                try {
                    _0x392042[_0x25f713(0x194)](_0x41618c, _0x5b290f[_0x25f713(0x166)](_0x14bc1a));
                } catch (_0xb2f363) {
                    _0x392042[_0x25f713(0x194)](_0x35d799, _0xb2f363);
                }
            }
            function _0x5caa94(_0x50fc3d) {
                const _0x566f66 = _0x2b2930;
                try {
                    _0x392042[_0x566f66(0x194)](_0x41618c, _0x5b290f[_0x392042[_0x566f66(0x1a4)]](_0x50fc3d));
                } catch (_0x18151b) {
                    _0x392042[_0x566f66(0x194)](_0x35d799, _0x18151b);
                }
            }
            function _0x41618c(_0x4b031e) {
                const _0x86f18b = _0x2b2930;
                _0x4b031e[_0x86f18b(0x170)] ? _0x31efd1[_0x86f18b(0x15b)](_0x1980df, _0x4b031e[_0x86f18b(0x17f)]) : _0x31efd1[_0x86f18b(0x15b)](_0x3bfa37, _0x4b031e[_0x86f18b(0x17f)])[_0x86f18b(0x1b8)](_0x1c5c63, _0x5caa94);
            }
            _0x31efd1[_0x2b2930(0x16e)](_0x41618c, (_0x5b290f = _0x5b290f[_0x2b2930(0x19d)](_0x23b641, _0x384606 || []))[_0x2b2930(0x166)]());
        });
    }, __importDefault = this && this[_0x21361d(0x19a) + _0x21361d(0x159)] || function (_0x1ad52d) {
        const _0x32329e = _0x21361d;
        return _0x1ad52d && _0x1ad52d[_0x32329e(0x1a1)] ? _0x1ad52d : { 'default': _0x1ad52d };
    };
const _0x55be59 = {};
_0x55be59[_0x21361d(0x17f)] = !![], Object[_0x21361d(0x160) + _0x21361d(0x1bb)](exports, _0x21361d(0x1a1), _0x55be59);
const axios_1 = __importDefault(require(_0x21361d(0x1b1))), Ticket_1 = __importDefault(require(_0x21361d(0x184) + _0x21361d(0x169))), Message_1 = __importDefault(require(_0x21361d(0x184) + _0x21361d(0x17e))), socketEmit_1 = __importDefault(require(_0x21361d(0x18d) + _0x21361d(0x19f) + _0x21361d(0x1a3))), AppError_1 = __importDefault(require(_0x21361d(0x164) + _0x21361d(0x188) + 'r')), logger_1 = require(_0x21361d(0x197) + _0x21361d(0x168));
class SendAudio {
    [_0x21361d(0x15a)]({
        from: _0x47ce4a,
        phone_number_id: _0x64a7b6,
        audioUrl: _0x46645b,
        ticket: _0x48f6fb,
        tenantId: _0x483f82,
        idFront: _0x141770,
        whatsapp: _0x339f36
    }) {
        const _0x33d289 = _0x21361d, _0x2a3fb0 = {
                'GYIGa': function (_0x340fed, _0x299f75) {
                    return _0x340fed !== _0x299f75;
                },
                'hyzDJ': _0x33d289(0x1b5),
                'YJJvS': _0x33d289(0x158) + _0x33d289(0x175),
                'eXGJW': function (_0x19ebba, _0x23e7e6) {
                    return _0x19ebba === _0x23e7e6;
                },
                'yuPCS': function (_0xf32958, _0x548e1b) {
                    return _0xf32958 === _0x548e1b;
                },
                'TBIeC': _0x33d289(0x176),
                'tjJIo': _0x33d289(0x1bf),
                'zgqGR': _0x33d289(0x1a2),
                'bWObr': _0x33d289(0x1aa) + _0x33d289(0x15c),
                'EQHFL': _0x33d289(0x199),
                'GolsE': _0x33d289(0x1b6),
                'wpBoY': _0x33d289(0x185) + _0x33d289(0x1c1),
                'UJdBs': _0x33d289(0x167),
                'WNvJr': _0x33d289(0x162) + _0x33d289(0x1b3) + 'r',
                'pFmtK': function (_0x39be4e, _0x389466, _0x1b4d37, _0x25588e, _0x5a2c06) {
                    return _0x39be4e(_0x389466, _0x1b4d37, _0x25588e, _0x5a2c06);
                }
            };
        return _0x2a3fb0[_0x33d289(0x18e)](__awaiter, this, void (0x1387 * 0x2 + 0xfdb * -0x1 + -0x1733), void (-0x567 + -0x2 * 0x12eb + 0x2b3d), function* () {
            const _0x2b479f = _0x33d289;
            if (_0x2a3fb0[_0x2b479f(0x16f)](_0x339f36[_0x2b479f(0x1bc)], _0x2a3fb0[_0x2b479f(0x179)]))
                throw new AppError_1[(_0x2b479f(0x1c0))](_0x2a3fb0[_0x2b479f(0x17d)], -0x7c5 + -0x23e6 + -0x1 * -0x2d3b);
            try {
                const _0x4710a7 = _0x2b479f(0x1b9) + _0x2b479f(0x19e) + _0x2b479f(0x17a) + _0x2b479f(0x17b) + _0x64a7b6 + (_0x2b479f(0x1ac) + _0x2b479f(0x171) + _0x2b479f(0x177)) + (_0x2a3fb0[_0x2b479f(0x1be)](_0x339f36, null) || _0x2a3fb0[_0x2b479f(0x1ba)](_0x339f36, void (-0x172 * -0xd + 0x130f * -0x1 + -0x3 * -0x17)) ? void (0xfb * 0x17 + -0x934 + -0xd59) : _0x339f36[_0x2b479f(0x178)]), _0x33c530 = {};
                _0x33c530[_0x2b479f(0x1a7)] = _0x46645b;
                const _0x2743fc = {};
                _0x2743fc[_0x2b479f(0x196)] = _0x2a3fb0[_0x2b479f(0x1b2)], _0x2743fc[_0x2b479f(0x17c)] = _0x4710a7, _0x2743fc[_0x2b479f(0x1a9)] = {}, _0x2743fc[_0x2b479f(0x1ab)] = {}, _0x2743fc[_0x2b479f(0x1a9)][_0x2b479f(0x182) + _0x2b479f(0x1b7)] = _0x2a3fb0[_0x2b479f(0x195)], _0x2743fc[_0x2b479f(0x1a9)]['to'] = _0x47ce4a, _0x2743fc[_0x2b479f(0x1a9)][_0x2b479f(0x173)] = _0x2a3fb0[_0x2b479f(0x161)], _0x2743fc[_0x2b479f(0x1a9)][_0x2b479f(0x1a2)] = _0x33c530, _0x2743fc[_0x2b479f(0x1ab)][_0x2b479f(0x183) + 'pe'] = _0x2a3fb0[_0x2b479f(0x1a6)];
                const _0x12d2c0 = yield (0x13f9 + -0x1f91 * -0x1 + 0x1 * -0x338a, axios_1[_0x2b479f(0x1c0)])(_0x2743fc);
                let _0x41cf5e = Date[_0x2b479f(0x1ae)]();
                const _0x3b43f3 = {
                        'messageId': _0x12d2c0[_0x2b479f(0x1a9)][_0x2b479f(0x187)][0x3 * 0x3f0 + 0x1244 + -0x1e14]['id'] || '',
                        'ticketId': _0x48f6fb['id'],
                        'contactId': _0x48f6fb[_0x2b479f(0x15d)]['id'],
                        'body': _0x46645b[_0x2b479f(0x157)](_0x2a3fb0[_0x2b479f(0x189)])[0x15f6 + 0x1991 * 0x1 + -0x9a * 0x4f] || '',
                        'fromMe': !![],
                        'mediaType': _0x2a3fb0[_0x2b479f(0x161)],
                        'read': !![],
                        'ack': 0x1,
                        'timestamp': _0x41cf5e,
                        'status': _0x2a3fb0[_0x2b479f(0x15f)]
                    }, _0x2af34e = {};
                _0x2af34e['id'] = _0x48f6fb['id'];
                const _0x2e1a36 = {};
                _0x2e1a36[_0x2b479f(0x198)] = _0x2af34e;
                const _0x1db7e8 = yield Ticket_1[_0x2b479f(0x1c0)][_0x2b479f(0x186)](_0x2e1a36);
                if (!_0x1db7e8)
                    return;
                yield _0x1db7e8[_0x2b479f(0x18f)]({
                    'lastMessage': _0x3b43f3[_0x2b479f(0x18b)],
                    'lastMessageAt': new Date()[_0x2b479f(0x1bd)](),
                    'answered': _0x12d2c0[_0x2b479f(0x1a9)][_0x2b479f(0x19b)] || ![]
                });
                const _0x1a7b6b = {};
                _0x1a7b6b[_0x2b479f(0x19c)] = _0x141770, _0x1a7b6b[_0x2b479f(0x191)] = _0x483f82;
                const _0x54a7b0 = {};
                _0x54a7b0[_0x2b479f(0x198)] = _0x1a7b6b;
                const _0x327bbf = yield Message_1[_0x2b479f(0x1c0)][_0x2b479f(0x186)](_0x54a7b0);
                if (!_0x327bbf)
                    return;
                yield _0x327bbf[_0x2b479f(0x18f)]({
                    'messageId': _0x12d2c0[_0x2b479f(0x1a9)][_0x2b479f(0x187)][-0x14ad + -0x88e + -0x42d * -0x7]['id'],
                    'ack': 0x2,
                    'status': _0x2a3fb0[_0x2b479f(0x15f)],
                    'mediaUrl': _0x46645b[_0x2b479f(0x157)](_0x2a3fb0[_0x2b479f(0x189)])[0x115 + 0x1d5 + -0x2e9] || '',
                    'mediaType': _0x2a3fb0[_0x2b479f(0x161)],
                    'sendType': _0x2a3fb0[_0x2b479f(0x161)]
                });
                const _0x4bf42c = {};
                _0x4bf42c[_0x2b479f(0x191)] = _0x483f82, _0x4bf42c[_0x2b479f(0x173)] = _0x2a3fb0[_0x2b479f(0x15e)], _0x4bf42c[_0x2b479f(0x1a8)] = _0x48f6fb, (0x1366 + -0x6d * -0x1f + -0x2099, socketEmit_1[_0x2b479f(0x1c0)])(_0x4bf42c);
                const _0x5b6c06 = {};
                _0x5b6c06[_0x2b479f(0x165)] = _0x12d2c0[_0x2b479f(0x1a9)][_0x2b479f(0x187)][-0x1 * 0xc0b + -0x5c7 + 0x11d2]['id'], _0x5b6c06[_0x2b479f(0x191)] = _0x483f82;
                const _0x38a2e3 = {};
                _0x38a2e3[_0x2b479f(0x198)] = _0x5b6c06;
                const _0x25389a = yield Message_1[_0x2b479f(0x1c0)][_0x2b479f(0x186)](_0x38a2e3);
                if (!_0x25389a)
                    return;
                const _0x21a49a = {};
                return _0x21a49a[_0x2b479f(0x191)] = _0x483f82, _0x21a49a[_0x2b479f(0x173)] = _0x2a3fb0[_0x2b479f(0x1a0)], _0x21a49a[_0x2b479f(0x1a8)] = _0x25389a, (-0x237d + 0x8f9 + 0x1a84, socketEmit_1[_0x2b479f(0x1c0)])(_0x21a49a), _0x12d2c0[_0x2b479f(0x1a9)];
            } catch (_0x7dd18c) {
                logger_1[_0x2b479f(0x1ad)][_0x2b479f(0x16b)](_0x2a3fb0[_0x2b479f(0x192)]);
                throw _0x7dd18c;
            }
        });
    }
}
exports[_0x21361d(0x1c0)] = SendAudio;
function _0x5351() {
    const _0x529545 = [
        '3274480dZJKzE',
        '260eARlzn',
        'split',
        'ERR_WHATSA',
        'fault',
        'sendAudio',
        'rdtFp',
        'n/json',
        'contact',
        'wpBoY',
        'GolsE',
        'defineProp',
        'zgqGR',
        'WABA\x20send\x20',
        '1282456peUHZZ',
        '../../erro',
        'messageId',
        'next',
        'chat:ack',
        's/logger',
        'ls/Ticket',
        'throw',
        'warn',
        '3419vtwxTt',
        '9AhMCVh',
        'GNhdx',
        'GYIGa',
        'done',
        'access_tok',
        '91ZlVmsU',
        'type',
        '386058TVDLma',
        'PP_OFFLINE',
        'POST',
        'en=',
        'bmToken',
        'hyzDJ',
        'ok.com/v19',
        '.0/',
        'url',
        'YJJvS',
        'ls/Message',
        'value',
        '5925495VwJTVh',
        '1VKCjQm',
        'messaging_',
        'Content-Ty',
        '../../mode',
        'ticket:upd',
        'findOne',
        'messages',
        'rs/AppErro',
        'EQHFL',
        'bjTQO',
        'body',
        '11pxqeuU',
        '../../help',
        'pFmtK',
        'update',
        'gTgYm',
        'tenantId',
        'WNvJr',
        'bZaDn',
        'AsMcb',
        'tjJIo',
        'method',
        '../../util',
        'where',
        'public/',
        '__importDe',
        'fromMe',
        'idFront',
        'apply',
        'aph.facebo',
        'ers/socket',
        'UJdBs',
        '__esModule',
        'audio',
        'Emit',
        'mFBsp',
        '56076DlWPoa',
        'bWObr',
        'link',
        'payload',
        'data',
        'applicatio',
        'headers',
        '/messages?',
        'logger',
        'now',
        '__awaiter',
        '1331150KSMsnv',
        'axios',
        'TBIeC',
        'audio\x20erro',
        '57723URycVo',
        'CONNECTED',
        'sended',
        'product',
        'then',
        'https://gr',
        'yuPCS',
        'erty',
        'status',
        'getTime',
        'eXGJW',
        'whatsapp',
        'default',
        'ate'
    ];
    _0x5351 = function () {
        return _0x529545;
    };
    return _0x5351();
}