'use strict';
const _0x23736e = _0x2f6a;
(function (_0x4aa942, _0x440311) {
    const _0x25618e = _0x2f6a, _0x5d8b00 = _0x4aa942();
    while (!![]) {
        try {
            const _0x3b89ee = -parseInt(_0x25618e(0xbc)) / (0x1 * 0x925 + -0x12c6 + 0x9a2) * (-parseInt(_0x25618e(0xf1)) / (0x1af7 + -0x10ad + -0xa48)) + -parseInt(_0x25618e(0x111)) / (-0x1b * 0x54 + -0x1607 + 0x1ee6) * (-parseInt(_0x25618e(0x10b)) / (-0x18 * 0xbe + 0x23 * 0x2b + 0xbf3)) + parseInt(_0x25618e(0xfa)) / (0xa9d * 0x1 + -0xb19 + 0x81) * (parseInt(_0x25618e(0xc9)) / (-0x3 * 0xa8 + -0x130c + 0x150a)) + parseInt(_0x25618e(0xf9)) / (0xa2c + -0x4e7 * 0x5 + 0xe5e) * (-parseInt(_0x25618e(0xe3)) / (0x77 * 0x13 + -0x14ff + 0xc32)) + -parseInt(_0x25618e(0xdb)) / (-0xc9f + -0x1 * 0x1302 + 0x1faa) + parseInt(_0x25618e(0xf2)) / (0x22a2 * -0x1 + 0x2aa * -0x9 + 0x3aa6) * (-parseInt(_0x25618e(0xfc)) / (-0x238d + -0x1 * -0x1a12 + -0x986 * -0x1)) + parseInt(_0x25618e(0xef)) / (-0x42 * 0x89 + -0x164d + -0x309 * -0x13) * (parseInt(_0x25618e(0x102)) / (0x1856 + -0x1e69 + 0x620));
            if (_0x3b89ee === _0x440311)
                break;
            else
                _0x5d8b00['push'](_0x5d8b00['shift']());
        } catch (_0x3dd034) {
            _0x5d8b00['push'](_0x5d8b00['shift']());
        }
    }
}(_0x582f, 0xbf * -0x79f + 0xf8 * 0x565 + 0x1 * 0x59bd5));
var __awaiter = this && this[_0x23736e(0xc4)] || function (_0x498ee0, _0x2c9a3c, _0x3d3142, _0x2ffd6d) {
        const _0x1da04e = _0x23736e, _0x3d131a = {
                'AnOCL': function (_0x560129, _0x2630cc) {
                    return _0x560129(_0x2630cc);
                },
                'NfrSD': function (_0x56f5ae, _0x2cd152) {
                    return _0x56f5ae instanceof _0x2cd152;
                },
                'EuSxL': function (_0x73bc46, _0x175bb4) {
                    return _0x73bc46(_0x175bb4);
                },
                'TJtmZ': function (_0x3cd6a5, _0x1af72c) {
                    return _0x3cd6a5(_0x1af72c);
                },
                'pzLvF': function (_0x3591c9, _0x20737e) {
                    return _0x3591c9(_0x20737e);
                },
                'IEIaU': _0x1da04e(0xc2),
                'qtirJ': function (_0x39cf83, _0x3c462a) {
                    return _0x39cf83(_0x3c462a);
                }
            };
        function _0x53cf90(_0x414742) {
            const _0x10d679 = _0x1da04e;
            return _0x3d131a[_0x10d679(0x109)](_0x414742, _0x3d3142) ? _0x414742 : new _0x3d3142(function (_0x518a6c) {
                const _0x528c87 = _0x10d679;
                _0x3d131a[_0x528c87(0xb7)](_0x518a6c, _0x414742);
            });
        }
        return new (_0x3d3142 || (_0x3d3142 = Promise))(function (_0x868555, _0x31cc11) {
            const _0x243579 = _0x1da04e, _0x5a0092 = {
                    'Brwzs': function (_0x2c4537, _0x2ec1f8) {
                        const _0xad74b = _0x2f6a;
                        return _0x3d131a[_0xad74b(0x100)](_0x2c4537, _0x2ec1f8);
                    },
                    'NZnbR': function (_0x532f70, _0xbb66ce) {
                        const _0x36ac18 = _0x2f6a;
                        return _0x3d131a[_0x36ac18(0xfb)](_0x532f70, _0xbb66ce);
                    },
                    'jqICw': _0x3d131a[_0x243579(0xba)]
                };
            function _0x8cc427(_0x33a27c) {
                const _0x337544 = _0x243579;
                try {
                    _0x5a0092[_0x337544(0xd5)](_0x2c4b4c, _0x2ffd6d[_0x337544(0xe1)](_0x33a27c));
                } catch (_0x541a37) {
                    _0x5a0092[_0x337544(0xd5)](_0x31cc11, _0x541a37);
                }
            }
            function _0x135fe1(_0x2c2cfe) {
                const _0x4f84f2 = _0x243579;
                try {
                    _0x5a0092[_0x4f84f2(0xc8)](_0x2c4b4c, _0x2ffd6d[_0x5a0092[_0x4f84f2(0xd0)]](_0x2c2cfe));
                } catch (_0x106b70) {
                    _0x5a0092[_0x4f84f2(0xd5)](_0x31cc11, _0x106b70);
                }
            }
            function _0x2c4b4c(_0x2fed2d) {
                const _0x2876e6 = _0x243579;
                _0x2fed2d[_0x2876e6(0xaf)] ? _0x3d131a[_0x2876e6(0x10d)](_0x868555, _0x2fed2d[_0x2876e6(0xcf)]) : _0x3d131a[_0x2876e6(0xfb)](_0x53cf90, _0x2fed2d[_0x2876e6(0xcf)])[_0x2876e6(0xf7)](_0x8cc427, _0x135fe1);
            }
            _0x3d131a[_0x243579(0x106)](_0x2c4b4c, (_0x2ffd6d = _0x2ffd6d[_0x243579(0xd7)](_0x498ee0, _0x2c9a3c || []))[_0x243579(0xe1)]());
        });
    }, __importDefault = this && this[_0x23736e(0x115) + _0x23736e(0x110)] || function (_0x40835c) {
        const _0x34fad1 = _0x23736e;
        return _0x40835c && _0x40835c[_0x34fad1(0xb3)] ? _0x40835c : { 'default': _0x40835c };
    };
const _0x3b962b = {};
_0x3b962b[_0x23736e(0xcf)] = !![], Object[_0x23736e(0x10e) + _0x23736e(0xe9)](exports, _0x23736e(0xb3), _0x3b962b);
function _0x582f() {
    const _0x23f9a7 = [
        'headers',
        'AnOCL',
        '.0/',
        'XTryN',
        'IEIaU',
        'HHooX',
        '2IZMmIZ',
        'viwMe',
        'ERR_WHATSA',
        'messageId',
        'findOne',
        'split',
        'throw',
        'payload',
        '__awaiter',
        'GKmjI',
        's/logger',
        '../../help',
        'NZnbR',
        '19392AcvDdU',
        'PP_OFFLINE',
        'tenantId',
        'caption',
        'ls/Ticket',
        'status',
        'value',
        'jqICw',
        'en=',
        'CONNECTED',
        'contact',
        'POST',
        'Brwzs',
        'data',
        'apply',
        'video',
        'rHgqU',
        'lAcMb',
        '3561390BQkTiy',
        'ticket:upd',
        'getTime',
        'ok.com/v19',
        'url',
        'ate',
        'next',
        'chat:ack',
        '208pLRECa',
        'link',
        'ls/Message',
        '../../mode',
        'sIKQf',
        'rs/AppErro',
        'erty',
        'ers/socket',
        'axios',
        'warn',
        'type',
        'vCtuj',
        '24slPQJM',
        'aph.facebo',
        '328604ICxqcn',
        '970BgzQsH',
        'body',
        'WABA\x20send\x20',
        '../../erro',
        'XfvzQ',
        'then',
        'update',
        '17276AKYQnR',
        '725jwvKHv',
        'TJtmZ',
        '49236zAoXLk',
        '../../util',
        'n/json',
        'bmToken',
        'pzLvF',
        'video\x20erro',
        '1980823bXSEWU',
        'iVrng',
        'oquPl',
        'where',
        'qtirJ',
        '/messages?',
        'whatsapp',
        'NfrSD',
        'now',
        '16PJDHiO',
        'logger',
        'EuSxL',
        'defineProp',
        'Content-Ty',
        'fault',
        '97113xupPFt',
        'lDycv',
        'method',
        'filename',
        '__importDe',
        'public/',
        'DYNYH',
        'applicatio',
        'product',
        'sendVideo',
        'fromMe',
        'Emit',
        'messaging_',
        'access_tok',
        'messages',
        'https://gr',
        'zmNOt',
        'done',
        'idFront',
        'sended',
        'iyaKg',
        '__esModule',
        'JOJmw',
        'default'
    ];
    _0x582f = function () {
        return _0x23f9a7;
    };
    return _0x582f();
}
const axios_1 = __importDefault(require(_0x23736e(0xeb))), Ticket_1 = __importDefault(require(_0x23736e(0xe6) + _0x23736e(0xcd))), Message_1 = __importDefault(require(_0x23736e(0xe6) + _0x23736e(0xe5))), socketEmit_1 = __importDefault(require(_0x23736e(0xc7) + _0x23736e(0xea) + _0x23736e(0xa9))), AppError_1 = __importDefault(require(_0x23736e(0xf5) + _0x23736e(0xe8) + 'r')), logger_1 = require(_0x23736e(0xfd) + _0x23736e(0xc6));
class SendVideo {
    [_0x23736e(0xa7)]({
        from: _0x3fb639,
        phone_number_id: _0x9c22f1,
        videoUrl: _0x3d3847,
        caption: _0x5603a1,
        ticket: _0x1d406,
        tenantId: _0x21ff22,
        idFront: _0xbccb0,
        whatsapp: _0x104759
    }) {
        const _0x274d2d = _0x23736e, _0x247759 = {
                'lDycv': function (_0x2bdaa6, _0x148345) {
                    return _0x2bdaa6 !== _0x148345;
                },
                'lAcMb': _0x274d2d(0xd2),
                'XTryN': _0x274d2d(0xbe) + _0x274d2d(0xca),
                'JOJmw': function (_0x14dac3, _0x38ed00) {
                    return _0x14dac3 === _0x38ed00;
                },
                'vCtuj': function (_0x41b0eb, _0x3f7648) {
                    return _0x41b0eb === _0x3f7648;
                },
                'HHooX': _0x274d2d(0xd4),
                'iyaKg': _0x274d2d(0x108),
                'zmNOt': _0x274d2d(0xd8),
                'oquPl': _0x274d2d(0xa5) + _0x274d2d(0xfe),
                'viwMe': function (_0x27d790, _0x3f72a4) {
                    return _0x27d790 || _0x3f72a4;
                },
                'iVrng': _0x274d2d(0xb1),
                'rHgqU': _0x274d2d(0x116),
                'DYNYH': _0x274d2d(0xdc) + _0x274d2d(0xe0),
                'GKmjI': _0x274d2d(0xe2),
                'XfvzQ': _0x274d2d(0xf4) + _0x274d2d(0x101) + 'r',
                'sIKQf': function (_0x2ababe, _0x5b350f, _0x10e4d7, _0x4baf43, _0x2708f2) {
                    return _0x2ababe(_0x5b350f, _0x10e4d7, _0x4baf43, _0x2708f2);
                }
            };
        return _0x247759[_0x274d2d(0xe7)](__awaiter, this, void (0x1ad * 0x1 + -0x1ed1 + 0x1d24), void (0x2115 + 0x2f * 0xd + -0x2378), function* () {
            const _0x19a082 = _0x274d2d;
            if (_0x247759[_0x19a082(0x112)](_0x104759[_0x19a082(0xce)], _0x247759[_0x19a082(0xda)]))
                throw new AppError_1[(_0x19a082(0xb5))](_0x247759[_0x19a082(0xb9)], 0x1eb2 + 0x1 * -0x12e5 + -0xa3d);
            try {
                const _0x27f08b = _0x19a082(0xad) + _0x19a082(0xf0) + _0x19a082(0xde) + _0x19a082(0xb8) + _0x9c22f1 + (_0x19a082(0x107) + _0x19a082(0xab) + _0x19a082(0xd1)) + (_0x247759[_0x19a082(0xb4)](_0x104759, null) || _0x247759[_0x19a082(0xee)](_0x104759, void (0x2644 + 0x1076 + -0x91f * 0x6)) ? void (0x1 * 0xd1a + -0x1769 + -0x1 * -0xa4f) : _0x104759[_0x19a082(0xff)]), _0x1d0a64 = {};
                _0x1d0a64[_0x19a082(0xe4)] = _0x3d3847, _0x1d0a64[_0x19a082(0xcc)] = _0x5603a1, _0x1d0a64[_0x19a082(0x114)] = _0x5603a1;
                const _0x1d8e21 = {};
                _0x1d8e21[_0x19a082(0x113)] = _0x247759[_0x19a082(0xbb)], _0x1d8e21[_0x19a082(0xdf)] = _0x27f08b, _0x1d8e21[_0x19a082(0xd6)] = {}, _0x1d8e21[_0x19a082(0xb6)] = {}, _0x1d8e21[_0x19a082(0xd6)][_0x19a082(0xaa) + _0x19a082(0xa6)] = _0x247759[_0x19a082(0xb2)], _0x1d8e21[_0x19a082(0xd6)]['to'] = _0x3fb639, _0x1d8e21[_0x19a082(0xd6)][_0x19a082(0xed)] = _0x247759[_0x19a082(0xae)], _0x1d8e21[_0x19a082(0xd6)][_0x19a082(0xd8)] = _0x1d0a64, _0x1d8e21[_0x19a082(0xb6)][_0x19a082(0x10f) + 'pe'] = _0x247759[_0x19a082(0x104)];
                const _0x211b47 = yield (-0x24e6 + -0x2312 + 0x11fe * 0x4, axios_1[_0x19a082(0xb5)])(_0x1d8e21);
                let _0x2f555a = Date[_0x19a082(0x10a)]();
                const _0x3a44a1 = {
                        'messageId': _0x211b47[_0x19a082(0xd6)][_0x19a082(0xac)][-0x4 * -0x2ef + 0xc6e * 0x1 + -0x182a]['id'] || '',
                        'ticketId': _0x1d406['id'],
                        'contactId': _0x1d406[_0x19a082(0xd3)]['id'],
                        'body': _0x247759[_0x19a082(0xbd)](_0x5603a1, ''),
                        'fromMe': !![],
                        'mediaType': _0x247759[_0x19a082(0xae)],
                        'read': !![],
                        'ack': 0x1,
                        'timestamp': _0x2f555a,
                        'status': _0x247759[_0x19a082(0x103)]
                    }, _0x146010 = {};
                _0x146010['id'] = _0x1d406['id'];
                const _0x137c1f = {};
                _0x137c1f[_0x19a082(0x105)] = _0x146010;
                const _0x2a2802 = yield Ticket_1[_0x19a082(0xb5)][_0x19a082(0xc0)](_0x137c1f);
                if (!_0x2a2802)
                    return;
                yield _0x2a2802[_0x19a082(0xf8)]({
                    'lastMessage': _0x3a44a1[_0x19a082(0xf3)],
                    'lastMessageAt': new Date()[_0x19a082(0xdd)](),
                    'answered': _0x211b47[_0x19a082(0xd6)][_0x19a082(0xa8)] || ![]
                });
                const _0x115320 = {};
                _0x115320[_0x19a082(0xb0)] = _0xbccb0, _0x115320[_0x19a082(0xcb)] = _0x21ff22;
                const _0xc7d24e = {};
                _0xc7d24e[_0x19a082(0x105)] = _0x115320;
                const _0xe2bad7 = yield Message_1[_0x19a082(0xb5)][_0x19a082(0xc0)](_0xc7d24e);
                if (!_0xe2bad7)
                    return;
                yield _0xe2bad7[_0x19a082(0xf8)]({
                    'messageId': _0x211b47[_0x19a082(0xd6)][_0x19a082(0xac)][-0x71 * 0x4d + -0x1938 + 0x3b35]['id'],
                    'ack': 0x2,
                    'status': _0x247759[_0x19a082(0x103)],
                    'mediaUrl': _0x3d3847[_0x19a082(0xc1)](_0x247759[_0x19a082(0xd9)])[-0xcdf + -0xa5c + 0x5cf * 0x4] || '',
                    'mediaType': _0x247759[_0x19a082(0xae)],
                    'sendType': _0x247759[_0x19a082(0xae)]
                });
                const _0x2fec0e = {};
                _0x2fec0e[_0x19a082(0xcb)] = _0x21ff22, _0x2fec0e[_0x19a082(0xed)] = _0x247759[_0x19a082(0xa4)], _0x2fec0e[_0x19a082(0xc3)] = _0x1d406, (-0x1 * 0x1d27 + -0x1 * 0xb27 + -0x9a * -0x43, socketEmit_1[_0x19a082(0xb5)])(_0x2fec0e);
                const _0x331951 = {};
                _0x331951[_0x19a082(0xbf)] = _0x211b47[_0x19a082(0xd6)][_0x19a082(0xac)][0x859 * -0x1 + 0x1b02 + -0x12a9]['id'], _0x331951[_0x19a082(0xcb)] = _0x21ff22;
                const _0x348214 = {};
                _0x348214[_0x19a082(0x105)] = _0x331951;
                const _0x39060e = yield Message_1[_0x19a082(0xb5)][_0x19a082(0xc0)](_0x348214);
                if (!_0x39060e)
                    return;
                const _0x455b1c = {};
                return _0x455b1c[_0x19a082(0xcb)] = _0x21ff22, _0x455b1c[_0x19a082(0xed)] = _0x247759[_0x19a082(0xc5)], _0x455b1c[_0x19a082(0xc3)] = _0x39060e, (-0x445 * 0x9 + -0x22a + -0x2897 * -0x1, socketEmit_1[_0x19a082(0xb5)])(_0x455b1c), _0x211b47[_0x19a082(0xd6)];
            } catch (_0x42a3c5) {
                logger_1[_0x19a082(0x10c)][_0x19a082(0xec)](_0x247759[_0x19a082(0xf6)]);
                throw _0x42a3c5;
            }
        });
    }
}
function _0x2f6a(_0x393b66, _0x5322d5) {
    const _0x49d945 = _0x582f();
    return _0x2f6a = function (_0x59f86e, _0x469c4e) {
        _0x59f86e = _0x59f86e - (-0x1 * 0x1232 + 0x9 * -0x1ee + 0x121a * 0x2);
        let _0x49c12d = _0x49d945[_0x59f86e];
        return _0x49c12d;
    }, _0x2f6a(_0x393b66, _0x5322d5);
}
exports[_0x23736e(0xb5)] = SendVideo;