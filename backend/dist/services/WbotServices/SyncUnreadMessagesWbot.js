'use strict';
const _0x2799f6 = _0x32b3;
(function (_0x58a082, _0x564e92) {
    const _0x4ded23 = _0x32b3, _0x392ec5 = _0x58a082();
    while (!![]) {
        try {
            const _0x153cc9 = -parseInt(_0x4ded23(0xce)) / (0x1c7b + -0x177c + 0x9 * -0x8e) * (-parseInt(_0x4ded23(0x107)) / (-0x3c2 + 0xdd3 * 0x2 + -0x17e2)) + -parseInt(_0x4ded23(0x10a)) / (-0x4ae + -0x2 * -0x23d + 0x37) + parseInt(_0x4ded23(0x102)) / (-0x179d * -0x1 + 0x15da + -0x2d73) + -parseInt(_0x4ded23(0x114)) / (0x7 * -0x209 + -0x1a33 + 0x2877) * (-parseInt(_0x4ded23(0xaf)) / (-0x4 * -0x47c + -0x239 * -0x3 + 0xcb * -0x1f)) + parseInt(_0x4ded23(0x9f)) / (-0x1c02 + -0x1 * -0x1b7d + 0x8c) + parseInt(_0x4ded23(0xca)) / (-0x173 * -0x2 + 0x2583 + -0x2861) * (-parseInt(_0x4ded23(0x10f)) / (0x1b2a + 0x2f * 0x4b + -0x82e * 0x5)) + -parseInt(_0x4ded23(0x100)) / (-0x2595 + -0x17fa + -0x1 * -0x3d99);
            if (_0x153cc9 === _0x564e92)
                break;
            else
                _0x392ec5['push'](_0x392ec5['shift']());
        } catch (_0x2b5953) {
            _0x392ec5['push'](_0x392ec5['shift']());
        }
    }
}(_0x4aef, 0x22391 + -0x2bf31 + 0x2 * 0x1e0d2));
var __awaiter = this && this[_0x2799f6(0xb5)] || function (_0x160ac9, _0x5ec6e9, _0xedae6d, _0x45160c) {
        const _0x935825 = _0x2799f6, _0x4fe166 = {
                'aUcdo': function (_0x18b7fe, _0x3c5389) {
                    return _0x18b7fe(_0x3c5389);
                },
                'KTQZy': function (_0x4b8f56, _0x4034ae) {
                    return _0x4b8f56 instanceof _0x4034ae;
                },
                'ezvQh': function (_0x20dd88, _0x12c918) {
                    return _0x20dd88(_0x12c918);
                },
                'ekvkd': function (_0x3b4e8e, _0x3cb4b1) {
                    return _0x3b4e8e(_0x3cb4b1);
                },
                'NbKhi': _0x935825(0xa4),
                'yDwAX': function (_0x122b13, _0x61a809) {
                    return _0x122b13(_0x61a809);
                }
            };
        function _0x2fd2f9(_0x6bf178) {
            const _0x535910 = _0x935825, _0x2aeba6 = {
                    'wzLLu': function (_0x5e0bbc, _0x2d92f6) {
                        const _0x3d92f0 = _0x32b3;
                        return _0x4fe166[_0x3d92f0(0xfa)](_0x5e0bbc, _0x2d92f6);
                    }
                };
            return _0x4fe166[_0x535910(0xd7)](_0x6bf178, _0xedae6d) ? _0x6bf178 : new _0xedae6d(function (_0x12847a) {
                const _0x3c0158 = _0x535910;
                _0x2aeba6[_0x3c0158(0x11c)](_0x12847a, _0x6bf178);
            });
        }
        return new (_0xedae6d || (_0xedae6d = Promise))(function (_0x2a1d00, _0x1cb1d1) {
            const _0x2786d0 = _0x935825;
            function _0x27438a(_0x2d17fc) {
                const _0x30fcd8 = _0x32b3;
                try {
                    _0x4fe166[_0x30fcd8(0xd5)](_0x51a1b4, _0x45160c[_0x30fcd8(0xd3)](_0x2d17fc));
                } catch (_0x595969) {
                    _0x4fe166[_0x30fcd8(0xbc)](_0x1cb1d1, _0x595969);
                }
            }
            function _0x1d0cb1(_0x362bd4) {
                const _0x128c90 = _0x32b3;
                try {
                    _0x4fe166[_0x128c90(0xd5)](_0x51a1b4, _0x45160c[_0x4fe166[_0x128c90(0x110)]](_0x362bd4));
                } catch (_0x14bc2e) {
                    _0x4fe166[_0x128c90(0xbc)](_0x1cb1d1, _0x14bc2e);
                }
            }
            function _0x51a1b4(_0x5dff56) {
                const _0x310c3b = _0x32b3;
                _0x5dff56[_0x310c3b(0xee)] ? _0x4fe166[_0x310c3b(0xa2)](_0x2a1d00, _0x5dff56[_0x310c3b(0xb2)]) : _0x4fe166[_0x310c3b(0xd5)](_0x2fd2f9, _0x5dff56[_0x310c3b(0xb2)])[_0x310c3b(0x11a)](_0x27438a, _0x1d0cb1);
            }
            _0x4fe166[_0x2786d0(0xbc)](_0x51a1b4, (_0x45160c = _0x45160c[_0x2786d0(0xa8)](_0x160ac9, _0x5ec6e9 || []))[_0x2786d0(0xd3)]());
        });
    }, __importDefault = this && this[_0x2799f6(0xa9) + _0x2799f6(0xe2)] || function (_0x28ff0c) {
        const _0x370d36 = _0x2799f6;
        return _0x28ff0c && _0x28ff0c[_0x370d36(0xb4)] ? _0x28ff0c : { 'default': _0x28ff0c };
    };
function _0x32b3(_0x4b2456, _0x33913d) {
    const _0x29e4d0 = _0x4aef();
    return _0x32b3 = function (_0x46f546, _0x5f23d5) {
        _0x46f546 = _0x46f546 - (0x2 * 0x1033 + 0x14f + -0x2123);
        let _0x224106 = _0x29e4d0[_0x46f546];
        return _0x224106;
    }, _0x32b3(_0x4b2456, _0x33913d);
}
const _0x3900d6 = {};
_0x3900d6[_0x2799f6(0xb2)] = !![], Object[_0x2799f6(0xff) + _0x2799f6(0xb8)](exports, _0x2799f6(0xb4), _0x3900d6);
const Queue_1 = __importDefault(require(_0x2799f6(0xc3) + _0x2799f6(0xc8))), logger_1 = require(_0x2799f6(0xc6) + _0x2799f6(0x96)), VerifyStepsChatFlowTicket_1 = __importDefault(require(_0x2799f6(0xf2) + _0x2799f6(0xed) + _0x2799f6(0xa3) + _0x2799f6(0xbe) + _0x2799f6(0xae))), FindOrCreateTicketService_1 = __importDefault(require(_0x2799f6(0xe0) + _0x2799f6(0x119) + _0x2799f6(0x10c) + _0x2799f6(0xbf) + _0x2799f6(0x10b))), VerifyContact_1 = __importDefault(require(_0x2799f6(0xda) + _0x2799f6(0x103) + _0x2799f6(0xf5))), VerifyMediaMessage_1 = __importDefault(require(_0x2799f6(0xda) + _0x2799f6(0xd4) + _0x2799f6(0x92))), VerifyMessage_1 = __importDefault(require(_0x2799f6(0xda) + _0x2799f6(0x9e) + _0x2799f6(0x108))), Setting_1 = __importDefault(require(_0x2799f6(0x104) + _0x2799f6(0xea))), SyncUnreadMessagesWbot = (_0x24b7c5, _0x16b10c) => __awaiter(void (0x5ed + 0x17de + -0x1 * 0x1dcb), void (0x1d5b + -0x1793 + -0xa * 0x94), void (-0x1501 + -0x4fb + 0x19fc), function* () {
        const _0x41c502 = _0x2799f6, _0x1380fa = {};
        _0x1380fa[_0x41c502(0x106)] = function (_0x50bb15, _0x20af80) {
            return _0x50bb15 === _0x20af80;
        }, _0x1380fa[_0x41c502(0xe9)] = function (_0x1c1b37, _0x7d6a4) {
            return _0x1c1b37 === _0x7d6a4;
        }, _0x1380fa[_0x41c502(0xd8)] = function (_0x46b53f, _0x4c5f39) {
            return _0x46b53f - _0x4c5f39;
        }, _0x1380fa[_0x41c502(0x115)] = function (_0x613dbe, _0x3f6d32) {
            return _0x613dbe === _0x3f6d32;
        }, _0x1380fa[_0x41c502(0xc2)] = function (_0x4ff7a5, _0x38ab30) {
            return _0x4ff7a5 === _0x38ab30;
        }, _0x1380fa[_0x41c502(0xeb)] = _0x41c502(0xa5) + 'e', _0x1380fa[_0x41c502(0xa0)] = _0x41c502(0xb9) + 'I', _0x1380fa[_0x41c502(0xfb)] = function (_0x26c70b, _0x19f3b8) {
            return _0x26c70b > _0x19f3b8;
        }, _0x1380fa[_0x41c502(0xf6)] = _0x41c502(0xdd) + _0x41c502(0xc0), _0x1380fa[_0x41c502(0xfe)] = function (_0x34ea93, _0x2c910a) {
            return _0x34ea93 + _0x2c910a;
        }, _0x1380fa[_0x41c502(0xc5)] = function (_0xac7631, _0x46695a) {
            return _0xac7631 + _0x46695a;
        }, _0x1380fa[_0x41c502(0xdb)] = _0x41c502(0xde), _0x1380fa[_0x41c502(0xa7)] = _0x41c502(0xc4) + '.', _0x1380fa[_0x41c502(0xd1)] = _0x41c502(0xe6) + _0x41c502(0xd6) + _0x41c502(0xf0), _0x1380fa[_0x41c502(0xa6)] = _0x41c502(0x9c), _0x1380fa[_0x41c502(0x93)] = function (_0x388b41, _0x385400) {
            return _0x388b41 === _0x385400;
        }, _0x1380fa[_0x41c502(0x117)] = function (_0x4bef67, _0x4093cd) {
            return _0x4bef67 === _0x4093cd;
        }, _0x1380fa[_0x41c502(0xc1)] = function (_0x385d66, _0x631827) {
            return _0x385d66 === _0x631827;
        }, _0x1380fa[_0x41c502(0x112)] = _0x41c502(0xe4) + _0x41c502(0xad) + _0x41c502(0x9b);
        const _0x2620eb = _0x1380fa;
        try {
            const _0x1e3a70 = yield _0x24b7c5[_0x41c502(0xb3)]();
            yield Promise[_0x41c502(0xfd)](_0x1e3a70[_0x41c502(0x109)](_0x2547f1 => __awaiter(void (-0x1b0 + 0xd1b + -0x25 * 0x4f), void (0xe * 0x277 + 0x10 * -0x174 + -0x16 * 0x83), void (0xfd1 + 0x2438 + -0x3409), function* () {
                const _0x23ead5 = _0x41c502, _0x40b391 = {
                        'ouiUC': function (_0x4fef61, _0x16add5) {
                            const _0x33664e = _0x32b3;
                            return _0x2620eb[_0x33664e(0x106)](_0x4fef61, _0x16add5);
                        },
                        'HKoZd': function (_0xc353, _0x4bfd3b) {
                            const _0x498a3a = _0x32b3;
                            return _0x2620eb[_0x498a3a(0xe9)](_0xc353, _0x4bfd3b);
                        },
                        'FYbXa': function (_0x52815f, _0x566307) {
                            const _0x3266b2 = _0x32b3;
                            return _0x2620eb[_0x3266b2(0xe9)](_0x52815f, _0x566307);
                        },
                        'cUYDE': function (_0x5ba304, _0x32a802) {
                            const _0x15f175 = _0x32b3;
                            return _0x2620eb[_0x15f175(0xd8)](_0x5ba304, _0x32a802);
                        },
                        'ZiEuP': function (_0x17bc84, _0x134d45) {
                            const _0x580833 = _0x32b3;
                            return _0x2620eb[_0x580833(0xe9)](_0x17bc84, _0x134d45);
                        },
                        'KrRQt': function (_0x337e79, _0x377097) {
                            const _0x5826cd = _0x32b3;
                            return _0x2620eb[_0x5826cd(0x115)](_0x337e79, _0x377097);
                        },
                        'QTWea': function (_0x219234, _0x365912) {
                            const _0x446830 = _0x32b3;
                            return _0x2620eb[_0x446830(0xc2)](_0x219234, _0x365912);
                        },
                        'vIZNP': _0x2620eb[_0x23ead5(0xeb)],
                        'zZdJj': _0x2620eb[_0x23ead5(0xa0)]
                    };
                if (_0x2620eb[_0x23ead5(0xfb)](_0x2547f1[_0x23ead5(0x101) + 't'], 0x789 * 0x1 + 0x1e7f + -0x2608)) {
                    const _0x3b4fe5 = yield _0x2547f1[_0x23ead5(0xab) + _0x23ead5(0xe1)]({ 'limit': _0x2547f1[_0x23ead5(0x101) + 't'] });
                    logger_1[_0x23ead5(0xbb)][_0x23ead5(0x9a)](_0x23ead5(0x95) + _0x2547f1);
                    if (_0x2547f1[_0x23ead5(0x10d)])
                        return;
                    const _0x3adcf7 = yield _0x2547f1[_0x23ead5(0x111)](), _0x633bcc = yield (-0x250f * 0x1 + 0x25cf + 0xc0 * -0x1, VerifyContact_1[_0x23ead5(0x10e)])(_0x3adcf7, _0x16b10c);
                    try {
                        const _0x55bd95 = {};
                        _0x55bd95[_0x23ead5(0x97)] = _0x2620eb[_0x23ead5(0xf6)], _0x55bd95[_0x23ead5(0xe7)] = _0x16b10c;
                        const _0x8c0085 = {};
                        _0x8c0085[_0x23ead5(0xba)] = _0x55bd95;
                        const _0x7bfe63 = yield Setting_1[_0x23ead5(0x10e)][_0x23ead5(0xc9)](_0x8c0085);
                        if (_0x7bfe63 && _0x7bfe63[_0x23ead5(0xb2)]) {
                            const _0x7b9adf = _0x7bfe63[_0x23ead5(0xb2)][_0x23ead5(0xe3)](','), _0x477255 = _0x633bcc[_0x23ead5(0x116)][_0x23ead5(0xdc)](/\D/g, '');
                            if (_0x7b9adf[_0x23ead5(0xb0)](_0x477255)) {
                                logger_1[_0x23ead5(0xbb)][_0x23ead5(0x9a)](_0x2620eb[_0x23ead5(0xfe)](_0x2620eb[_0x23ead5(0xc5)](_0x2620eb[_0x23ead5(0xdb)], _0x477255), _0x2620eb[_0x23ead5(0xa7)]));
                                return;
                            }
                        }
                    } catch (_0x478b3c) {
                        logger_1[_0x23ead5(0xbb)][_0x23ead5(0xfc)](_0x2620eb[_0x23ead5(0xd1)]);
                    }
                    const _0x59d09e = {};
                    _0x59d09e[_0x23ead5(0xd9)] = _0x633bcc, _0x59d09e[_0x23ead5(0xec)] = _0x24b7c5['id'], _0x59d09e[_0x23ead5(0xcc) + _0x23ead5(0x9d)] = _0x2547f1[_0x23ead5(0x101) + 't'], _0x59d09e[_0x23ead5(0xe7)] = _0x16b10c, _0x59d09e[_0x23ead5(0xf1)] = !![], _0x59d09e[_0x23ead5(0xd2)] = _0x2620eb[_0x23ead5(0xa6)];
                    const _0xbaba2a = yield (-0xe0d * -0x1 + -0x15d8 + -0x39 * -0x23, FindOrCreateTicketService_1[_0x23ead5(0x10e)])(_0x59d09e);
                    if (_0x2620eb[_0x23ead5(0x93)](_0xbaba2a, null) || _0x2620eb[_0x23ead5(0x117)](_0xbaba2a, void (-0x8 * -0x3db + -0x2 * 0xa86 + 0x4 * -0x273)) ? void (0x99 + -0x1799 + 0x1700) : _0xbaba2a[_0x23ead5(0xf9) + _0x23ead5(0xf3)])
                        return;
                    if (_0x2620eb[_0x23ead5(0xe9)](_0xbaba2a, null) || _0x2620eb[_0x23ead5(0xc1)](_0xbaba2a, void (-0xe0 * -0x14 + 0xee6 + -0x2066)) ? void (0x1f38 + 0x1baf + -0x3ae7) : _0xbaba2a[_0x23ead5(0xe8) + _0x23ead5(0xf3)])
                        return;
                    _0x3b4fe5[_0x23ead5(0x109)]((_0x1afa1a, _0x20c83e) => __awaiter(void (0x14a2 * -0x1 + 0x180d + -0x36b), void (-0x1 * -0x683 + 0x2 * -0x3f1 + 0x15f), void (-0x4 * 0x7b5 + 0x1ff6 + -0x91 * 0x2), function* () {
                        const _0x4220d5 = _0x23ead5;
                        var _0x5b47ce;
                        logger_1[_0x4220d5(0xbb)][_0x4220d5(0x9a)](_0x4220d5(0xb6) + _0x1afa1a, _0x40b391[_0x4220d5(0x11b)](_0x5b47ce = _0x1afa1a['id'], null) || _0x40b391[_0x4220d5(0xac)](_0x5b47ce, void (-0x2141 + -0x164 * 0x1 + 0x22a5)) ? void (0xc2f + -0xc67 + 0x7 * 0x8) : _0x5b47ce['id']);
                        _0x1afa1a[_0x4220d5(0xe5)] ? yield (0x594 + 0x2 * -0x337 + 0xda, VerifyMediaMessage_1[_0x4220d5(0x10e)])(_0x1afa1a, _0xbaba2a, _0x633bcc) : yield (-0x227d + -0x5ab * 0x1 + -0x28 * -0x101, VerifyMessage_1[_0x4220d5(0x10e)])(_0x1afa1a, _0xbaba2a, _0x633bcc);
                        if (_0x40b391[_0x4220d5(0xf7)](_0x20c83e, _0x40b391[_0x4220d5(0x105)](_0x3b4fe5[_0x4220d5(0xf8)], -0x1 * -0x12d3 + -0x13af * 0x1 + 0x11 * 0xd))) {
                            yield (-0x6a7 * -0x2 + 0x567 + -0x12b5 * 0x1, VerifyStepsChatFlowTicket_1[_0x4220d5(0x10e)])(_0x24b7c5, _0x1afa1a, _0xbaba2a);
                            const _0x4af643 = _0xbaba2a[_0x4220d5(0x94)] || {};
                            if (!_0x1afa1a[_0x4220d5(0xcb)] && !_0xbaba2a[_0x4220d5(0x10d)] && !_0xbaba2a[_0x4220d5(0x113)] && (_0x40b391[_0x4220d5(0xf7)](_0x4af643, null) || _0x40b391[_0x4220d5(0xcd)](_0x4af643, void (0x8d6 + -0xa7 + -0x5 * 0x1a3)) ? void (0xbd * -0x1 + -0xb6 * -0xa + -0x65f) : _0x4af643[_0x4220d5(0xaa) + 'y']) && (_0x40b391[_0x4220d5(0xac)](_0x4af643, null) || _0x40b391[_0x4220d5(0xcf)](_0x4af643, void (-0x21d0 + -0x137a + 0x1 * 0x354a)) ? void (-0xec2 + 0xf08 + 0x23 * -0x2) : _0x4af643[_0x4220d5(0x98) + _0x4220d5(0xb7)])) {
                                const _0xb1d858 = {
                                        'timestamp': Date[_0x4220d5(0xb1)](),
                                        'msg': _0x1afa1a,
                                        'messageId': _0x1afa1a['id']['id'],
                                        'ticketId': _0xbaba2a['id'],
                                        'externalKey': _0x40b391[_0x4220d5(0xd0)](_0x4af643, null) || _0x40b391[_0x4220d5(0xcf)](_0x4af643, void (0x1e56 * 0x1 + 0x28 * -0xc5 + 0x72)) ? void (0x242b + 0x1db + -0x2606) : _0x4af643[_0x4220d5(0xaa) + 'y'],
                                        'authToken': _0x40b391[_0x4220d5(0xf7)](_0x4af643, null) || _0x40b391[_0x4220d5(0xcd)](_0x4af643, void (-0x45c + -0x26d1 + 0x62b * 0x7)) ? void (-0x5ad + -0x1f2f + 0xe * 0x2a2) : _0x4af643[_0x4220d5(0xf4)],
                                        'type': _0x40b391[_0x4220d5(0xbd)]
                                    }, _0x282c87 = {};
                                _0x282c87[_0x4220d5(0x118)] = _0x4af643[_0x4220d5(0x98) + _0x4220d5(0xb7)], _0x282c87[_0x4220d5(0x99)] = _0xb1d858[_0x4220d5(0x99)], _0x282c87[_0x4220d5(0xc7)] = _0xb1d858, Queue_1[_0x4220d5(0x10e)][_0x4220d5(0xa1)](_0x40b391[_0x4220d5(0xef)], _0x282c87);
                            }
                        }
                    }));
                }
            })));
        } catch (_0x52e563) {
            logger_1[_0x41c502(0xbb)][_0x41c502(0xdf)](_0x2620eb[_0x41c502(0x112)], _0x52e563);
        }
    });
function _0x4aef() {
    const _0x1b3265 = [
        'XDOFt',
        'number',
        'lQeWM',
        'url',
        'ervices/Fi',
        'then',
        'ouiUC',
        'wzLLu',
        'aMessage',
        'HEPVn',
        'apiConfig',
        'CHAT:\x20',
        's/logger',
        'key',
        'urlMessage',
        'type',
        'info',
        'mensagens',
        'whatsapp',
        'ages',
        'VerifyMess',
        '1465681SGDHCN',
        'lzzIv',
        'add',
        'yDwAX',
        'VerifyStep',
        'throw',
        'hookMessag',
        'BHfTv',
        'KekVn',
        'apply',
        '__importDe',
        'externalKe',
        'fetchMessa',
        'HKoZd',
        'ncronizar\x20',
        'icket',
        '475974bvQPpQ',
        'includes',
        'now',
        'value',
        'getChats',
        '__esModule',
        '__awaiter',
        'MSG:\x20',
        'Status',
        'erty',
        'WebHooksAP',
        'where',
        'logger',
        'ekvkd',
        'vIZNP',
        'sChatFlowT',
        'TicketServ',
        'umbers',
        'PtETy',
        'Uzhln',
        '../../libs',
        '\x20forbidden',
        'uPIeV',
        '../../util',
        'payload',
        '/Queue',
        'findOne',
        '112HTeaLx',
        'fromMe',
        'unreadMess',
        'ZiEuP',
        '5589uPONZM',
        'KrRQt',
        'QTWea',
        'DvhLj',
        'channel',
        'next',
        'VerifyMedi',
        'ezvQh',
        'bidden\x20war',
        'KTQZy',
        'KhGyn',
        'contact',
        './helpers/',
        'cFqwf',
        'replace',
        'forbiddenN',
        'Number\x20',
        'error',
        '../TicketS',
        'ges',
        'fault',
        'split',
        'Erro\x20ao\x20sy',
        'hasMedia',
        'Number\x20for',
        'tenantId',
        'isFarewell',
        'cMkan',
        'ls/Setting',
        'EvtTK',
        'whatsappId',
        'wServices/',
        'done',
        'zZdJj',
        'ning.',
        'isSync',
        '../ChatFlo',
        'Message',
        'authToken',
        'act',
        'EJtJr',
        'FYbXa',
        'length',
        'isCampaign',
        'aUcdo',
        'tWUZo',
        'warn',
        'all',
        'KiQgF',
        'defineProp',
        '2536480nXWOAr',
        'unreadCoun',
        '1612376gmHzJP',
        'VerifyCont',
        '../../mode',
        'cUYDE',
        'jIBBW',
        '22UZMkEx',
        'age',
        'map',
        '221571dyoALi',
        'ice',
        'ndOrCreate',
        'isGroup',
        'default',
        '243063zdscpT',
        'NbKhi',
        'getContact',
        'zjncD',
        'answered',
        '15nVeUmy'
    ];
    _0x4aef = function () {
        return _0x1b3265;
    };
    return _0x4aef();
}
exports[_0x2799f6(0x10e)] = SyncUnreadMessagesWbot;