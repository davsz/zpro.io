'use strict';
const _0x466dd9 = _0x2e74;
function _0x2e74(_0x517a7e, _0x53d52b) {
    const _0x1d8668 = _0x6d25();
    return _0x2e74 = function (_0x1149e1, _0x350b2a) {
        _0x1149e1 = _0x1149e1 - (-0x14a6 + -0x125a + -0x6 * -0x6a3);
        let _0x3ad60e = _0x1d8668[_0x1149e1];
        return _0x3ad60e;
    }, _0x2e74(_0x517a7e, _0x53d52b);
}
(function (_0x39fc8c, _0x1f5a36) {
    const _0x23f83d = _0x2e74, _0x487fbf = _0x39fc8c();
    while (!![]) {
        try {
            const _0x26e6d7 = -parseInt(_0x23f83d(0xe4)) / (-0x29a + 0x7 * 0x50b + 0x136 * -0x1b) + -parseInt(_0x23f83d(0xd3)) / (-0x2dd + -0xcc8 * 0x2 + -0x1d * -0xfb) + parseInt(_0x23f83d(0xfa)) / (0x1c07 + -0x11b3 * -0x1 + -0x2db7) * (-parseInt(_0x23f83d(0xf0)) / (-0x14a9 + 0x15 * 0x19f + -0x1 * 0xd5e)) + -parseInt(_0x23f83d(0xeb)) / (0x7c1 + 0xd98 + -0x1554) + parseInt(_0x23f83d(0xda)) / (0x1 * 0xba7 + 0x1 * -0x133 + -0xa6e * 0x1) * (-parseInt(_0x23f83d(0xee)) / (-0x1683 + 0x1090 + 0x5fa)) + parseInt(_0x23f83d(0xfd)) / (0x1cf0 + -0x1c23 + -0xc5 * 0x1) + parseInt(_0x23f83d(0xd5)) / (-0x6bf + -0x1f47 + -0x1 * -0x260f);
            if (_0x26e6d7 === _0x1f5a36)
                break;
            else
                _0x487fbf['push'](_0x487fbf['shift']());
        } catch (_0x5f0e81) {
            _0x487fbf['push'](_0x487fbf['shift']());
        }
    }
}(_0x6d25, 0x2b8 * 0x70 + -0x34462 + 0x42218));
var __awaiter = this && this[_0x466dd9(0x10e)] || function (_0x1d11b0, _0x3ea016, _0x5d8465, _0x2fbbab) {
        const _0x1e23cf = _0x466dd9, _0x1f807f = {
                'TScxH': function (_0x4ba5cf, _0x241173) {
                    return _0x4ba5cf(_0x241173);
                },
                'ATwcN': function (_0x5c62f4, _0x32f785) {
                    return _0x5c62f4 instanceof _0x32f785;
                },
                'sowIa': _0x1e23cf(0x101),
                'BQidH': function (_0x541703, _0xb3f8f2) {
                    return _0x541703(_0xb3f8f2);
                },
                'bTyEH': function (_0x3da52d, _0x46cfea) {
                    return _0x3da52d(_0x46cfea);
                }
            };
        function _0x4025c9(_0x20ee9f) {
            const _0x308539 = _0x1e23cf, _0x2d1a03 = {
                    'vJhGW': function (_0x54debb, _0xd6402e) {
                        const _0x587530 = _0x2e74;
                        return _0x1f807f[_0x587530(0x106)](_0x54debb, _0xd6402e);
                    }
                };
            return _0x1f807f[_0x308539(0x103)](_0x20ee9f, _0x5d8465) ? _0x20ee9f : new _0x5d8465(function (_0x4b133c) {
                const _0x14b853 = _0x308539;
                _0x2d1a03[_0x14b853(0x10a)](_0x4b133c, _0x20ee9f);
            });
        }
        return new (_0x5d8465 || (_0x5d8465 = Promise))(function (_0x378551, _0x1a233c) {
            const _0xf13d18 = _0x1e23cf, _0x2ec8b2 = {
                    'CzIeY': function (_0x6bd3c2, _0x54ab28) {
                        const _0x2f267f = _0x2e74;
                        return _0x1f807f[_0x2f267f(0x106)](_0x6bd3c2, _0x54ab28);
                    },
                    'zLRip': function (_0x2fca84, _0x46eb3f) {
                        const _0x492eee = _0x2e74;
                        return _0x1f807f[_0x492eee(0x106)](_0x2fca84, _0x46eb3f);
                    },
                    'ZsocQ': function (_0x141e59, _0x5b9775) {
                        const _0x18e761 = _0x2e74;
                        return _0x1f807f[_0x18e761(0xe5)](_0x141e59, _0x5b9775);
                    }
                };
            function _0x4f883a(_0x19b0ae) {
                const _0x39dafc = _0x2e74;
                try {
                    _0x2ec8b2[_0x39dafc(0xde)](_0x351828, _0x2fbbab[_0x39dafc(0x10d)](_0x19b0ae));
                } catch (_0x32d159) {
                    _0x2ec8b2[_0x39dafc(0xd9)](_0x1a233c, _0x32d159);
                }
            }
            function _0x48ab69(_0x2f6c58) {
                const _0x48fff0 = _0x2e74;
                try {
                    _0x1f807f[_0x48fff0(0x106)](_0x351828, _0x2fbbab[_0x1f807f[_0x48fff0(0xf2)]](_0x2f6c58));
                } catch (_0x3bc6af) {
                    _0x1f807f[_0x48fff0(0x106)](_0x1a233c, _0x3bc6af);
                }
            }
            function _0x351828(_0x40e9aa) {
                const _0x43bafe = _0x2e74;
                _0x40e9aa[_0x43bafe(0xf1)] ? _0x2ec8b2[_0x43bafe(0xe0)](_0x378551, _0x40e9aa[_0x43bafe(0x108)]) : _0x2ec8b2[_0x43bafe(0xde)](_0x4025c9, _0x40e9aa[_0x43bafe(0x108)])[_0x43bafe(0x10c)](_0x4f883a, _0x48ab69);
            }
            _0x1f807f[_0xf13d18(0xf5)](_0x351828, (_0x2fbbab = _0x2fbbab[_0xf13d18(0x107)](_0x1d11b0, _0x3ea016 || []))[_0xf13d18(0x10d)]());
        });
    }, __importDefault = this && this[_0x466dd9(0xe2) + _0x466dd9(0x113)] || function (_0x1c3359) {
        const _0xdb8998 = _0x466dd9;
        return _0x1c3359 && _0x1c3359[_0xdb8998(0x117)] ? _0x1c3359 : { 'default': _0x1c3359 };
    };
const _0x38dee1 = {};
function _0x6d25() {
    const _0x59c207 = [
        'next',
        '__awaiter',
        's/logger',
        'sendMessag',
        'ERR_SENDIN',
        'sagesLog',
        'fault',
        'G_WAPP_MSG',
        'r\x20log\x20mens',
        'default',
        '__esModule',
        'messageId',
        '32852YKXZyy',
        'SendWhatsA',
        '6121224CbIBiB',
        '../../help',
        'ls/UserMes',
        'ers/Serial',
        'zLRip',
        '3912RGJgqe',
        'qDIRI',
        'ppMessage\x20',
        'quotedMess',
        'CzIeY',
        'linkPrevie',
        'ZsocQ',
        'create',
        '__importDe',
        '.us',
        '169007wtyZis',
        'BQidH',
        '|\x20Error:\x20',
        'defineProp',
        'number',
        'userId',
        'izeWbotMsg',
        '1196990xzrJKZ',
        'tMessage',
        'update',
        '2093yfaEia',
        'isGroup',
        '4EwusGs',
        'done',
        'sowIa',
        '../../erro',
        'agem\x20',
        'bTyEH',
        '../../mode',
        'logger',
        'rs/AppErro',
        'contact',
        '570465dtJWYM',
        'ageId',
        'erty',
        '2116064SjaYWs',
        'error',
        'ticketId',
        'ers/GetTic',
        'throw',
        'ketWbot',
        'ATwcN',
        'ers/GetWbo',
        'Error\x20cria',
        'TScxH',
        'apply',
        'value',
        '../../util',
        'vJhGW',
        'getTime',
        'then'
    ];
    _0x6d25 = function () {
        return _0x59c207;
    };
    return _0x6d25();
}
_0x38dee1[_0x466dd9(0x108)] = !![], Object[_0x466dd9(0xe7) + _0x466dd9(0xfc)](exports, _0x466dd9(0x117), _0x38dee1);
const AppError_1 = __importDefault(require(_0x466dd9(0xf3) + _0x466dd9(0xf8) + 'r')), GetTicketWbot_1 = __importDefault(require(_0x466dd9(0xd6) + _0x466dd9(0x100) + _0x466dd9(0x102))), GetWbotMessage_1 = __importDefault(require(_0x466dd9(0xd6) + _0x466dd9(0x104) + _0x466dd9(0xec))), SerializeWbotMsgId_1 = __importDefault(require(_0x466dd9(0xd6) + _0x466dd9(0xd8) + _0x466dd9(0xea) + 'Id')), UserMessagesLog_1 = __importDefault(require(_0x466dd9(0xf6) + _0x466dd9(0xd7) + _0x466dd9(0x112))), logger_1 = require(_0x466dd9(0x109) + _0x466dd9(0x10f)), SendWhatsAppMessage = ({
        body: _0x42f1cd,
        ticket: _0x14523c,
        quotedMsg: _0x4e06b0,
        userId: _0x138c9b
    }) => __awaiter(void (0x1a3 * 0xd + 0x1 * -0x1e4c + 0x905 * 0x1), void (-0xc3f + -0x11cb * -0x1 + -0x58c), void (-0x1b29 + -0x2527 + 0x4050), function* () {
        const _0x2d9d4a = _0x466dd9, _0x5d18ad = {};
        _0x5d18ad[_0x2d9d4a(0xdb)] = _0x2d9d4a(0x111) + _0x2d9d4a(0x114);
        const _0x35db0e = _0x5d18ad;
        let _0x4214ad;
        _0x4e06b0 && (yield (0xccc + 0x1c6 * -0x11 + 0x115a, GetWbotMessage_1[_0x2d9d4a(0x116)])(_0x14523c, _0x4e06b0['id']), _0x4214ad = (-0x2086 + -0x1716 + -0xde7 * -0x4, SerializeWbotMsgId_1[_0x2d9d4a(0x116)])(_0x14523c, _0x4e06b0));
        const _0x225b6b = yield (-0x2c + 0x7 * -0xb5 + 0x51f, GetTicketWbot_1[_0x2d9d4a(0x116)])(_0x14523c);
        try {
            const _0x33b69e = {};
            _0x33b69e[_0x2d9d4a(0xdd) + _0x2d9d4a(0xfb)] = _0x4214ad, _0x33b69e[_0x2d9d4a(0xdf) + 'w'] = ![];
            const _0x312915 = yield _0x225b6b[_0x2d9d4a(0x110) + 'e'](_0x14523c[_0x2d9d4a(0xf9)][_0x2d9d4a(0xe8)] + '@' + (_0x14523c[_0x2d9d4a(0xef)] ? 'g' : 'c') + _0x2d9d4a(0xe3), _0x42f1cd, _0x33b69e);
            yield _0x14523c[_0x2d9d4a(0xed)]({
                'lastMessage': _0x42f1cd,
                'lastMessageAt': new Date()[_0x2d9d4a(0x10b)]()
            });
            try {
                if (_0x138c9b) {
                    const _0x1de00a = {};
                    _0x1de00a[_0x2d9d4a(0xd2)] = _0x312915['id']['id'], _0x1de00a[_0x2d9d4a(0xe9)] = _0x138c9b, _0x1de00a[_0x2d9d4a(0xff)] = _0x14523c['id'], yield UserMessagesLog_1[_0x2d9d4a(0x116)][_0x2d9d4a(0xe1)](_0x1de00a);
                }
            } catch (_0x316b5d) {
                logger_1[_0x2d9d4a(0xf7)][_0x2d9d4a(0xfe)](_0x2d9d4a(0x105) + _0x2d9d4a(0x115) + _0x2d9d4a(0xf4) + _0x316b5d);
            }
            return _0x312915;
        } catch (_0x1ce724) {
            logger_1[_0x2d9d4a(0xf7)][_0x2d9d4a(0xfe)](_0x2d9d4a(0xd4) + _0x2d9d4a(0xdc) + _0x2d9d4a(0xe6) + _0x1ce724);
            throw new AppError_1[(_0x2d9d4a(0x116))](_0x35db0e[_0x2d9d4a(0xdb)]);
        }
    });
exports[_0x466dd9(0x116)] = SendWhatsAppMessage;