'use strict';
const _0x54874a = _0x1cbd;
(function (_0x21e93e, _0x246196) {
    const _0x24613f = _0x1cbd, _0x431a15 = _0x21e93e();
    while (!![]) {
        try {
            const _0x543d69 = -parseInt(_0x24613f(0xe1)) / (-0x1a7 + -0x285 * 0x7 + 0xb * 0x1c1) * (-parseInt(_0x24613f(0xc5)) / (-0x86 * 0x44 + -0x5a4 + -0x149f * -0x2)) + parseInt(_0x24613f(0xcb)) / (-0x2 * 0xa26 + 0x12fd + -0x1a * -0xd) + -parseInt(_0x24613f(0xf0)) / (-0x1595 + -0x4fc + 0x1a95 * 0x1) * (-parseInt(_0x24613f(0xdc)) / (-0x22 * 0xfa + -0x4 * 0x520 + -0x329 * -0x11)) + parseInt(_0x24613f(0xb6)) / (-0x1aca + 0x5b * -0x16 + 0x22a2) * (-parseInt(_0x24613f(0xe7)) / (0x1756 + 0x751 * 0x3 + -0x1 * 0x2d42)) + parseInt(_0x24613f(0xf6)) / (-0x9 * -0x33b + 0xe52 + 0x11 * -0x28d) + parseInt(_0x24613f(0xca)) / (-0x2d * -0x45 + -0x950 + -0x2c8) * (-parseInt(_0x24613f(0xed)) / (-0x39 * 0x2c + -0x14fb + 0x1ed1)) + parseInt(_0x24613f(0xbf)) / (-0x2023 + -0x1 * 0x1451 + 0x347f) * (-parseInt(_0x24613f(0xef)) / (0x2407 + -0x226c + -0x18f));
            if (_0x543d69 === _0x246196)
                break;
            else
                _0x431a15['push'](_0x431a15['shift']());
        } catch (_0x94dbb4) {
            _0x431a15['push'](_0x431a15['shift']());
        }
    }
}(_0x279d, 0x1 * 0x4cece + -0x5 * 0x28ca9 + 0x101412));
var __awaiter = this && this[_0x54874a(0xd9)] || function (_0x463f2a, _0x4276ae, _0x291b98, _0x71cf3d) {
        const _0x1ff837 = _0x54874a, _0x182c72 = {
                'WkObC': function (_0x18062e, _0x420a48) {
                    return _0x18062e(_0x420a48);
                },
                'OlGeb': function (_0xee5af3, _0xd2b9ba) {
                    return _0xee5af3 instanceof _0xd2b9ba;
                },
                'pZBWS': function (_0x49bfe6, _0x2c4660) {
                    return _0x49bfe6(_0x2c4660);
                },
                'apTcK': _0x1ff837(0xc6),
                'uSPcO': function (_0x1dcb86, _0x35a2b3) {
                    return _0x1dcb86(_0x35a2b3);
                },
                'NCoDI': function (_0x5ce932, _0x286b60) {
                    return _0x5ce932(_0x286b60);
                },
                'rFpUa': function (_0x5a4589, _0x3a7312) {
                    return _0x5a4589(_0x3a7312);
                },
                'hRZpr': function (_0x9ea4a5, _0x58ce77) {
                    return _0x9ea4a5(_0x58ce77);
                }
            };
        function _0x35b97c(_0x5aafa6) {
            const _0x179f44 = _0x1ff837;
            return _0x182c72[_0x179f44(0xcc)](_0x5aafa6, _0x291b98) ? _0x5aafa6 : new _0x291b98(function (_0x2e7d6d) {
                const _0x2aaad1 = _0x179f44;
                _0x182c72[_0x2aaad1(0xf2)](_0x2e7d6d, _0x5aafa6);
            });
        }
        return new (_0x291b98 || (_0x291b98 = Promise))(function (_0x5a1110, _0x12acc4) {
            const _0x5ab835 = _0x1ff837;
            function _0xfd5b55(_0x145a1f) {
                const _0xced04d = _0x1cbd;
                try {
                    _0x182c72[_0xced04d(0xf2)](_0x4023f7, _0x71cf3d[_0xced04d(0xc7)](_0x145a1f));
                } catch (_0x5b56c7) {
                    _0x182c72[_0xced04d(0xe4)](_0x12acc4, _0x5b56c7);
                }
            }
            function _0x2054c2(_0x1cd0df) {
                const _0x67d614 = _0x1cbd;
                try {
                    _0x182c72[_0x67d614(0xe4)](_0x4023f7, _0x71cf3d[_0x182c72[_0x67d614(0xf3)]](_0x1cd0df));
                } catch (_0x51ceeb) {
                    _0x182c72[_0x67d614(0xd2)](_0x12acc4, _0x51ceeb);
                }
            }
            function _0x4023f7(_0x1aea74) {
                const _0xe44824 = _0x1cbd;
                _0x1aea74[_0xe44824(0xd4)] ? _0x182c72[_0xe44824(0xeb)](_0x5a1110, _0x1aea74[_0xe44824(0xba)]) : _0x182c72[_0xe44824(0xdd)](_0x35b97c, _0x1aea74[_0xe44824(0xba)])[_0xe44824(0xe5)](_0xfd5b55, _0x2054c2);
            }
            _0x182c72[_0x5ab835(0xb9)](_0x4023f7, (_0x71cf3d = _0x71cf3d[_0x5ab835(0xf1)](_0x463f2a, _0x4276ae || []))[_0x5ab835(0xc7)]());
        });
    }, __importDefault = this && this[_0x54874a(0xe2) + _0x54874a(0xf5)] || function (_0x57999c) {
        const _0x1f356d = _0x54874a;
        return _0x57999c && _0x57999c[_0x1f356d(0xbb)] ? _0x57999c : { 'default': _0x57999c };
    };
function _0x1cbd(_0x285667, _0x38cd10) {
    const _0x200278 = _0x279d();
    return _0x1cbd = function (_0x23b5bb, _0x191b0f) {
        _0x23b5bb = _0x23b5bb - (-0x1511 + -0x9ed + 0x1fb3);
        let _0x41ff2e = _0x200278[_0x23b5bb];
        return _0x41ff2e;
    }, _0x1cbd(_0x285667, _0x38cd10);
}
const _0x3e23e2 = {};
_0x3e23e2[_0x54874a(0xba)] = !![], Object[_0x54874a(0xd1) + _0x54874a(0xdf)](exports, _0x54874a(0xbb), _0x3e23e2);
function _0x279d() {
    const _0x6c867f = [
        'done',
        'nTiZt',
        'ahlOA',
        'contact',
        'age',
        '__awaiter',
        'apiConfig',
        '../../../h',
        '10WuBRBX',
        'rFpUa',
        'type',
        'erty',
        '../../../m',
        '25BytEUN',
        '__importDe',
        'reaction',
        'pZBWS',
        'then',
        'mVLGK',
        '2926ExECyg',
        'ketEmit',
        'tils/logge',
        'elpers/soc',
        'NCoDI',
        'ticket',
        '7810DeIVZa',
        'chat:updat',
        '758532uBlHzg',
        '2016628LQOOPs',
        'apply',
        'WkObC',
        'apTcK',
        'odels/Tick',
        'fault',
        '1859760RbrdsE',
        'msgId',
        '3036jMrQDr',
        'update',
        'logger',
        'hRZpr',
        'value',
        '__esModule',
        'reactionFr',
        'error',
        'quotedMsg',
        '77UTcnse',
        'odels/Mess',
        'omMe',
        'tMtOx',
        'payload',
        'findOne',
        '6950VtPuFu',
        'throw',
        'next',
        'TXVru',
        '../../../u',
        '9369wrabrm',
        '2018226WSMoqx',
        'OlGeb',
        'messageId',
        'vMcxH',
        'tenantId',
        'fromMe',
        'defineProp',
        'uSPcO',
        'default'
    ];
    _0x279d = function () {
        return _0x6c867f;
    };
    return _0x279d();
}
const Message_1 = __importDefault(require(_0x54874a(0xe0) + _0x54874a(0xc0) + _0x54874a(0xd8))), Ticket_1 = __importDefault(require(_0x54874a(0xe0) + _0x54874a(0xf4) + 'et')), logger_1 = require(_0x54874a(0xc9) + _0x54874a(0xe9) + 'r'), socketEmit_1 = __importDefault(require(_0x54874a(0xdb) + _0x54874a(0xea) + _0x54874a(0xe8))), HandleMsgReaction = _0x3b70d0 => __awaiter(void (-0x3 * -0x509 + 0x1f5b * -0x1 + 0x1040), void (-0x2638 + -0xbb1 + 0x31e9), void (-0x7d9 + -0x1057 + -0x2b * -0x90), function* () {
        const _0x2729ec = _0x54874a, _0x11d844 = {};
        _0x11d844[_0x2729ec(0xe6)] = _0x2729ec(0xd7), _0x11d844[_0x2729ec(0xd5)] = _0x2729ec(0xec), _0x11d844[_0x2729ec(0xc2)] = _0x2729ec(0xcf), _0x11d844[_0x2729ec(0xce)] = _0x2729ec(0xda), _0x11d844[_0x2729ec(0xd6)] = _0x2729ec(0xbe), _0x11d844[_0x2729ec(0xc8)] = _0x2729ec(0xee) + 'e';
        const _0x3ba67a = _0x11d844;
        yield new Promise(_0x5eea50 => setTimeout(_0x5eea50, 0x1166 * 0x2 + 0xbf1 + 0x8f5 * -0x5));
        try {
            const _0x46ecdc = {};
            _0x46ecdc[_0x2729ec(0xcd)] = _0x3b70d0[_0x2729ec(0xb5)]['id'];
            const _0x475ee0 = yield Message_1[_0x2729ec(0xd3)][_0x2729ec(0xc4)]({
                'where': _0x46ecdc,
                'include': [
                    _0x3ba67a[_0x2729ec(0xe6)],
                    {
                        'model': Ticket_1[_0x2729ec(0xd3)],
                        'as': _0x3ba67a[_0x2729ec(0xd5)],
                        'attributes': [
                            'id',
                            _0x3ba67a[_0x2729ec(0xc2)],
                            _0x3ba67a[_0x2729ec(0xce)]
                        ]
                    },
                    {
                        'model': Message_1[_0x2729ec(0xd3)],
                        'as': _0x3ba67a[_0x2729ec(0xd6)],
                        'include': [_0x3ba67a[_0x2729ec(0xe6)]]
                    }
                ]
            });
            if (_0x475ee0) {
                const {ticket: _0x303caa} = _0x475ee0;
                if (_0x3b70d0['id'][_0x2729ec(0xd0)]) {
                    const _0x15dca8 = {};
                    _0x15dca8[_0x2729ec(0xbc) + _0x2729ec(0xc1)] = _0x3b70d0[_0x2729ec(0xe3)], yield _0x475ee0[_0x2729ec(0xb7)](_0x15dca8);
                    const _0x439e65 = {};
                    _0x439e65[_0x2729ec(0xcf)] = _0x303caa[_0x2729ec(0xcf)], _0x439e65[_0x2729ec(0xde)] = _0x3ba67a[_0x2729ec(0xc8)], _0x439e65[_0x2729ec(0xc3)] = _0x475ee0, (0x1fac + 0xd * 0x65 + -0x24cd, socketEmit_1[_0x2729ec(0xd3)])(_0x439e65);
                }
                if (!_0x3b70d0['id'][_0x2729ec(0xd0)]) {
                    const _0xbeb639 = {};
                    _0xbeb639[_0x2729ec(0xe3)] = _0x3b70d0[_0x2729ec(0xe3)], yield _0x475ee0[_0x2729ec(0xb7)](_0xbeb639);
                    const _0x541619 = {};
                    _0x541619[_0x2729ec(0xcf)] = _0x303caa[_0x2729ec(0xcf)], _0x541619[_0x2729ec(0xde)] = _0x3ba67a[_0x2729ec(0xc8)], _0x541619[_0x2729ec(0xc3)] = _0x475ee0, (0x47b * 0x7 + 0x2561 * 0x1 + -0x44be, socketEmit_1[_0x2729ec(0xd3)])(_0x541619);
                }
            }
        } catch (_0x18ab36) {
            logger_1[_0x2729ec(0xb8)][_0x2729ec(0xbd)](_0x18ab36);
        }
    });
exports[_0x54874a(0xd3)] = HandleMsgReaction;