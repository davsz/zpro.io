'use strict';
const _0x18f0a3 = _0x2fc5;
(function (_0x5e4990, _0x513afe) {
    const _0x35a6fb = _0x2fc5, _0x42ee82 = _0x5e4990();
    while (!![]) {
        try {
            const _0x51c550 = -parseInt(_0x35a6fb(0x1ba)) / (-0xe09 + -0x14b4 * -0x1 + 0x2 * -0x355) + -parseInt(_0x35a6fb(0x1eb)) / (0x1634 + 0x1d89 * 0x1 + -0x33bb) + -parseInt(_0x35a6fb(0x1f8)) / (-0x16eb + -0xba * -0x24 + -0x33a) * (-parseInt(_0x35a6fb(0x203)) / (-0x12e + -0xb9e + 0xcd0)) + parseInt(_0x35a6fb(0x1f7)) / (0x13e8 * 0x1 + 0x49d + -0x1880) * (parseInt(_0x35a6fb(0x1cc)) / (0x1eb5 + -0x4 * 0x955 + 0x6a5)) + parseInt(_0x35a6fb(0x1d7)) / (0x74 * 0x48 + -0x28d * -0x3 + -0x2840) + -parseInt(_0x35a6fb(0x1f3)) / (-0x16b1 + -0x1 * -0x1bd0 + -0x517 * 0x1) + -parseInt(_0x35a6fb(0x1f0)) / (-0x4d + 0x13 * -0x166 + -0x2 * -0xd74);
            if (_0x51c550 === _0x513afe)
                break;
            else
                _0x42ee82['push'](_0x42ee82['shift']());
        } catch (_0x25a267) {
            _0x42ee82['push'](_0x42ee82['shift']());
        }
    }
}(_0x1bce, -0x6 * -0xb61 + -0x11aa08 + -0x1e365f * -0x1));
var __awaiter = this && this[_0x18f0a3(0x1cb)] || function (_0x4abfd5, _0x2da913, _0x3da502, _0x51a79e) {
        const _0x9c8ac8 = _0x18f0a3, _0x31a406 = {
                'tBqlO': function (_0x5044f2, _0x5d8a6e) {
                    return _0x5044f2(_0x5d8a6e);
                },
                'QXnMP': function (_0x1eae05, _0x2c681f) {
                    return _0x1eae05 instanceof _0x2c681f;
                },
                'onRtB': _0x9c8ac8(0x1cd),
                'HnVkX': function (_0x25c92d, _0xcf0398) {
                    return _0x25c92d(_0xcf0398);
                },
                'gUdqU': function (_0x5c287f, _0xab5a8d) {
                    return _0x5c287f(_0xab5a8d);
                }
            };
        function _0x48382b(_0xfc831e) {
            const _0xd15c13 = _0x9c8ac8, _0x357442 = {
                    'GSoWr': function (_0x346aea, _0x3a286a) {
                        const _0x21ce0d = _0x2fc5;
                        return _0x31a406[_0x21ce0d(0x1e6)](_0x346aea, _0x3a286a);
                    }
                };
            return _0x31a406[_0xd15c13(0x1c2)](_0xfc831e, _0x3da502) ? _0xfc831e : new _0x3da502(function (_0x3e2c11) {
                const _0x2b2b7d = _0xd15c13;
                _0x357442[_0x2b2b7d(0x1b7)](_0x3e2c11, _0xfc831e);
            });
        }
        return new (_0x3da502 || (_0x3da502 = Promise))(function (_0x7324bb, _0x413a28) {
            const _0x53f9a0 = _0x9c8ac8;
            function _0x1dc245(_0x42a123) {
                const _0x5a5de5 = _0x2fc5;
                try {
                    _0x31a406[_0x5a5de5(0x1e6)](_0x5612ac, _0x51a79e[_0x5a5de5(0x204)](_0x42a123));
                } catch (_0x39daf5) {
                    _0x31a406[_0x5a5de5(0x1e6)](_0x413a28, _0x39daf5);
                }
            }
            function _0x2af6b7(_0x58a80d) {
                const _0x3c49ab = _0x2fc5;
                try {
                    _0x31a406[_0x3c49ab(0x1e6)](_0x5612ac, _0x51a79e[_0x31a406[_0x3c49ab(0x1e4)]](_0x58a80d));
                } catch (_0x5cf02f) {
                    _0x31a406[_0x3c49ab(0x1d9)](_0x413a28, _0x5cf02f);
                }
            }
            function _0x5612ac(_0x10b69d) {
                const _0x4c6f0f = _0x2fc5;
                _0x10b69d[_0x4c6f0f(0x1e0)] ? _0x31a406[_0x4c6f0f(0x1be)](_0x7324bb, _0x10b69d[_0x4c6f0f(0x1c0)]) : _0x31a406[_0x4c6f0f(0x1be)](_0x48382b, _0x10b69d[_0x4c6f0f(0x1c0)])[_0x4c6f0f(0x1fb)](_0x1dc245, _0x2af6b7);
            }
            _0x31a406[_0x53f9a0(0x1d9)](_0x5612ac, (_0x51a79e = _0x51a79e[_0x53f9a0(0x1fc)](_0x4abfd5, _0x2da913 || []))[_0x53f9a0(0x204)]());
        });
    }, __importDefault = this && this[_0x18f0a3(0x1fa) + _0x18f0a3(0x1dc)] || function (_0x12e7c1) {
        const _0x11d820 = _0x18f0a3;
        return _0x12e7c1 && _0x12e7c1[_0x11d820(0x1cf)] ? _0x12e7c1 : { 'default': _0x12e7c1 };
    };
const _0x23f7ab = {};
_0x23f7ab[_0x18f0a3(0x1c0)] = !![], Object[_0x18f0a3(0x1f2) + _0x18f0a3(0x1db)](exports, _0x18f0a3(0x1cf), _0x23f7ab);
const Message_1 = __importDefault(require(_0x18f0a3(0x1b6) + _0x18f0a3(0x1ce) + _0x18f0a3(0x201))), Ticket_1 = __importDefault(require(_0x18f0a3(0x1b6) + _0x18f0a3(0x1f4) + 'et')), logger_1 = require(_0x18f0a3(0x206) + _0x18f0a3(0x1f1) + 'r'), CampaignContacts_1 = __importDefault(require(_0x18f0a3(0x1b6) + _0x18f0a3(0x1e3) + _0x18f0a3(0x1ed) + 'ts')), ApiMessage_1 = __importDefault(require(_0x18f0a3(0x1b6) + _0x18f0a3(0x1d6) + _0x18f0a3(0x1da))), socketEmit_1 = __importDefault(require(_0x18f0a3(0x1ca) + _0x18f0a3(0x1bf) + _0x18f0a3(0x1ee))), Queue_1 = __importDefault(require(_0x18f0a3(0x1bb) + _0x18f0a3(0x1f9))), HandleMsgAck = (_0x3f8322, _0x3212ed) => __awaiter(void (-0x211a + -0xb1f + 0x1 * 0x2c39), void (-0xad + 0x5 * 0x6fb + -0x223a), void (-0x1df7 * -0x1 + 0x1a5b + 0x3852 * -0x1), function* () {
        const _0x1ba7fd = _0x18f0a3, _0x536a04 = {};
        _0x536a04[_0x1ba7fd(0x1e7)] = function (_0x145359, _0x25bb68) {
            return _0x145359 === _0x25bb68;
        }, _0x536a04[_0x1ba7fd(0x202)] = _0x1ba7fd(0x1f6), _0x536a04[_0x1ba7fd(0x1e8)] = _0x1ba7fd(0x1d0), _0x536a04[_0x1ba7fd(0x1e5)] = _0x1ba7fd(0x1fd), _0x536a04[_0x1ba7fd(0x205)] = _0x1ba7fd(0x1dd), _0x536a04[_0x1ba7fd(0x1e2)] = _0x1ba7fd(0x1c3), _0x536a04[_0x1ba7fd(0x1e9)] = _0x1ba7fd(0x1bd), _0x536a04[_0x1ba7fd(0x1c7)] = function (_0x4d5a8f, _0x20c768) {
            return _0x4d5a8f === _0x20c768;
        }, _0x536a04[_0x1ba7fd(0x1b9)] = function (_0xa824f1, _0x50e265) {
            return _0xa824f1 === _0x50e265;
        }, _0x536a04[_0x1ba7fd(0x1c4)] = function (_0xc1ffa2, _0xfc58ea) {
            return _0xc1ffa2 === _0xfc58ea;
        }, _0x536a04[_0x1ba7fd(0x200)] = function (_0x5d8cc5, _0x18559c) {
            return _0x5d8cc5 === _0x18559c;
        }, _0x536a04[_0x1ba7fd(0x1ef)] = function (_0x58292c, _0x3767c0) {
            return _0x58292c === _0x3767c0;
        }, _0x536a04[_0x1ba7fd(0x1d4)] = _0x1ba7fd(0x1c1) + _0x1ba7fd(0x1b8), _0x536a04[_0x1ba7fd(0x1d3)] = _0x1ba7fd(0x1d5) + 'I';
        const _0x240431 = _0x536a04;
        yield new Promise(_0xecba42 => setTimeout(_0xecba42, 0xbf9 * 0x2 + -0x22f8 + 0xcfa));
        if (_0x240431[_0x1ba7fd(0x1e7)](_0x3212ed, null))
            return;
        try {
            const _0x4c978c = {};
            _0x4c978c[_0x1ba7fd(0x1d8)] = _0x3f8322['id']['id'];
            const _0xd63de2 = yield Message_1[_0x1ba7fd(0x1ea)][_0x1ba7fd(0x1fe)]({
                'where': _0x4c978c,
                'include': [
                    _0x240431[_0x1ba7fd(0x202)],
                    {
                        'model': Ticket_1[_0x1ba7fd(0x1ea)],
                        'as': _0x240431[_0x1ba7fd(0x1e8)],
                        'attributes': [
                            'id',
                            _0x240431[_0x1ba7fd(0x1e5)],
                            _0x240431[_0x1ba7fd(0x205)]
                        ]
                    },
                    {
                        'model': Message_1[_0x1ba7fd(0x1ea)],
                        'as': _0x240431[_0x1ba7fd(0x1e2)],
                        'include': [_0x240431[_0x1ba7fd(0x202)]]
                    }
                ]
            });
            if (_0xd63de2) {
                const _0x333d4b = {};
                _0x333d4b[_0x1ba7fd(0x1e1)] = _0x3212ed, yield _0xd63de2[_0x1ba7fd(0x1f5)](_0x333d4b);
                const {ticket: _0x26e3d3} = _0xd63de2, _0x16bd64 = {};
                _0x16bd64[_0x1ba7fd(0x1fd)] = _0x26e3d3[_0x1ba7fd(0x1fd)], _0x16bd64[_0x1ba7fd(0x1df)] = _0x240431[_0x1ba7fd(0x1e9)], _0x16bd64[_0x1ba7fd(0x1d2)] = _0xd63de2, (0x1 * 0x1ada + 0x234e + -0x6 * 0xa5c, socketEmit_1[_0x1ba7fd(0x1ea)])(_0x16bd64);
                const _0x3f61b1 = _0x26e3d3[_0x1ba7fd(0x1dd)] || {};
                if ((_0x240431[_0x1ba7fd(0x1e7)](_0x3f61b1, null) || _0x240431[_0x1ba7fd(0x1c7)](_0x3f61b1, void (-0x2 * 0xe26 + -0x343 * 0x5 + 0x2c9b)) ? void (-0x43 * 0x5d + -0x9c + -0x1 * -0x18f3) : _0x3f61b1[_0x1ba7fd(0x1c8) + 'y']) && (_0x240431[_0x1ba7fd(0x1b9)](_0x3f61b1, null) || _0x240431[_0x1ba7fd(0x1e7)](_0x3f61b1, void (0x1 * 0x115f + -0x3ac * -0x5 + -0x23bb * 0x1)) ? void (-0x8a * -0x3f + 0x1a13 + -0x3c09) : _0x3f61b1[_0x1ba7fd(0x1d1) + _0x1ba7fd(0x1ec)])) {
                    const _0x20cedc = {
                            'ack': _0x3212ed,
                            'messageId': _0x3f8322['id']['id'],
                            'ticketId': _0x26e3d3['id'],
                            'externalKey': _0x240431[_0x1ba7fd(0x1b9)](_0x3f61b1, null) || _0x240431[_0x1ba7fd(0x1c4)](_0x3f61b1, void (-0x88e + 0x170f + -0xe81)) ? void (-0x3 + -0x7c * -0x26 + -0x11 * 0x115) : _0x3f61b1[_0x1ba7fd(0x1c8) + 'y'],
                            'authToken': _0x240431[_0x1ba7fd(0x200)](_0x3f61b1, null) || _0x240431[_0x1ba7fd(0x1ef)](_0x3f61b1, void (-0x2 * 0x12cb + -0x22c6 + -0x1 * -0x485c)) ? void (0x2 * 0x10af + -0x1fe0 + -0x17e) : _0x3f61b1[_0x1ba7fd(0x1c5)],
                            'type': _0x240431[_0x1ba7fd(0x1d4)]
                        }, _0x128768 = {};
                    _0x128768[_0x1ba7fd(0x1de)] = _0x3f61b1[_0x1ba7fd(0x1d1) + _0x1ba7fd(0x1ec)], _0x128768[_0x1ba7fd(0x1df)] = _0x20cedc[_0x1ba7fd(0x1df)], _0x128768[_0x1ba7fd(0x1d2)] = _0x20cedc, Queue_1[_0x1ba7fd(0x1ea)][_0x1ba7fd(0x1c6)](_0x240431[_0x1ba7fd(0x1d3)], _0x128768);
                }
            }
            const _0x4ab660 = {};
            _0x4ab660[_0x1ba7fd(0x1d8)] = _0x3f8322['id']['id'];
            const _0xf55e32 = {};
            _0xf55e32[_0x1ba7fd(0x1bc)] = _0x4ab660;
            const _0x3b4d6e = yield ApiMessage_1[_0x1ba7fd(0x1ea)][_0x1ba7fd(0x1fe)](_0xf55e32);
            if (_0x3b4d6e) {
                const _0x2e55dd = {};
                _0x2e55dd[_0x1ba7fd(0x1e1)] = _0x3212ed, yield _0x3b4d6e[_0x1ba7fd(0x1f5)](_0x2e55dd);
            }
            const _0xc8220e = {};
            _0xc8220e[_0x1ba7fd(0x1d8)] = _0x3f8322['id']['id'];
            const _0x31ce3b = {};
            _0x31ce3b[_0x1ba7fd(0x1bc)] = _0xc8220e;
            const _0x21b427 = yield CampaignContacts_1[_0x1ba7fd(0x1ea)][_0x1ba7fd(0x1fe)](_0x31ce3b);
            if (_0x21b427) {
                const _0x4cd8c1 = {};
                _0x4cd8c1[_0x1ba7fd(0x1e1)] = _0x3212ed, yield _0x21b427[_0x1ba7fd(0x1f5)](_0x4cd8c1);
            }
        } catch (_0x2f2e4d) {
            logger_1[_0x1ba7fd(0x1ff)][_0x1ba7fd(0x1c9)](_0x2f2e4d);
        }
    });
function _0x2fc5(_0xaac81a, _0x515c84) {
    const _0x11ac48 = _0x1bce();
    return _0x2fc5 = function (_0x27abc3, _0x2667ce) {
        _0x27abc3 = _0x27abc3 - (0x35b + -0x848 + 0x1 * 0x6a3);
        let _0xa1f3b8 = _0x11ac48[_0x27abc3];
        return _0xa1f3b8;
    }, _0x2fc5(_0xaac81a, _0x515c84);
}
exports[_0x18f0a3(0x1ea)] = HandleMsgAck;
function _0x1bce() {
    const _0x3b6f0a = [
        '6096984CXZEiN',
        'throw',
        'odels/Mess',
        '__esModule',
        'ticket',
        'urlMessage',
        'payload',
        'WHckF',
        'CbCSk',
        'WebHooksAP',
        'odels/ApiM',
        '11284140iZdKHp',
        'messageId',
        'HnVkX',
        'essage',
        'erty',
        'fault',
        'apiConfig',
        'url',
        'type',
        'done',
        'ack',
        'HePqQ',
        'odels/Camp',
        'onRtB',
        'xJceH',
        'tBqlO',
        'MkETX',
        'OyaDg',
        'tKoDN',
        'default',
        '1111836gaRYFp',
        'Status',
        'aignContac',
        'ketEmit',
        'ttYZy',
        '2973834pJDIEC',
        'tils/logge',
        'defineProp',
        '3642080VccELu',
        'odels/Tick',
        'update',
        'contact',
        '5ybisud',
        '774PaQitN',
        'ibs/Queue',
        '__importDe',
        'then',
        'apply',
        'tenantId',
        'findOne',
        'logger',
        'jMjOQ',
        'age',
        'TAnPf',
        '8992CCTaJS',
        'next',
        'dtvVV',
        '../../../u',
        '../../../m',
        'GSoWr',
        'eStatus',
        'cSrNU',
        '1026727yOkEdS',
        '../../../l',
        'where',
        'chat:ack',
        'gUdqU',
        'elpers/soc',
        'value',
        'hookMessag',
        'QXnMP',
        'quotedMsg',
        'NRAiR',
        'authToken',
        'add',
        'CEVlm',
        'externalKe',
        'error',
        '../../../h',
        '__awaiter'
    ];
    _0x1bce = function () {
        return _0x3b6f0a;
    };
    return _0x1bce();
}