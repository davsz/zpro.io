'use strict';
const _0xeb8bf2 = _0x8a2a;
(function (_0x119d0c, _0x194283) {
    const _0x892930 = _0x8a2a, _0x5376a0 = _0x119d0c();
    while (!![]) {
        try {
            const _0x4f6b43 = parseInt(_0x892930(0x7f)) / (-0x3 * -0xc19 + -0x1 * 0x2159 + 0xfb * -0x3) * (-parseInt(_0x892930(0x81)) / (0xc * -0x67 + -0x8 * -0x15a + -0x5fa)) + -parseInt(_0x892930(0xb8)) / (-0x1bc3 + -0x2d7 * -0x5 + 0xd93) * (-parseInt(_0x892930(0xb9)) / (0x6bc * 0x1 + 0x2015 + -0x26cd)) + -parseInt(_0x892930(0x71)) / (0x8ee + 0x1 * -0x221b + 0x1932) + -parseInt(_0x892930(0xac)) / (0x149a + -0x54 * 0x53 + 0x6a8) + parseInt(_0x892930(0x8b)) / (-0x1662 + 0x1c19 + -0x5b0) + parseInt(_0x892930(0xa7)) / (-0x1 * -0x99d + 0x53a + -0x1 * 0xecf) * (-parseInt(_0x892930(0x88)) / (-0x1dbd + -0x3 * -0xcd + 0x1b5f)) + -parseInt(_0x892930(0xba)) / (-0x935 * 0x1 + -0xe20 + 0x175f) * (-parseInt(_0x892930(0x98)) / (0xf6a + -0xbc8 + -0x397));
            if (_0x4f6b43 === _0x194283)
                break;
            else
                _0x5376a0['push'](_0x5376a0['shift']());
        } catch (_0x254fd0) {
            _0x5376a0['push'](_0x5376a0['shift']());
        }
    }
}(_0x3a9d, 0x15c6c + -0x25d2 + 0x5fe1));
function _0x8a2a(_0x57cbc4, _0x1dc418) {
    const _0x3a638d = _0x3a9d();
    return _0x8a2a = function (_0xde3740, _0x209172) {
        _0xde3740 = _0xde3740 - (-0xb7 * 0x1 + 0x1b1 * 0xa + -0x9 * 0x1c1);
        let _0x31ebd2 = _0x3a638d[_0xde3740];
        return _0x31ebd2;
    }, _0x8a2a(_0x57cbc4, _0x1dc418);
}
var __awaiter = this && this[_0xeb8bf2(0x7d)] || function (_0x41210c, _0x550b07, _0x4fecbb, _0xf8abf4) {
        const _0x2deb28 = _0xeb8bf2, _0x5ed29a = {
                'CtIIo': function (_0x4fabf2, _0x3c5596) {
                    return _0x4fabf2(_0x3c5596);
                },
                'EVlzi': function (_0x578800, _0x308810) {
                    return _0x578800 instanceof _0x308810;
                },
                'hABbT': function (_0x343c29, _0x38b4bb) {
                    return _0x343c29(_0x38b4bb);
                },
                'MirCa': function (_0x179233, _0x3c7f67) {
                    return _0x179233(_0x3c7f67);
                },
                'ymZQg': _0x2deb28(0xb6)
            };
        function _0x30d8f8(_0x490b6c) {
            const _0x114c96 = _0x2deb28, _0xb1d390 = {
                    'sFale': function (_0x2f4527, _0x37804a) {
                        const _0x58a419 = _0x8a2a;
                        return _0x5ed29a[_0x58a419(0x8d)](_0x2f4527, _0x37804a);
                    }
                };
            return _0x5ed29a[_0x114c96(0xbc)](_0x490b6c, _0x4fecbb) ? _0x490b6c : new _0x4fecbb(function (_0x422783) {
                const _0x4faff9 = _0x114c96;
                _0xb1d390[_0x4faff9(0xa6)](_0x422783, _0x490b6c);
            });
        }
        return new (_0x4fecbb || (_0x4fecbb = Promise))(function (_0x3dc5ec, _0x285044) {
            const _0x487edf = _0x2deb28, _0x289154 = {
                    'ZxjlY': function (_0x5b6978, _0x4aadb4) {
                        const _0x50515c = _0x8a2a;
                        return _0x5ed29a[_0x50515c(0x8d)](_0x5b6978, _0x4aadb4);
                    },
                    'bZfFX': _0x5ed29a[_0x487edf(0xaa)]
                };
            function _0x23bd97(_0x3c8576) {
                const _0x470fac = _0x487edf;
                try {
                    _0x5ed29a[_0x470fac(0xa5)](_0x3df1bf, _0xf8abf4[_0x470fac(0x96)](_0x3c8576));
                } catch (_0x5ac8ca) {
                    _0x5ed29a[_0x470fac(0x8d)](_0x285044, _0x5ac8ca);
                }
            }
            function _0xaa2748(_0x293050) {
                const _0x5abac4 = _0x487edf;
                try {
                    _0x289154[_0x5abac4(0x83)](_0x3df1bf, _0xf8abf4[_0x289154[_0x5abac4(0x94)]](_0x293050));
                } catch (_0x1fc5a0) {
                    _0x289154[_0x5abac4(0x83)](_0x285044, _0x1fc5a0);
                }
            }
            function _0x3df1bf(_0x157a5c) {
                const _0x888f61 = _0x487edf;
                _0x157a5c[_0x888f61(0x8c)] ? _0x5ed29a[_0x888f61(0x70)](_0x3dc5ec, _0x157a5c[_0x888f61(0x78)]) : _0x5ed29a[_0x888f61(0xa5)](_0x30d8f8, _0x157a5c[_0x888f61(0x78)])[_0x888f61(0x6a)](_0x23bd97, _0xaa2748);
            }
            _0x5ed29a[_0x487edf(0xa5)](_0x3df1bf, (_0xf8abf4 = _0xf8abf4[_0x487edf(0x93)](_0x41210c, _0x550b07 || []))[_0x487edf(0x96)]());
        });
    }, __importDefault = this && this[_0xeb8bf2(0x85) + _0xeb8bf2(0xb0)] || function (_0x455562) {
        const _0x4da5bd = _0xeb8bf2;
        return _0x455562 && _0x455562[_0x4da5bd(0xb1)] ? _0x455562 : { 'default': _0x455562 };
    };
const _0x2eb368 = {};
_0x2eb368[_0xeb8bf2(0x78)] = !![], Object[_0xeb8bf2(0x72) + _0xeb8bf2(0x6b)](exports, _0xeb8bf2(0xb1), _0x2eb368);
const sequelize_1 = require(_0xeb8bf2(0xb3)), Message_1 = __importDefault(require(_0xeb8bf2(0x89) + _0xeb8bf2(0x74))), Ticket_1 = __importDefault(require(_0xeb8bf2(0x89) + _0xeb8bf2(0x92))), logger_1 = require(_0xeb8bf2(0x6e) + _0xeb8bf2(0xab)), Contact_1 = __importDefault(require(_0xeb8bf2(0x89) + _0xeb8bf2(0x80))), SendMessagesSchenduleWbot = () => __awaiter(void (0x16b3 * -0x1 + 0x1ec4 * -0x1 + -0x1 * -0x3577), void (-0x11 * 0x211 + 0x1b61 + 0x7c0), void (0x24d0 + 0x1e3d + 0x5 * -0xd69), function* () {
        const _0x29c9c2 = _0xeb8bf2, _0x308d6d = {};
        _0x308d6d[_0x29c9c2(0x90)] = _0x29c9c2(0xa9), _0x308d6d[_0x29c9c2(0x6c)] = _0x29c9c2(0x7b), _0x308d6d[_0x29c9c2(0xa4)] = _0x29c9c2(0x87), _0x308d6d[_0x29c9c2(0x9d)] = _0x29c9c2(0x9c), _0x308d6d[_0x29c9c2(0x86)] = _0x29c9c2(0xae), _0x308d6d[_0x29c9c2(0xb7)] = _0x29c9c2(0x91), _0x308d6d[_0x29c9c2(0x95)] = _0x29c9c2(0x8e), _0x308d6d[_0x29c9c2(0xa3)] = _0x29c9c2(0x73), _0x308d6d[_0x29c9c2(0x82)] = _0x29c9c2(0x79);
        const _0x3cb6d0 = _0x308d6d, _0xccaaf3 = { [sequelize_1['Op']['is']]: ![] }, _0xd159b9 = { [sequelize_1['Op']['is']]: null }, _0x2e965b = {
                'fromMe': !![],
                'isDeleted': _0xccaaf3,
                'messageId': _0xd159b9,
                'status': _0x3cb6d0[_0x29c9c2(0x90)],
                'scheduleDate': { [sequelize_1['Op'][_0x29c9c2(0x7a)]]: new Date() }
            }, _0x10e27d = {};
        _0x10e27d[_0x29c9c2(0xa8)] = Contact_1[_0x29c9c2(0x8f)], _0x10e27d['as'] = _0x3cb6d0[_0x29c9c2(0x6c)], _0x10e27d[_0x29c9c2(0x9f)] = {}, _0x10e27d[_0x29c9c2(0x9f)][_0x29c9c2(0xa1)] = {
            [sequelize_1['Op'][_0x29c9c2(0xaf)]]: [
                '',
                _0x3cb6d0[_0x29c9c2(0xa4)]
            ]
        };
        const _0x4b1d04 = {};
        _0x4b1d04[_0x29c9c2(0xa8)] = Ticket_1[_0x29c9c2(0x8f)], _0x4b1d04['as'] = _0x3cb6d0[_0x29c9c2(0x9d)], _0x4b1d04[_0x29c9c2(0x9f)] = {}, _0x4b1d04[_0x29c9c2(0x7e)] = [_0x3cb6d0[_0x29c9c2(0x6c)]], _0x4b1d04[_0x29c9c2(0x9f)][_0x29c9c2(0x7c)] = _0x3cb6d0[_0x29c9c2(0x86)];
        const _0x564ccb = yield Message_1[_0x29c9c2(0x8f)][_0x29c9c2(0x76)]({
            'where': _0x2e965b,
            'include': [
                _0x10e27d,
                _0x4b1d04,
                {
                    'model': Message_1[_0x29c9c2(0x8f)],
                    'as': _0x3cb6d0[_0x29c9c2(0xb7)],
                    'include': [_0x3cb6d0[_0x29c9c2(0x6c)]]
                }
            ],
            'order': [[
                    _0x3cb6d0[_0x29c9c2(0x95)],
                    _0x3cb6d0[_0x29c9c2(0xa3)]
                ]]
        });
        for (const _0x175d24 of _0x564ccb) {
            if (_0x175d24[_0x29c9c2(0xbb)])
                continue;
            logger_1[_0x29c9c2(0xad)][_0x29c9c2(0xb4)](_0x29c9c2(0x99) + _0x29c9c2(0x9b) + _0x29c9c2(0x75) + _0x175d24['id'] + (_0x29c9c2(0xa2) + '\x20') + _0x175d24[_0x29c9c2(0x77)] + '\x20'), global[_0x29c9c2(0x6d) + _0x29c9c2(0x84)][_0x29c9c2(0x6f) + _0x29c9c2(0xa0)](_0x29c9c2(0x9e) + _0x175d24[_0x29c9c2(0x77)], JSON[_0x29c9c2(0x9a)](Object[_0x29c9c2(0xb2)](Object[_0x29c9c2(0xb2)]({}, _0x175d24[_0x29c9c2(0xb5)]()), { 'contact': _0x175d24[_0x29c9c2(0x9c)][_0x29c9c2(0x7b)][_0x29c9c2(0xb5)]() })));
            const _0x25ecc5 = {};
            _0x25ecc5[_0x29c9c2(0x8a)] = _0x3cb6d0[_0x29c9c2(0x82)], _0x175d24[_0x29c9c2(0x97)](_0x25ecc5);
        }
    });
exports[_0xeb8bf2(0x8f)] = SendMessagesSchenduleWbot;
function _0x3a9d() {
    const _0x974a12 = [
        'eue:\x20',
        'findAll',
        'tenantId',
        'value',
        'queue',
        'lte',
        'contact',
        'channel',
        '__awaiter',
        'include',
        '401aHXhNd',
        'ls/Contact',
        '866CIOBNl',
        'YQOiK',
        'ZxjlY',
        'sapp',
        '__importDe',
        'YzWYp',
        'null',
        '468FvypJu',
        '../../mode',
        'status',
        '1167250SpYQed',
        'done',
        'CtIIo',
        'createdAt',
        'default',
        'bkpRM',
        'quotedMsg',
        'ls/Ticket',
        'apply',
        'bZfFX',
        'qkGPR',
        'next',
        'update',
        '4193519cxRMgA',
        'Message\x20Sc',
        'stringify',
        'hendule\x20Qu',
        'ticket',
        'jgIUO',
        'whatsapp::',
        'where',
        'ueue',
        'number',
        '\x20|\x20Tenant:',
        'mnazi',
        'XFuHc',
        'hABbT',
        'sFale',
        '6848SPdguK',
        'model',
        'pending',
        'ymZQg',
        's/logger',
        '686076unvnwk',
        'logger',
        'whatsapp',
        'notIn',
        'fault',
        '__esModule',
        'assign',
        'sequelize',
        'info',
        'toJSON',
        'throw',
        'LPzUm',
        '2409PqTkvk',
        '44gXQqUJ',
        '10OQBgSv',
        'isDeleted',
        'EVlzi',
        'then',
        'erty',
        'eWMjK',
        'rabbitWhat',
        '../../util',
        'publishInQ',
        'MirCa',
        '601310OEvthZ',
        'defineProp',
        'ASC',
        'ls/Message'
    ];
    _0x3a9d = function () {
        return _0x974a12;
    };
    return _0x3a9d();
}