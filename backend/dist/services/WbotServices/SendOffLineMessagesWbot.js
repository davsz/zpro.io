'use strict';
const _0x40782a = _0x1e27;
(function (_0x562469, _0x2ec282) {
    const _0x5252c0 = _0x1e27, _0x345d0a = _0x562469();
    while (!![]) {
        try {
            const _0x562053 = -parseInt(_0x5252c0(0x151)) / (0x1 * 0x7e7 + -0x7c8 + 0x3 * -0xa) + -parseInt(_0x5252c0(0x123)) / (0x14bc + -0x19c4 + 0x50a) * (-parseInt(_0x5252c0(0x12c)) / (0x1fce + -0xa10 + -0x15bb)) + parseInt(_0x5252c0(0x104)) / (-0xffb + -0xbb2 + -0x1a1 * -0x11) * (-parseInt(_0x5252c0(0x14f)) / (0x1777 * -0x1 + -0x2 * 0x11d9 + 0x3b2e)) + parseInt(_0x5252c0(0x10a)) / (-0x256 + 0x8fa * -0x2 + 0x1450) + -parseInt(_0x5252c0(0x132)) / (0x14bb + -0x11cb * 0x1 + -0x95 * 0x5) + parseInt(_0x5252c0(0x127)) / (0x1 * 0x62f + -0x5e * -0x3d + 0x1 * -0x1c8d) + parseInt(_0x5252c0(0x112)) / (0x25a2 * -0x1 + -0x2bc + 0x2867);
            if (_0x562053 === _0x2ec282)
                break;
            else
                _0x345d0a['push'](_0x345d0a['shift']());
        } catch (_0x51a4d1) {
            _0x345d0a['push'](_0x345d0a['shift']());
        }
    }
}(_0x2c44, -0x2bd * -0xef + -0x4e104 + 0x4d160));
var __awaiter = this && this[_0x40782a(0x133)] || function (_0x421700, _0x380297, _0x5a4ca6, _0x272160) {
        const _0x68cb8f = _0x40782a, _0x1860be = {
                'vfQqR': function (_0x28b694, _0x5eaaee) {
                    return _0x28b694(_0x5eaaee);
                },
                'RspSw': function (_0x4bac0a, _0x5b0ab1) {
                    return _0x4bac0a instanceof _0x5b0ab1;
                },
                'RSEgC': function (_0xb610c6, _0x4741ba) {
                    return _0xb610c6(_0x4741ba);
                },
                'NRice': _0x68cb8f(0x15f),
                'zkVRg': function (_0x882a28, _0xed5675) {
                    return _0x882a28(_0xed5675);
                },
                'syPMz': function (_0x30638c, _0x591381) {
                    return _0x30638c(_0x591381);
                }
            };
        function _0x48ab96(_0x21783f) {
            const _0x35f6b8 = _0x68cb8f;
            return _0x1860be[_0x35f6b8(0x128)](_0x21783f, _0x5a4ca6) ? _0x21783f : new _0x5a4ca6(function (_0x37fb98) {
                const _0x2d478c = _0x35f6b8;
                _0x1860be[_0x2d478c(0x13a)](_0x37fb98, _0x21783f);
            });
        }
        return new (_0x5a4ca6 || (_0x5a4ca6 = Promise))(function (_0x35d2ff, _0x40db2c) {
            const _0x56b063 = _0x68cb8f, _0x2411ee = {
                    'RYPmz': function (_0x5067ce, _0x49edf1) {
                        const _0x158e38 = _0x1e27;
                        return _0x1860be[_0x158e38(0x13a)](_0x5067ce, _0x49edf1);
                    },
                    'gJPac': function (_0x1d6c78, _0x5ee779) {
                        const _0x341d68 = _0x1e27;
                        return _0x1860be[_0x341d68(0x11c)](_0x1d6c78, _0x5ee779);
                    },
                    'Guhxr': _0x1860be[_0x56b063(0x12e)],
                    'JHeFs': function (_0x4c682d, _0x14ef8c) {
                        const _0x4ffc75 = _0x56b063;
                        return _0x1860be[_0x4ffc75(0x144)](_0x4c682d, _0x14ef8c);
                    },
                    'kMocb': function (_0x3f1773, _0x34c6e4) {
                        const _0x50db8d = _0x56b063;
                        return _0x1860be[_0x50db8d(0x165)](_0x3f1773, _0x34c6e4);
                    }
                };
            function _0x5abc9f(_0x379412) {
                const _0x5c1238 = _0x56b063;
                try {
                    _0x2411ee[_0x5c1238(0x136)](_0x4684b6, _0x272160[_0x5c1238(0x108)](_0x379412));
                } catch (_0x1d5dbb) {
                    _0x2411ee[_0x5c1238(0x158)](_0x40db2c, _0x1d5dbb);
                }
            }
            function _0x438d7f(_0x3119e3) {
                const _0x1966cb = _0x56b063;
                try {
                    _0x2411ee[_0x1966cb(0x158)](_0x4684b6, _0x272160[_0x2411ee[_0x1966cb(0x149)]](_0x3119e3));
                } catch (_0x3b6aee) {
                    _0x2411ee[_0x1966cb(0x14c)](_0x40db2c, _0x3b6aee);
                }
            }
            function _0x4684b6(_0x540583) {
                const _0xb52653 = _0x56b063;
                _0x540583[_0xb52653(0x169)] ? _0x2411ee[_0xb52653(0x125)](_0x35d2ff, _0x540583[_0xb52653(0x119)]) : _0x2411ee[_0xb52653(0x14c)](_0x48ab96, _0x540583[_0xb52653(0x119)])[_0xb52653(0x13e)](_0x5abc9f, _0x438d7f);
            }
            _0x1860be[_0x56b063(0x11c)](_0x4684b6, (_0x272160 = _0x272160[_0x56b063(0x13d)](_0x421700, _0x380297 || []))[_0x56b063(0x108)]());
        });
    }, __importDefault = this && this[_0x40782a(0x14e) + _0x40782a(0x121)] || function (_0x30e032) {
        const _0xf29869 = _0x40782a;
        return _0x30e032 && _0x30e032[_0xf29869(0x11a)] ? _0x30e032 : { 'default': _0x30e032 };
    };
function _0x2c44() {
    const _0x18756f = [
        'iykCC',
        'JHeFs',
        'ticket',
        '__importDe',
        '177395YigpXT',
        'order',
        '2589RIXfhU',
        'ASC',
        'whatsapp-w',
        'info',
        'findAll',
        '../../mode',
        'ge\x20OffLine',
        'gJPac',
        'r\x20log\x20mens',
        'create',
        '../../libs',
        'emit',
        'updatedAt',
        'path',
        'throw',
        'destroy',
        'ar\x20message',
        'ls/UserMes',
        'eb.js',
        'PATH_OFFLI',
        'syPMz',
        '.us',
        'defineProp',
        'error',
        'done',
        'Error\x20cria',
        'toString',
        'join',
        'Mnkfz',
        '36RnxeMD',
        'fromFilePa',
        'ticketId',
        'POxaB',
        'next',
        'fANgW',
        '85686BTidpf',
        'ls/Message',
        'Send\x20Messa',
        'where',
        'map',
        'mediaType',
        'userId',
        'FGQSh',
        '2823966bxLcvg',
        'include',
        '../../util',
        'ls/Ticket',
        'getIO',
        'tenantId',
        './SendWhat',
        'value',
        '__esModule',
        'sendMessag',
        'RSEgC',
        'all',
        's/logger',
        'env',
        'logger',
        'fault',
        'quotedMsg',
        '470388LZtugr',
        'erty',
        'kMocb',
        'isGroup',
        '721824XBRpeM',
        'RspSw',
        'sVoice',
        'delete',
        '/socket',
        '3vkIRdr',
        'Xpqur',
        'NRice',
        'Error\x20envi',
        'contact',
        'NE_MEDIA',
        '1176294HNbfma',
        '__awaiter',
        '-appMessag',
        'sendAudioA',
        'RYPmz',
        'MbwAM',
        'uUKZn',
        'mediaName',
        'vfQqR',
        'sagesLog',
        'default',
        'apply',
        'then',
        'messageId',
        'OffLine',
        'body',
        'chat',
        'GUaHs',
        'zkVRg',
        'OffLine:\x20',
        'agem\x20',
        'MessageMed',
        'public',
        'Guhxr',
        'sAppMessag'
    ];
    _0x2c44 = function () {
        return _0x18756f;
    };
    return _0x2c44();
}
const _0x119c2a = {};
_0x119c2a[_0x40782a(0x119)] = !![], Object[_0x40782a(0x167) + _0x40782a(0x124)](exports, _0x40782a(0x11a), _0x119c2a);
function _0x1e27(_0x3169e4, _0x660262) {
    const _0xb0f1bc = _0x2c44();
    return _0x1e27 = function (_0x38ccaa, _0xfde951) {
        _0x38ccaa = _0x38ccaa - (-0x26c6 + 0x1556 + 0x1274);
        let _0x318d6f = _0xb0f1bc[_0x38ccaa];
        return _0x318d6f;
    }, _0x1e27(_0x3169e4, _0x660262);
}
const path_1 = require(_0x40782a(0x15e)), whatsapp_web_js_1 = require(_0x40782a(0x153) + _0x40782a(0x163)), Message_1 = __importDefault(require(_0x40782a(0x156) + _0x40782a(0x10b))), MessageOffLine_1 = __importDefault(require(_0x40782a(0x156) + _0x40782a(0x10b) + _0x40782a(0x140))), Ticket_1 = __importDefault(require(_0x40782a(0x156) + _0x40782a(0x115))), logger_1 = require(_0x40782a(0x114) + _0x40782a(0x11e)), SendWhatsAppMessage_1 = __importDefault(require(_0x40782a(0x118) + _0x40782a(0x14a) + 'e')), socket_1 = require(_0x40782a(0x15b) + _0x40782a(0x12b)), UserMessagesLog_1 = __importDefault(require(_0x40782a(0x156) + _0x40782a(0x162) + _0x40782a(0x13b))), SendOffLineMessagesWbot = (_0x2acd75, _0x4fa790) => __awaiter(void (0x17c1 + 0x1b7f + 0x20 * -0x19a), void (0x7d * 0x15 + -0x1ac0 + 0x107f * 0x1), void (-0xc91 + 0x709 + 0x588), function* () {
        const _0x41067e = _0x40782a, _0x81dca7 = {};
        _0x81dca7[_0x41067e(0x109)] = function (_0xb43b05, _0xe37433) {
            return _0xb43b05 !== _0xe37433;
        }, _0x81dca7[_0x41067e(0x137)] = _0x41067e(0x142), _0x81dca7[_0x41067e(0x143)] = _0x41067e(0x148), _0x81dca7[_0x41067e(0x14b)] = _0x41067e(0x12a), _0x81dca7[_0x41067e(0x16d)] = _0x41067e(0x130), _0x81dca7[_0x41067e(0x12d)] = _0x41067e(0x14d), _0x81dca7[_0x41067e(0x111)] = _0x41067e(0x122), _0x81dca7[_0x41067e(0x107)] = _0x41067e(0x15d), _0x81dca7[_0x41067e(0x138)] = _0x41067e(0x152);
        const _0x6b6a56 = _0x81dca7, _0x259173 = {};
        _0x259173[_0x41067e(0x117)] = _0x4fa790;
        const _0x4cf296 = {};
        _0x4cf296[_0x41067e(0x113)] = [
            _0x6b6a56[_0x41067e(0x16d)],
            {
                'model': Ticket_1[_0x41067e(0x13c)],
                'as': _0x6b6a56[_0x41067e(0x12d)],
                'where': _0x259173,
                'include': [_0x6b6a56[_0x41067e(0x16d)]]
            },
            {
                'model': Message_1[_0x41067e(0x13c)],
                'as': _0x6b6a56[_0x41067e(0x111)],
                'include': [_0x6b6a56[_0x41067e(0x16d)]]
            }
        ], _0x4cf296[_0x41067e(0x150)] = [[
                _0x6b6a56[_0x41067e(0x107)],
                _0x6b6a56[_0x41067e(0x138)]
            ]];
        const _0x41b667 = yield MessageOffLine_1[_0x41067e(0x13c)][_0x41067e(0x155)](_0x4cf296), _0x3417e2 = (-0x238 + 0x1fa8 + 0x10 * -0x1d7, socket_1[_0x41067e(0x116)])();
        yield Promise[_0x41067e(0x11d)](_0x41b667[_0x41067e(0x10e)](_0x143310 => __awaiter(void (-0xa6 * -0x17 + -0x2570 + -0x3 * -0x782), void (0x2f * 0xc9 + -0x49d * 0x5 + -0xdd6), void (-0x2 * 0xb + -0x2 * -0xddb + -0x11 * 0x1a0), function* () {
            const _0x549ce1 = _0x41067e;
            logger_1[_0x549ce1(0x120)][_0x549ce1(0x154)](_0x549ce1(0x10c) + _0x549ce1(0x157) + ':\x20' + _0x143310);
            try {
                if (_0x6b6a56[_0x549ce1(0x109)](_0x143310[_0x549ce1(0x10f)], _0x6b6a56[_0x549ce1(0x137)]) && _0x143310[_0x549ce1(0x139)]) {
                    const _0x1873e0 = (-0x3b * 0x65 + -0x1cb7 + 0x33fe, path_1[_0x549ce1(0x16c)])(__dirname, '..', '..', '..', _0x6b6a56[_0x549ce1(0x143)]), _0x4847d9 = (-0x5a7 * 0x3 + -0x54d + 0x1642, path_1[_0x549ce1(0x16c)])(process[_0x549ce1(0x11f)][_0x549ce1(0x164) + _0x549ce1(0x131)] || _0x1873e0, _0x143310[_0x549ce1(0x139)]), _0x1cc7cf = whatsapp_web_js_1[_0x549ce1(0x147) + 'ia'][_0x549ce1(0x105) + 'th'](_0x4847d9), {number: _0x48e6f2} = _0x143310[_0x549ce1(0x14d)][_0x549ce1(0x130)], _0x1e5aa4 = {};
                    _0x1e5aa4[_0x549ce1(0x135) + _0x549ce1(0x129)] = !![];
                    const _0x576e77 = yield _0x2acd75[_0x549ce1(0x11b) + 'e'](_0x48e6f2 + '@' + (_0x143310[_0x549ce1(0x14d)][_0x549ce1(0x126)] ? 'g' : 'c') + _0x549ce1(0x166), _0x1cc7cf, _0x1e5aa4);
                    try {
                        if (_0x143310[_0x549ce1(0x110)]) {
                            const _0x29bc3f = {};
                            _0x29bc3f[_0x549ce1(0x13f)] = _0x576e77['id']['id'], _0x29bc3f[_0x549ce1(0x110)] = _0x143310[_0x549ce1(0x110)], _0x29bc3f[_0x549ce1(0x106)] = _0x143310[_0x549ce1(0x106)], yield UserMessagesLog_1[_0x549ce1(0x13c)][_0x549ce1(0x15a)](_0x29bc3f);
                        }
                    } catch (_0x3c4330) {
                        logger_1[_0x549ce1(0x120)][_0x549ce1(0x168)](_0x549ce1(0x16a) + _0x549ce1(0x159) + _0x549ce1(0x146) + _0x3c4330);
                    }
                } else {
                    const _0x4d1de4 = {};
                    _0x4d1de4[_0x549ce1(0x141)] = _0x143310[_0x549ce1(0x141)], _0x4d1de4[_0x549ce1(0x14d)] = _0x143310[_0x549ce1(0x14d)], _0x4d1de4[_0x549ce1(0x122)] = _0x143310[_0x549ce1(0x122)], _0x4d1de4[_0x549ce1(0x110)] = _0x143310[_0x549ce1(0x110)], yield (-0x112f + 0x7 * 0x167 + -0x75e * -0x1, SendWhatsAppMessage_1[_0x549ce1(0x13c)])(_0x4d1de4);
                }
                const _0x48353c = {};
                _0x48353c['id'] = _0x143310['id'];
                const _0x209d95 = {};
                _0x209d95[_0x549ce1(0x10d)] = _0x48353c, yield MessageOffLine_1[_0x549ce1(0x13c)][_0x549ce1(0x160)](_0x209d95), _0x3417e2['to'](_0x4fa790 + '-' + _0x143310[_0x549ce1(0x106)][_0x549ce1(0x16b)]())[_0x549ce1(0x15c)](_0x4fa790 + (_0x549ce1(0x134) + 'e'), {
                    'action': _0x6b6a56[_0x549ce1(0x14b)],
                    'message': _0x143310
                });
            } catch (_0x574a32) {
                logger_1[_0x549ce1(0x120)][_0x549ce1(0x168)](_0x549ce1(0x12f) + _0x549ce1(0x161) + _0x549ce1(0x145) + _0x574a32);
            }
        })));
    });
exports[_0x40782a(0x13c)] = SendOffLineMessagesWbot;