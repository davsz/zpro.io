'use strict';
const _0x7f8fee = _0x4e20;
(function (_0x48f13f, _0x435db4) {
    const _0xe98e35 = _0x4e20, _0x5c2508 = _0x48f13f();
    while (!![]) {
        try {
            const _0x426835 = -parseInt(_0xe98e35(0x17f)) / (0x26d + -0x407 + 0x19b) * (parseInt(_0xe98e35(0x1b2)) / (-0x1e5 * -0xa + 0x2 * 0x1253 + 0xa * -0x58f)) + parseInt(_0xe98e35(0x1a4)) / (-0xfbf + -0x37d + 0x133f * 0x1) * (parseInt(_0xe98e35(0x17b)) / (-0xd76 + -0x30 + -0x2 * -0x6d5)) + parseInt(_0xe98e35(0x1ad)) / (-0x115 + 0xd * -0x4 + 0x14e) * (parseInt(_0xe98e35(0x1c4)) / (0x2122 + 0x1954 * -0x1 + -0x7c8)) + parseInt(_0xe98e35(0x1bb)) / (-0x5 * -0xb3 + 0xe16 + -0x7 * 0x282) * (parseInt(_0xe98e35(0x13d)) / (-0xd44 + -0x180a + 0x2556)) + parseInt(_0xe98e35(0x178)) / (-0x552 * 0x3 + -0x1 * -0x264e + -0x164f) * (parseInt(_0xe98e35(0x1a6)) / (-0xe10 + 0xb44 + 0x6 * 0x79)) + parseInt(_0xe98e35(0x1b8)) / (-0x2026 + -0x233 * -0x4 + 0x1765) + -parseInt(_0xe98e35(0x18d)) / (-0x3 * -0x1df + 0x5b8 + -0xb49) * (parseInt(_0xe98e35(0x153)) / (0x59f * 0x3 + -0x1 * 0x17ab + 0x6db));
            if (_0x426835 === _0x435db4)
                break;
            else
                _0x5c2508['push'](_0x5c2508['shift']());
        } catch (_0xa4abd4) {
            _0x5c2508['push'](_0x5c2508['shift']());
        }
    }
}(_0x49d7, 0x1904 * -0xb + -0x27364 + 0x71d31));
var __awaiter = this && this[_0x7f8fee(0x145)] || function (_0x4286ad, _0x5048c4, _0x62c7e8, _0x2b042e) {
        const _0x3cd783 = _0x7f8fee, _0x38a48d = {
                'sgcMA': function (_0x4bb069, _0x48871f) {
                    return _0x4bb069(_0x48871f);
                },
                'uirUV': function (_0x2af51b, _0x334e54) {
                    return _0x2af51b instanceof _0x334e54;
                },
                'wyEFt': function (_0xd2d956, _0x4e3ffd) {
                    return _0xd2d956(_0x4e3ffd);
                },
                'LapgG': function (_0x45b31d, _0xe42739) {
                    return _0x45b31d(_0xe42739);
                },
                'duYLH': function (_0x430763, _0x3e91de) {
                    return _0x430763(_0x3e91de);
                },
                'fHeJJ': _0x3cd783(0x1c2),
                'ufjOI': function (_0x4ff31a, _0x3c89ae) {
                    return _0x4ff31a(_0x3c89ae);
                },
                'QWpQY': function (_0x5a3def, _0x3b1ae6) {
                    return _0x5a3def(_0x3b1ae6);
                }
            };
        function _0x46c96a(_0x56d70a) {
            const _0x30f67a = _0x3cd783, _0x230415 = {
                    'nXebF': function (_0x1a1514, _0x553f7e) {
                        const _0x145bae = _0x4e20;
                        return _0x38a48d[_0x145bae(0x1c8)](_0x1a1514, _0x553f7e);
                    }
                };
            return _0x38a48d[_0x30f67a(0x18a)](_0x56d70a, _0x62c7e8) ? _0x56d70a : new _0x62c7e8(function (_0x366694) {
                const _0x17c1c6 = _0x30f67a;
                _0x230415[_0x17c1c6(0x155)](_0x366694, _0x56d70a);
            });
        }
        return new (_0x62c7e8 || (_0x62c7e8 = Promise))(function (_0x4ab037, _0x21d1e4) {
            const _0x4a09fd = _0x3cd783, _0x1b6104 = {
                    'KdICZ': function (_0x14da00, _0x3e6d11) {
                        const _0x30edbf = _0x4e20;
                        return _0x38a48d[_0x30edbf(0x176)](_0x14da00, _0x3e6d11);
                    },
                    'XUPPb': _0x38a48d[_0x4a09fd(0x19b)],
                    'DkpvJ': function (_0x47f0df, _0x542f8e) {
                        const _0x2fa07f = _0x4a09fd;
                        return _0x38a48d[_0x2fa07f(0x1b1)](_0x47f0df, _0x542f8e);
                    }
                };
            function _0x5e405d(_0x4e027a) {
                const _0x18c30e = _0x4a09fd;
                try {
                    _0x38a48d[_0x18c30e(0x167)](_0x13850e, _0x2b042e[_0x18c30e(0x185)](_0x4e027a));
                } catch (_0x2f7ec0) {
                    _0x38a48d[_0x18c30e(0x1cd)](_0x21d1e4, _0x2f7ec0);
                }
            }
            function _0x2749db(_0x12ef49) {
                const _0x1c3185 = _0x4a09fd;
                try {
                    _0x1b6104[_0x1c3185(0x1b7)](_0x13850e, _0x2b042e[_0x1b6104[_0x1c3185(0x19e)]](_0x12ef49));
                } catch (_0x7ec75a) {
                    _0x1b6104[_0x1c3185(0x1b7)](_0x21d1e4, _0x7ec75a);
                }
            }
            function _0x13850e(_0x169f9f) {
                const _0x3a64da = _0x4a09fd;
                _0x169f9f[_0x3a64da(0x15b)] ? _0x1b6104[_0x3a64da(0x148)](_0x4ab037, _0x169f9f[_0x3a64da(0x137)]) : _0x1b6104[_0x3a64da(0x148)](_0x46c96a, _0x169f9f[_0x3a64da(0x137)])[_0x3a64da(0x1bc)](_0x5e405d, _0x2749db);
            }
            _0x38a48d[_0x4a09fd(0x1be)](_0x13850e, (_0x2b042e = _0x2b042e[_0x4a09fd(0x156)](_0x4286ad, _0x5048c4 || []))[_0x4a09fd(0x185)]());
        });
    }, __importDefault = this && this[_0x7f8fee(0x194) + _0x7f8fee(0x191)] || function (_0x40f882) {
        const _0x2288b6 = _0x7f8fee;
        return _0x40f882 && _0x40f882[_0x2288b6(0x168)] ? _0x40f882 : { 'default': _0x40f882 };
    };
function _0x49d7() {
    const _0xdb7218 = [
        'd\x20t.\x22lastI',
        '13Geruzo',
        '\x22,\x0a\x20\x20\x20\x20--t',
        'nXebF',
        'apply',
        'iny\x27\x20as\x20de',
        'nodeList\x27)',
        'w\x22\x20cf\x20on\x20t',
        'queueId',
        'done',
        'nner\x20join\x20',
        'ull)\x0a\x20\x20',
        'n\x20\x22ChatFlo',
        'defineProp',
        't\x0a\x20\x20\x20\x20t.id',
        '_elements(',
        '\x0a\x20\x20\x20\x20--con',
        'igurations',
        'l\x20as\x20time_',
        'cat(config',
        'l\x0a\x20\x20\x20\x20and\x20',
        'wyEFt',
        '__esModule',
        'fig->\x27conf',
        'ractionBot',
        'update',
        'from\x20\x22Tick',
        '../../help',
        'TAMP\x20-\x20con',
        '\x0a\x20\x20\x20\x20and\x20c',
        'all',
        'rations\x27->',
        '\x27notRespon',
        'payload',
        '\x20as\x20config',
        'd\x20cf.id\x20=\x20',
        'duYLH',
        'ls/Ticket',
        '279bGakzx',
        'nfiguratio',
        'query',
        '892872EHQyoY',
        'wId\x22\x0a\x20\x20\x20\x20i',
        'bxDBs',
        '\x20\x27pending\x27',
        '131hFlYsw',
        '\x20cross\x20joi',
        'seMessage\x27',
        '->\x27time\x27,\x20',
        '->\x27configu',
        '\x20inner\x20joi',
        'next',
        'map',
        'action,\x0a\x20\x20',
        'enantId\x22\x20=',
        'type_actio',
        'uirUV',
        'ets\x22\x20t\x0a\x20\x20\x20',
        'tions\x27->\x27n',
        '13741788jwIfOB',
        'erty',
        'g->\x27config',
        'NEExE',
        'fault',
        'n,\x0a\x20\x20\x20\x20con',
        '\x22Settings\x22',
        '__importDe',
        'axvcR',
        '.\x22tenantId',
        '.status,\x0a\x20',
        '\x20and\x20t.\x22us',
        'nteraction',
        '.\x22key\x22\x20=\x20\x27',
        'fHeJJ',
        '\x20t.\x22chatFl',
        'ponseMessa',
        'XUPPb',
        '\x27configura',
        'nantId\x22\x20an',
        'tId\x22\x20and\x20s',
        't.\x22chatFlo',
        ',\x0a\x20\x20\x20\x20--t.',
        '3rqphMh',
        'userId',
        '147990vtMOtk',
        'json_array',
        '\x20cf.\x22tenan',
        'e\x0a\x20\x20\x20\x20and\x20',
        '.\x22lastInte',
        'RENT_TIMES',
        '\x27type\x27\x20as\x20',
        '5lTuVIV',
        'ge\x27->\x27dest',
        'n\x20lateral\x20',
        'type',
        'ufjOI',
        '484fNPqMm',
        '\x20\x20config->',
        'tenantId',
        '\x20\x20\x20--confi',
        'Bot\x22\x20<\x20CUR',
        'KdICZ',
        '2272358qLLGWc',
        '\x20s\x20on\x20s.\x22t',
        'ers/socket',
        '118258spPTVn',
        'then',
        'owId\x22::tex',
        'QWpQY',
        'ctive\x27\x0a\x20\x20\x20',
        '\x22\x20=\x20cf.\x22te',
        'ticket:upd',
        'throw',
        't.status\x20=',
        '505266AoaGhT',
        'BWjHo',
        '\x0a\x20\x20\x20\x20selec',
        'cf.flow->\x27',
        'sgcMA',
        'findByPk',
        'd\x22\x20is\x20null',
        'Message\x27->',
        'ate',
        'LapgG',
        'value',
        'erId\x22\x20is\x20n',
        'BAONp',
        'stiny\x0a\x20\x20\x20\x20',
        'destiny',
        't\x20=\x20s.valu',
        '208JsMORk',
        '(t.\x22queueI',
        '\x27\x20MINUTES\x27',
        ')::interva',
        '\x27->\x27notRes',
        'default',
        'botTicketA',
        'QueryTypes',
        '__awaiter',
        'Emit',
        'onfig->>\x27t',
        'DkpvJ',
        'ype\x27\x20=\x20\x27co',
        'sequelize',
        '\x0a\x20\x20\x20\x20where',
        'otResponse',
        '../../mode',
        'urations\x27,',
        'SELECT',
        'ns\x27\x0a\x20\x20\x20\x20an',
        '\x22contactId'
    ];
    _0x49d7 = function () {
        return _0xdb7218;
    };
    return _0x49d7();
}
const _0x1c9302 = {};
_0x1c9302[_0x7f8fee(0x137)] = !![], Object[_0x7f8fee(0x15f) + _0x7f8fee(0x18e)](exports, _0x7f8fee(0x168), _0x1c9302);
function _0x4e20(_0x4baf93, _0x2dfe36) {
    const _0x719161 = _0x49d7();
    return _0x4e20 = function (_0x22d741, _0x26f098) {
        _0x22d741 = _0x22d741 - (0x85d * 0x1 + -0x1afb + 0x1 * 0x13d5);
        let _0x24c216 = _0x719161[_0x22d741];
        return _0x24c216;
    }, _0x4e20(_0x4baf93, _0x2dfe36);
}
const sequelize_1 = require(_0x7f8fee(0x14a)), Ticket_1 = __importDefault(require(_0x7f8fee(0x14d) + _0x7f8fee(0x177))), socketEmit_1 = __importDefault(require(_0x7f8fee(0x16d) + _0x7f8fee(0x1ba) + _0x7f8fee(0x146))), FindUpdateTicketsInactiveChatBot = () => __awaiter(void (0x2 * -0x211 + 0xd6 * -0x16 + 0x1686), void (-0x149b + 0x14 * -0x18a + 0x1121 * 0x3), void (0x1fb * -0x11 + 0x20ff * -0x1 + 0x42aa), function* () {
        const _0x547e0c = _0x7f8fee, _0x470013 = {};
        _0x470013[_0x547e0c(0x139)] = function (_0x370b5a, _0x125bcc) {
            return _0x370b5a == _0x125bcc;
        }, _0x470013[_0x547e0c(0x190)] = function (_0x3fc5ec, _0x311873) {
            return _0x3fc5ec == _0x311873;
        }, _0x470013[_0x547e0c(0x195)] = _0x547e0c(0x1c1) + _0x547e0c(0x1cc), _0x470013[_0x547e0c(0x17d)] = function (_0x142855, _0x243223) {
            return _0x142855 === _0x243223;
        }, _0x470013[_0x547e0c(0x1c5)] = function (_0x631230, _0x2c61be) {
            return _0x631230 === _0x2c61be;
        };
        const _0x288043 = _0x470013;
        var _0x2f4270;
        const _0x654a0d = _0x547e0c(0x1c6) + _0x547e0c(0x160) + _0x547e0c(0x1a3) + _0x547e0c(0x151) + _0x547e0c(0x154) + _0x547e0c(0x1aa) + _0x547e0c(0x16a) + _0x547e0c(0x154) + _0x547e0c(0x197) + _0x547e0c(0x1b5) + _0x547e0c(0x18f) + _0x547e0c(0x14e) + _0x547e0c(0x162) + _0x547e0c(0x165) + _0x547e0c(0x183) + _0x547e0c(0x171) + _0x547e0c(0x172) + _0x547e0c(0x181) + _0x547e0c(0x182) + _0x547e0c(0x13f) + _0x547e0c(0x140) + _0x547e0c(0x164) + _0x547e0c(0x187) + _0x547e0c(0x1b3) + _0x547e0c(0x19f) + _0x547e0c(0x18c) + _0x547e0c(0x14c) + _0x547e0c(0x1cb) + _0x547e0c(0x1ac) + _0x547e0c(0x189) + _0x547e0c(0x192) + _0x547e0c(0x169) + _0x547e0c(0x163) + _0x547e0c(0x141) + _0x547e0c(0x19d) + _0x547e0c(0x1ae) + _0x547e0c(0x157) + _0x547e0c(0x13a) + _0x547e0c(0x16c) + _0x547e0c(0x18b) + _0x547e0c(0x184) + _0x547e0c(0x15e) + _0x547e0c(0x159) + _0x547e0c(0x196) + _0x547e0c(0x1c0) + _0x547e0c(0x1a0) + _0x547e0c(0x175) + _0x547e0c(0x1a2) + _0x547e0c(0x17c) + _0x547e0c(0x15c) + _0x547e0c(0x193) + _0x547e0c(0x1b9) + _0x547e0c(0x188) + _0x547e0c(0x1a8) + _0x547e0c(0x1a1) + _0x547e0c(0x19a) + _0x547e0c(0x143) + _0x547e0c(0x1bf) + _0x547e0c(0x180) + _0x547e0c(0x1af) + _0x547e0c(0x1a7) + _0x547e0c(0x161) + _0x547e0c(0x1c7) + _0x547e0c(0x158) + _0x547e0c(0x174) + _0x547e0c(0x14b) + _0x547e0c(0x19c) + _0x547e0c(0x1bd) + _0x547e0c(0x13c) + _0x547e0c(0x1a9) + _0x547e0c(0x1c3) + _0x547e0c(0x17e) + _0x547e0c(0x16f) + _0x547e0c(0x147) + _0x547e0c(0x149) + _0x547e0c(0x179) + _0x547e0c(0x150) + _0x547e0c(0x152) + _0x547e0c(0x199) + _0x547e0c(0x1b6) + _0x547e0c(0x1ab) + _0x547e0c(0x16e) + _0x547e0c(0x165) + _0x547e0c(0x183) + _0x547e0c(0x171) + _0x547e0c(0x172) + _0x547e0c(0x181) + _0x547e0c(0x182) + _0x547e0c(0x13f) + _0x547e0c(0x140) + _0x547e0c(0x166) + _0x547e0c(0x13e) + _0x547e0c(0x1ca) + _0x547e0c(0x198) + _0x547e0c(0x138) + _0x547e0c(0x15d), _0x32c09e = {};
        _0x32c09e[_0x547e0c(0x1b0)] = sequelize_1[_0x547e0c(0x144)][_0x547e0c(0x14f)];
        const _0x3e68e2 = yield _0x288043[_0x547e0c(0x17d)](_0x2f4270 = Ticket_1[_0x547e0c(0x142)][_0x547e0c(0x14a)], null) || _0x288043[_0x547e0c(0x1c5)](_0x2f4270, void (0x154 + -0x2 * 0xde5 + 0x1a76)) ? void (-0x75a * 0x5 + 0x54f + -0x53 * -0x61) : _0x2f4270[_0x547e0c(0x17a)](_0x654a0d, _0x32c09e);
        Promise[_0x547e0c(0x170)](_0x3e68e2[_0x547e0c(0x186)](_0x378c85 => __awaiter(void (0x1 * -0x68e + 0x14 * 0xe9 + -0x3 * 0x3e2), void (0xdca + -0x299 + -0xb31), void (-0x15f * 0x1 + -0x1c0b + 0x1d6a), function* () {
            const _0x47ee14 = _0x547e0c;
            if (!_0x378c85[_0x47ee14(0x13b)])
                return;
            const _0x4cbfb0 = yield Ticket_1[_0x47ee14(0x142)][_0x47ee14(0x1c9)](_0x378c85['id']);
            if (_0x4cbfb0) {
                const _0x2f0fe1 = {
                    'chatFlowId': null,
                    'stepChatFlow': null,
                    'botRetries': 0x0,
                    'lastInteractionBot': new Date()
                };
                _0x288043[_0x47ee14(0x139)](_0x378c85[_0x47ee14(0x189) + 'n'], 0xb6 * -0x4 + 0x46 * 0x7 + 0x1 * 0xef) && (_0x2f0fe1[_0x47ee14(0x15a)] = _0x378c85[_0x47ee14(0x13b)]);
                _0x288043[_0x47ee14(0x190)](_0x378c85[_0x47ee14(0x189) + 'n'], -0x1cdb + 0x24e9 + -0x80c * 0x1) && (_0x2f0fe1[_0x47ee14(0x1a5)] = _0x378c85[_0x47ee14(0x13b)]);
                yield _0x4cbfb0[_0x47ee14(0x16b)](_0x2f0fe1);
                const _0x2cee47 = {};
                _0x2cee47[_0x47ee14(0x1b4)] = _0x4cbfb0[_0x47ee14(0x1b4)], _0x2cee47[_0x47ee14(0x1b0)] = _0x288043[_0x47ee14(0x195)], _0x2cee47[_0x47ee14(0x173)] = _0x4cbfb0, (0x1106 + -0x1 * -0x21cf + 0x7 * -0x743, socketEmit_1[_0x47ee14(0x142)])(_0x2cee47);
            }
        })));
    });
exports[_0x7f8fee(0x142)] = FindUpdateTicketsInactiveChatBot;